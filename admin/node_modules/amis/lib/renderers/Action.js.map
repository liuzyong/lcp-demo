{
    "version": 3,
    "file": "Action.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Action.tsx"
    ],
    "names": [],
    "mappings": ";;;;AAAA,wDAA0B;AAC1B,sCAAmD;AACnD,oCAAoC;AACpC,wEAA0C;AAC1C,6DAA+B;AAC/B,IAAM,WAAW,GAAG;IAClB,QAAQ;IACR,QAAQ;IACR,KAAK;IACL,MAAM;IACN,aAAa;IACb,SAAS;IACT,aAAa;IACb,WAAW;IACX,UAAU;IACV,UAAU;IACV,MAAM;IACN,OAAO;IACP,SAAS;IACT,UAAU;IACV,KAAK;IACL,OAAO;IACP,kBAAkB;IAClB,IAAI;IACJ,SAAS;IACT,UAAU;IACV,MAAM;IACN,YAAY;IACZ,OAAO;IACP,MAAM;IACN,QAAQ;IACR,QAAQ;IACR,OAAO;IACP,UAAU;IACV,WAAW;IACX,OAAO;IACP,MAAM;IACN,SAAS;IACT,iBAAiB;CAClB,CAAC;AACF,mCAAwC;AACxC,kCAAiD;AACjD,0CAAyC;AAgCzC,IAAM,WAAW,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;AAElD;IAA4B,kCAA4B;IAAxD;;IAoGA,CAAC;IAtFC,6BAAY,GAAZ,UAAa,CAAwB;QAC7B,IAAA,KAAgC,IAAI,CAAC,KAAK,EAAzC,QAAQ,cAAA,EAAE,OAAO,aAAA,EAAE,QAAQ,cAAc,CAAC;QAEjD,IAAM,MAAM,GAAQ,OAAO,IAAI,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAEtD,IAAI,QAAQ,IAAI,CAAC,CAAC,kBAAkB,EAAE,IAAI,MAAM,KAAK,KAAK,IAAI,CAAC,QAAQ,EAAE;YACvE,OAAO;SACR;QAED,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAM,MAAM,GAAG,cAAI,CAAC,IAAI,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;QAC7C,QAAQ,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;IACtB,CAAC;IAED,uBAAM,GAAN;;QACQ,IAAA,KAyBF,IAAI,CAAC,KAAK,EAxBZ,IAAI,UAAA,EACJ,KAAK,WAAA,EACL,IAAI,UAAA,EACJ,aAAa,mBAAA,EACb,OAAO,aAAA,EACP,IAAI,UAAA,EACJ,KAAK,WAAA,EACL,QAAQ,cAAA,EACR,KAAK,WAAA,EACL,SAAS,eAAA,EACT,cAAc,oBAAA,EACd,OAAO,aAAA,EACP,WAAW,iBAAA,EACX,gBAAgB,sBAAA,EAChB,UAAU,gBAAA,EACV,IAAI,UAAA,EACJ,IAAI,UAAA,EACJ,eAAe,qBAAA,EACf,YAAY,kBAAA,EACZ,UAAU,gBAAA,EACV,MAAM,YAAA,EACN,WAAW,iBAAA,EACX,gBAAgB,sBAAA,EACJ,EAAE,gBACF,CAAC;QAEf,IAAI,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC;QAExB,IAAI,UAAU,KAAK,MAAM,IAAI,CAAC,QAAQ,IAAI,IAAI,IAAI,YAAY,EAAE;YAC9D,QAAQ,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;SAC/B;QAED,OAAO,UAAU,CAAC,CAAC,CAAC,CAClB,qCACE,SAAS,EAAE,EAAE,CAAC,SAAS;gBACrB,GAAC,eAAe,IAAI,WAAW,IAAG,QAAQ;gBAC1C,iBAAa,GAAE,QAAQ;oBACvB,EACF,OAAO,EAAE,IAAI,CAAC,YAAY;YAEzB,KAAK;YACL,IAAI,CAAC,CAAC,CAAC,qCAAG,SAAS,EAAE,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,GAAI,CAAC,CAAC,CAAC,IAAI,CACtD,CACL,CAAC,CAAC,CAAC,CACF,8BAAC,gBAAM,IACL,SAAS,EAAE,EAAE,CAAC,SAAS;gBACrB,GAAC,eAAe,IAAI,WAAW,IAAG,QAAQ;oBAC1C,EACF,IAAI,EAAE,IAAI,EACV,KAAK,EACH,WAAW,IAAI,QAAQ;gBACrB,CAAC,CAAC,WAAW;gBACb,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,EAEhD,OAAO,EAAE,IAAI,CAAC,YAAY,EAC1B,IAAI,EAAE,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,EAC1D,QAAQ,EAAE,QAAQ,EAClB,cAAc,EAAE,cAAc,EAC9B,OAAO,EAAE,uBAAc,CAAC,OAAO,EAAE,IAAI,CAAC,EACtC,WAAW,EAAE,uBAAc,CAAC,WAAW,EAAE,IAAI,CAAC,EAC9C,SAAS,EAAE,gBAAgB,EAC3B,gBAAgB,EAAE,gBAAgB,EAClC,KAAK,EAAE,KAAK,EACZ,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,IAAI,KAAK,KAAK,MAAM,CAAC;YAE/C,KAAK,CAAC,CAAC,CAAC,4CAAO,YAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAQ,CAAC,CAAC,CAAC,IAAI;YACjD,IAAI,CAAC,CAAC,CAAC,qCAAG,SAAS,EAAE,EAAE,CAAC,aAAa,EAAE,IAAI,EAAE,aAAa,CAAC,GAAI,CAAC,CAAC,CAAC,IAAI,CAChE,CACV,CAAC;IACJ,CAAC;;IAlGM,mBAAY,GAGf;QACF,IAAI,EAAE,QAAQ;QACd,cAAc,EAAE,QAAQ;QACxB,gBAAgB,EAAE,QAAQ;QAC1B,eAAe,EAAE,WAAW;KAC7B,CAAC;IAKF;QADC,iBAAQ;;qEACO,eAAK,oBAAL,eAAK,CAAC,UAAU;;8CAY/B;IA0EH,aAAC;CAAA,AApGD,CAA4B,eAAK,CAAC,SAAS,GAoG1C;AApGY,wBAAM;AAsGnB,kBAAe,iBAAS,CAAC,MAAM,CAAC,CAAC;AAMjC;IAAoC,0CAUnC;IAVD;;IA6CA,CAAC;IAjCC,qCAAY,GAAZ,UAAa,CAAsC,EAAE,MAAW;QACxD,IAAA,KAAwB,IAAI,CAAC,KAAK,EAAjC,GAAG,SAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAc,CAAC;QAEzC,IAAI,MAAM,CAAC,WAAW,IAAI,GAAG,CAAC,OAAO,EAAE;YACrC,GAAG;iBACA,OAAO,CAAC,YAAM,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;iBACzC,IAAI,CAAC,UAAC,SAAkB,IAAK,OAAA,SAAS,IAAI,QAAQ,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,EAAtC,CAAsC,CAAC,CAAC;SACzE;aAAM;YACL,QAAQ,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;SAC3B;IACH,CAAC;IAGD,wCAAe,GAAf,UAAgB,IAAY;QACpB,IAAA,KAAc,IAAI,CAAC,KAAK,EAAvB,GAAG,SAAA,EAAE,IAAI,UAAc,CAAC;QAC/B,OAAO,GAAG,CAAC,YAAY,CAAC,YAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;IAC9C,CAAC;IAED,+BAAM,GAAN;QACE,IAAM,KAAwC,IAAI,CAAC,KAAK,EAAjD,GAAG,SAAA,EAAE,QAAQ,cAAA,EAAE,WAAW,iBAAA,EAAK,IAAI,sBAApC,kCAAqC,CAAa,CAAC;QAEzD,OAAO,CACL,8BAAC,MAAM,uBACD,IAAI,IACR,QAAQ,EAAE,QAAQ,IAAI,WAAW,EACjC,QAAQ,EAAE,IAAI,CAAC,YAAY,EAC3B,YAAY,EAAE,IAAI,CAAC,eAAe,EAClC,gBAAgB,EACd,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC,SAAS,IAE3D,CACH,CAAC;IACJ,CAAC;;IAhCD;QADC,iBAAQ;;;;sDAWR;IAGD;QADC,iBAAQ;;;;yDAIR;IA5BU,cAAc;QAJ1B,kBAAQ,CAAC;YACR,IAAI,EAAE,eAAe;YACrB,IAAI,EAAE,QAAQ;SACf,CAAC;OACW,cAAc,CA6C1B;IAAD,qBAAC;CAAA,AA7CD,CAAoC,eAAK,CAAC,SAAS,GA6ClD;AA7CY,wCAAc;AAmD3B;IAAoC,0CAAc;IAAlD;;IAAoD,CAAC;IAAxC,cAAc;QAJ1B,kBAAQ,CAAC;YACR,IAAI,EAAE,eAAe;YACrB,IAAI,EAAE,QAAQ;SACf,CAAC;OACW,cAAc,CAA0B;IAAD,qBAAC;CAAA,AAArD,CAAoC,cAAc,GAAG;AAAxC,wCAAc;AAM3B;IAAoC,0CAAc;IAAlD;;IAAoD,CAAC;IAAxC,cAAc;QAJ1B,kBAAQ,CAAC;YACR,IAAI,EAAE,eAAe;YACrB,IAAI,EAAE,QAAQ;SACf,CAAC;OACW,cAAc,CAA0B;IAAD,qBAAC;CAAA,AAArD,CAAoC,cAAc,GAAG;AAAxC,wCAAc;AAM3B;IAAmC,yCAAc;IAAjD;;IAAmD,CAAC;IAAvC,aAAa;QAJzB,kBAAQ,CAAC;YACR,IAAI,EAAE,cAAc;YACpB,IAAI,EAAE,OAAO;SACd,CAAC;OACW,aAAa,CAA0B;IAAD,oBAAC;CAAA,AAApD,CAAmC,cAAc,GAAG;AAAvC,sCAAa",
    "sourcesContent": [
        "import React from 'react';\nimport {Renderer, RendererProps} from '../factory';\nimport {filter} from '../utils/tpl';\nimport Button from '../components/Button';\nimport pick from 'lodash/pick';\nconst ActionProps = [\n  'dialog',\n  'drawer',\n  'url',\n  'link',\n  'confirmText',\n  'tooltip',\n  'disabledTip',\n  'className',\n  'asyncApi',\n  'redirect',\n  'size',\n  'level',\n  'primary',\n  'feedback',\n  'api',\n  'blank',\n  'tooltipPlacement',\n  'to',\n  'content',\n  'required',\n  'type',\n  'actionType',\n  'label',\n  'icon',\n  'reload',\n  'target',\n  'close',\n  'messages',\n  'mergeData',\n  'index',\n  'copy',\n  'payload',\n  'requireSelected'\n];\nimport {filterContents} from './Remark';\nimport {ClassNamesFn, themeable} from '../theme';\nimport {autobind} from '../utils/helper';\n\nexport interface ActionProps {\n  className?: string;\n  type: 'submit' | 'reset' | 'button';\n  actionType?: string;\n  label?: string;\n  icon?: string;\n  iconClassName?: string;\n  size?: 'xs' | 'sm' | 'md' | 'lg';\n  level?: 'info' | 'success' | 'warning' | 'danger' | 'link';\n  onAction?: (e: React.MouseEvent<any> | void | null, action: object) => void;\n  isCurrentUrl?: (link: string) => boolean;\n  onClick?: (e: React.MouseEvent<any>, props: any) => void;\n  primary?: boolean;\n  activeClassName: string;\n  componentClass: React.ReactType;\n  tooltipPlacement: 'bottom' | 'top' | 'right' | 'left' | undefined;\n  disabled?: boolean;\n  block?: boolean;\n  data?: any;\n  link?: string;\n  disabledTip?: string;\n  tooltip?: any;\n  isMenuItem?: boolean;\n  active?: boolean;\n  activeLevel?: string;\n  tooltipContainer?: any;\n  classPrefix: string;\n  classnames: ClassNamesFn;\n}\n\nconst allowedType = ['button', 'submit', 'reset'];\n\nexport class Action extends React.Component<ActionProps> {\n  static defaultProps: Pick<\n    ActionProps,\n    'type' | 'componentClass' | 'tooltipPlacement' | 'activeClassName'\n  > = {\n    type: 'button',\n    componentClass: 'button',\n    tooltipPlacement: 'bottom',\n    activeClassName: 'is-active'\n  };\n\n  dom: any;\n\n  @autobind\n  handleAction(e: React.MouseEvent<any>) {\n    const {onAction, onClick, disabled} = this.props;\n\n    const result: any = onClick && onClick(e, this.props);\n\n    if (disabled || e.isDefaultPrevented() || result === false || !onAction) {\n      return;\n    }\n\n    e.preventDefault();\n    const action = pick(this.props, ActionProps);\n    onAction(e, action);\n  }\n\n  render() {\n    const {\n      type,\n      label,\n      icon,\n      iconClassName,\n      primary,\n      size,\n      level,\n      disabled,\n      block,\n      className,\n      componentClass,\n      tooltip,\n      disabledTip,\n      tooltipPlacement,\n      actionType,\n      link,\n      data,\n      activeClassName,\n      isCurrentUrl,\n      isMenuItem,\n      active,\n      activeLevel,\n      tooltipContainer,\n      classnames: cx\n    } = this.props;\n\n    let isActive = !!active;\n\n    if (actionType === 'link' && !isActive && link && isCurrentUrl) {\n      isActive = isCurrentUrl(link);\n    }\n\n    return isMenuItem ? (\n      <a\n        className={cx(className, {\n          [activeClassName || 'is-active']: isActive,\n          'is-disabled': disabled\n        })}\n        onClick={this.handleAction}\n      >\n        {label}\n        {icon ? <i className={cx('Button-icon', icon)} /> : null}\n      </a>\n    ) : (\n      <Button\n        className={cx(className, {\n          [activeClassName || 'is-active']: isActive\n        })}\n        size={size}\n        level={\n          activeLevel && isActive\n            ? activeLevel\n            : level || (primary ? 'primary' : undefined)\n        }\n        onClick={this.handleAction}\n        type={type && ~allowedType.indexOf(type) ? type : 'button'}\n        disabled={disabled}\n        componentClass={componentClass}\n        tooltip={filterContents(tooltip, data)}\n        disabledTip={filterContents(disabledTip, data)}\n        placement={tooltipPlacement}\n        tooltipContainer={tooltipContainer}\n        block={block}\n        iconOnly={!!(icon && !label && level !== 'link')}\n      >\n        {label ? <span>{filter(label, data)}</span> : null}\n        {icon ? <i className={cx('Button-icon', icon, iconClassName)} /> : null}\n      </Button>\n    );\n  }\n}\n\nexport default themeable(Action);\n\n@Renderer({\n  test: /(^|\\/)action$/,\n  name: 'action'\n})\nexport class ActionRenderer extends React.Component<\n  RendererProps &\n    Omit<ActionProps, 'onAction' | 'isCurrentUrl' | 'tooltipContainer'> & {\n      onAction: (\n        e: React.MouseEvent<any> | void | null,\n        action: object,\n        data: any\n      ) => void;\n      btnDisabled?: boolean;\n    }\n> {\n  @autobind\n  handleAction(e: React.MouseEvent<any> | void | null, action: any) {\n    const {env, onAction, data} = this.props;\n\n    if (action.confirmText && env.confirm) {\n      env\n        .confirm(filter(action.confirmText, data))\n        .then((confirmed: boolean) => confirmed && onAction(e, action, data));\n    } else {\n      onAction(e, action, data);\n    }\n  }\n\n  @autobind\n  isCurrentAction(link: string) {\n    const {env, data} = this.props;\n    return env.isCurrentUrl(filter(link, data));\n  }\n\n  render() {\n    const {env, disabled, btnDisabled, ...rest} = this.props;\n\n    return (\n      <Action\n        {...rest}\n        disabled={disabled || btnDisabled}\n        onAction={this.handleAction}\n        isCurrentUrl={this.isCurrentAction}\n        tooltipContainer={\n          env.getModalContainer ? env.getModalContainer : undefined\n        }\n      />\n    );\n  }\n}\n\n@Renderer({\n  test: /(^|\\/)button$/,\n  name: 'button'\n})\nexport class ButtonRenderer extends ActionRenderer {}\n\n@Renderer({\n  test: /(^|\\/)submit$/,\n  name: 'submit'\n})\nexport class SubmitRenderer extends ActionRenderer {}\n\n@Renderer({\n  test: /(^|\\/)reset$/,\n  name: 'reset'\n})\nexport class ResetRenderer extends ActionRenderer {}\n"
    ]
}