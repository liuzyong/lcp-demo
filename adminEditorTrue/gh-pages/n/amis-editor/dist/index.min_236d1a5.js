define('39ea9ea', function(require, exports, module) {

  !function(e,t){for(var a in t)e[a]=t[a]}(exports,function(e){var t={};function a(l){if(t[l])return t[l].exports;var i=t[l]={i:l,l:!1,exports:{}};return e[l].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(l,i,function(t){return e[t]}.bind(null,i));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=36)}([function(e,t){e.exports=require("849c8c1")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveEditor=t.Editor=t.getEditorByName=t.editors=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(5),o=l.__importDefault(a(41)),r=a(14),s=a(4),p=l.__importDefault(a(13)),c=n.utils.guid,d=n.utils.__uri,m=a(15),u=l.__importDefault(a(42));t.editors=[],t.getEditorByName=u.default((function(e){return r(t.editors,(function(t){return t.rendererName===e}))})),t.Editor=function(e,a,o){var r=n.getRendererByName(e);return function(n){if(!r)throw new Error('The Renderer with name "'+e+'" not found!');var s=r.component;if(o){for(var p=s;p.ComposedComponent;)p=p.ComposedComponent;var c=p.prototype;Object.keys(o).forEach((function(e){"render"===e&&console.warn("不要 hack render，重新渲染可能不会执行到。");var t=c[e],a=o[e];"function"==typeof a&&(c[e]=function(){var e=this.super;this.super=t.bind(this);var l=a.apply(this,arguments);return this.super=e,l})}))}var m=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.Renderer=s,a.rendererName=e,a}return l.__extends(a,t),a.displayName=n.displayName,a.propsList=(s&&s.propsList||[]).concat(["$$contentMode","$$replaceable","$$removable","$$codeEditable","$$movable","$$acceptChild","$$childenOrder"]),a}(n),u=i.default.forwardRef((function(e,t){return i.default.createElement(m,l.__assign({},e,{key:e.$$id,ref:t}))}));return u.propsList=m.propsList,t.editors.push(l.__assign(l.__assign({},a),{image:a&&a.image||d("./editors/images/nope.jpg"),renderer:s,rendererName:e,component:u})),m}};var h={};function b(e){if(e&&!e.$$id&&(e.$$id=c()),h[e.$$id])return h[e.$$id];var a=r(t.editors,(function(t){return t.renderer===e}));return a&&(h[e.$$id]=a),a}t.resolveEditor=b;var f=function(e){function t(t){var a,i=e.call(this,t)||this;i.id=c(),i.dragEnterCount=0,i.env=l.__assign({updateLocation:function(e,t){},jumpTo:function(e){},fetcher:function(e){var t=e.url,a=e.method,l=e.data,i=e.config;return(i=i||{}).withCredentials=!0,i.cancelExecutor&&(i.cancelToken=new o.default.CancelToken(i.cancelExecutor)),"post"!==a&&"put"!==a&&"patch"!==a?(l&&(i.params=l),o.default[a](t,i)):(l&&l instanceof FormData||!l||"string"==typeof l||l instanceof Blob||l instanceof ArrayBuffer||(l=JSON.stringify(l),i.headers=i.headers||{},i.headers["Content-Type"]="application/json"),o.default[a](t,l,i))},isCancel:function(e){return o.default.isCancel(e)},notify:function(e,t){i.props.editable?console.warn("[Notify]",e,t):n.toast[e]?n.toast[e](t,"error"===e?"系统错误":"系统消息"):console.warn("[Notify]",e,t)},alert:n.alert,confirm:n.confirm,theme:i.props.theme,session:"preview-"+i.id,rendererResolver:i.rendererResolver.bind(i)},t.amis_env),i.env.fetcher=(a=i.env.fetcher,function(){var e=function(){return{items:[{id:1,engine:"mocked",browser:"mocked",platform:"mocked",version:"mocked",grade:"mocked"}]}};return a.apply(this,arguments).then((function(t){return!d.props.editable||t.data&&!t.data.status||(t.data={status:0,msg:"",data:e()}),t})).catch((function(t){if(d.props.editable)return{status:0,msg:"",data:e()};throw t}))}),i.widgetsLayerRef=i.widgetsLayerRef.bind(i);var r=t.schema,p=t.schemaFilter;p&&(r=p(r)||r),i.state={ready:!1,schema:t.editable?r:s.JSONPipeOut(r)},i.handleClick=i.handleClick.bind(i),i.handleFocusIn=i.handleFocusIn.bind(i);var d=i;return i}return l.__extends(t,e),t.prototype.componentDidMount=function(){var e=m.findDOMNode(this);e.addEventListener("click",this.handleClick),e.addEventListener("focusin",this.handleFocusIn),e.addEventListener("mouseover",this.handeMouseOver),this.unSensor=n.resizeSensor(e,this.props.onResize)},t.prototype.componentWillReceiveProps=function(e){var t=this.props;if(t.schema!==e.schema||t.editable!==e.editable){var a=e.schema,l=e.schemaFilter;l&&(a=l(a)||a),this.setState({schema:e.editable?a:s.JSONPipeOut(a)})}},t.prototype.componentWillUnmount=function(){var e=this,t=m.findDOMNode(this);this.unSensor&&this.unSensor(),t.removeEventListener("click",this.handleClick),t.removeEventListener("mouseover",this.handeMouseOver),t.removeEventListener("focusin",this.handleFocusIn),setTimeout((function(){return n.clearStoresCache(["preview-"+e.id])}),500)},t.prototype.widgetsLayerRef=function(e){var t=this.props.widgetsLayerRef;t&&t(e),this.widgetsLayer=e,this.setState({ready:!!e})},t.prototype.handleClick=function(e){var t=this.props.onClick;t&&t(e)},t.prototype.handleFocusIn=function(e){this.widgetsLayer&&this.widgetsLayer.contains(e.target)||e.target.blur()},t.prototype.handeMouseOver=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.rendererResolver=function(e,t,a){var i=this.props,o=i.editable,r=i.isEditorEnabled,s=n.resolveRenderer(e,t,a);if(!1!==o&&!1!==a.$$editable&&s&&t.$$id){var p=b(s.component);p&&(!r||r(e,p,s,t))&&(s=l.__assign(l.__assign({},s),{component:p.component}))}return s},t.prototype.handleDragEnter=function(e){if(this.dragEnterCount++,1===this.dragEnterCount){var t=this.props.onDragEnter;t&&t(e)}},t.prototype.handleDragLeave=function(e){if(this.dragEnterCount--,0===this.dragEnterCount){var t=this.props.onDragLeave;t&&t(e)}},t.prototype.handleDrop=function(e){this.dragEnterCount=0;var t=this.props.onDrop;t&&t(e)},t.prototype.reset=function(){this.dragEnterCount=0},t.prototype.render=function(){var e=this.props,t=(e.schema,e.schemaFilter,e.editable),a=e.pathPrefix,o=e.className,r=(e.history,e.onMouseLeave),s=e.onMouseMove,c=(e.onClick,e.onDragOver),d=(e.onDragEnter,e.onDragLeave,e.onDrop,l.__rest(e,["schema","schemaFilter","editable","pathPrefix","className","history","onMouseLeave","onMouseMove","onClick","onDragOver","onDragEnter","onDragLeave","onDrop"]));return i.default.createElement("div",{className:p.default("ae-Preview",o),onMouseMove:s,onMouseLeave:r,onDragOver:c,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.state.ready?n.render(this.state.schema,l.__assign(l.__assign({},d),{key:t?"edit-mode":"preview-mode"}),this.env,a):null,i.default.createElement("div",{className:"ae-Preview-widgets",ref:this.widgetsLayerRef}))},t.defaultProps={onResize:function(){}},l.__decorate([s.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleDragEnter",null),l.__decorate([s.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleDragLeave",null),l.__decorate([s.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleDrop",null),t}(i.default.Component);t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultValue=t.valuePipeOut=t.getSchemaTplByName=void 0;var l,i,n=a(0),o=a(4),r=a(14),s=a(5),p={formItemName:{label:"字段名",name:"name",type:"text"},formItemMode:{label:"展示模式",name:"mode",type:"button-group",size:"sm",option:"继承",pipeIn:c(""),options:[{label:"继承",value:""},{label:"正常",value:"normal"},{label:"内联",value:"inline"},{label:"水平",value:"horizontal"}]},fontItemInline:{label:"表单项内联",name:"inline",type:"switch",visibleOn:'data.$$formMode != "inline" && data.mode != "inline"',mode:"inline",className:"w-full",pipeIn:c(!1)},formItemSize:{name:"size",label:"控件尺寸",type:"button-group",size:"sm",pipeIn:c("full"),options:[{label:"极小",value:"xs"},{label:"小",value:"sm"},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"占满",value:"full",hiddenOn:"this.inline === true"},{label:"默认",value:"full",hiddenOn:"this.inline !== true"}]},minLength:{name:"minLength",type:"number",label:"限制最小数量"},maxLength:{name:"maxLength",type:"number",label:"限制最大数量"},label:[{label:"Label",name:"label",type:"text",hiddenOn:"data.label === false"},{name:"label",label:"隐藏 Label",type:"switch",mode:"inline",className:"w-full",pipeIn:function(e){return!1===e},pipeOut:function(e){return!0!==e&&""},visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && !data.label',description:"当 form 为水平布局时有用，可以用来去掉间隔。"}],placeholder:{label:"占位符",name:"placeholder",type:"text",placeholder:"占位符"},tabs:function(e){return{type:"tabs",tabsMode:"line",className:"m-t-n-xs",contentClassName:"no-border p-l-none p-r-none",tabs:e}},clearable:{type:"switch",name:"clearable",mode:"inline",className:"w-full",label:"启用清除按钮"},hint:{label:"输入提示",type:"text",name:"hint",description:"当输入框获得焦点的时候显示，用来提示用户输入内容。"},remark:[{label:"启用信息提示",type:"switch",name:"remark",mode:"inline",className:"w-full",description:"在输入控件旁边展示一个 icon，当鼠标放上去时展示详细描述，注意启动后请将控件宽度设置成非占满，否则 icon 显示位置会换行！",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{icon:"fa fa-question-circle",trigger:["hover","focus"],className:"Remark--warning"}:null}},{type:"combo",name:"remark",className:"no-padder",visibleOn:"this.remark",multiLine:!0,controls:[{name:"title",type:"text",label:"标题"},{name:"content",type:"textarea",label:"内容"},{name:"placement",type:"button-group",size:"xs",label:"弹出位置",options:[{label:"左",value:"left"},{label:"上",value:"top"},{label:"右",value:"right"},{label:"底",value:"bottom"}]},{name:"icon",label:"图标",type:"icon-picker"},{name:"className",label:"CSS 类名",type:"text",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:'有哪些辅助类 CSS 类名？请前往 <a href="http://amis.baidu.com/v2/docs/style" target="_blank">样式说明</a>，除此之外你可以添加自定义类名，然后在系统配置中添加自定义样式。',placement:"right"}},{name:"trigger",type:"select",label:"触发方式",multiple:!0,pipeIn:function(e){return Array.isArray(e)?e.join(","):[]},pipeOut:function(e){return e&&e.length?e.split(","):void 0},options:[{label:"鼠标悬停",value:"hover"},{label:"聚焦",value:"focus"},{label:"点击",value:"click"}]},{name:"rootClose",visibleOn:'~this.trigger.indexOf("click")',label:"点击空白关闭",type:"switch"}]}],labelRemark:[{label:"启用 Label 信息提示",type:"switch",name:"labelRemark",mode:"inline",className:"w-full",description:"在 Label 旁边展示一个 icon，当鼠标放上去时展示详细描述",visibleOn:"this.label",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{icon:"fa fa-question-circle",trigger:["hover","focus"],className:"Remark--warning"}:null}},{type:"combo",name:"labelRemark",className:"no-padder",visibleOn:"this.labelRemark",multiLine:!0,controls:[{name:"title",type:"text",label:"标题"},{name:"content",type:"textarea",label:"内容"},{name:"placement",type:"button-group",size:"xs",label:"弹出位置",options:[{label:"左",value:"left"},{label:"上",value:"top"},{label:"右",value:"right"},{label:"底",value:"bottom"}]},{name:"icon",label:"图标",type:"icon-picker"},{name:"className",label:"CSS 类名",type:"text"},{name:"trigger",type:"select",label:"触发方式",multiple:!0,pipeIn:function(e){return Array.isArray(e)?e.join(","):[]},pipeOut:function(e){return e&&e.length?e.split(","):void 0},options:[{label:"鼠标悬停",value:"hover"},{label:"聚焦",value:"focus"},{label:"点击",value:"click"}]},{name:"rootClose",visibleOn:'~this.trigger.indexOf("click")',label:"点击空白关闭",type:"switch"}]}],expression:{type:"text",description:"支持 JS 表达式，如：`this.xxx == 1`"},icon:{label:"图标",type:"icon-picker",name:"icon",placeholder:"点击选择图标",clearable:!0,description:'请使用 <a href="https://fontawesome.com" target="_blank">font-awesome</a> 图标，如：<code>fa fa-cloud</code>'},size:{label:"控件尺寸",type:"button-group",name:"size",size:"sm",clearable:!0,options:[{label:"极小",value:"xs"},{label:"小",value:"sm"},{label:"中",value:"md"},{label:"大",value:"lg"}]},name:{label:"名字",name:"name",type:"text",description:"需要联动时才需要，其他组件可以通过这个名字跟当前组件联动",placeholder:"请输入字母或者数字"},reload:{label:"刷新目标组件",name:"reload",type:"text",description:"可以指定操作完成后刷新目标组件，请填写目标组件的 <code>name</code> 属性，多个组件请用<code>,</code>隔开，如果目标组件为表单项，请先填写表单的名字，再用<code>.</code>连接表单项的名字如：<code>xxForm.xxControl</code>。另外如果刷新目标对象设置为 <code>window</code>，则会刷新整个页面。",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"设置名字后，当前组件操作完成会触发目标组件（根据设置的名字）的刷新。",placement:"right"}},className:{label:"CSS 类名",type:"ae-classname",name:"className",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:'有哪些辅助类 CSS 类名？请前往 <a href="/docs/style" target="_blank">样式说明</a>，除此之外你可以添加自定义类名，然后在系统配置中添加自定义样式。',placement:"right"}},api:function(e){void 0===e&&(e={});var t=e.name,a=e.label,l=e.value,i=e.description,r=n.__rest(e,["name","label","value","description"]);return n.__assign({type:"fieldSet",className:"",collapsable:!1,controls:[{type:"checkbox",label:a||"API",option:"高级配置",name:t||"api",mode:"inline",className:"w-full m-b-sm",inputClassName:"pull-right text-sm m-t-sm p-t-none",pipeIn:function(e){return e&&"string"!=typeof e},pipeOut:function(e,t){var a=s.buildApi(t);return e?{method:a.method,url:a.url}:a.url?(a.method?a.method+":":"")+a.url:""}},{name:t||"api",type:"text",value:l,placeholder:"http://",description:i,visibleOn:"!this."+(t||"api")+" || typeof this."+(t||"api")+" === 'string'",className:"m-b-none"},{type:"combo",name:t||"api",description:i,syncDefaultValue:!1,multiLine:!0,visibleOn:"this."+(t||"api")+" && typeof this."+(t||"api")+" !== 'string'",className:"m-b-none",messages:{validateFailed:"接口配置中存在错误，请仔细检查！"},pipeIn:function(e){if("string"==typeof e){var t=e,a="get",l=/^(raw:|external:)?(get|post|put|patch|delete):(.*)$/.exec(t);return l&&(t=l[1]+l[3],a=l[2]),{method:a,url:t}}return e},controls:[{label:"发送方式",name:"method",value:"get",type:"button-group",size:"xs",options:["get","post","put","patch","delete"]},{label:"接口地址",type:"text",name:"url",placeholder:"http://",required:!0},{type:"switch",label:"数据映射",name:"data",mode:"inline",className:"w-full m-b-xs",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}},{type:"tpl",visibleOn:"!this.data",tpl:'<p class="text-sm text-muted">当没开启数据映射时，发送 API 的时候会发送尽可能多的数据，如果你想自己控制发送的数据，或者需要额外的数据处理，请开启此选项</p>'},{type:"combo",syncDefaultValue:!1,name:"data",visibleOn:"this.data",descriptionClassName:"help-block text-xs m-b-none",description:'<p>当没开启数据映射时，发送数据自动切成白名单模式，配置啥发送啥，请绑定数据。如：<code>{"a": "\\${a}", "b": 2}</code></p><p>如果希望在默认的基础上定制，请先添加一个 Key 为 `&` Value 为 `\\$$` 作为第一行。</p><div>当值为 <code>__undefined</code>时，表示删除对应的字段，可以结合<code>{"&": "\\$$"}</code>来达到黑名单效果。</div>',multiple:!0,pipeIn:function(e){if(!o.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",l=e.value;try{l=JSON.parse(l)}catch(e){}t[a]=l})),t},controls:[{placeholder:"Key",type:"text",unique:!0,name:"key",required:!0},{placeholder:"Value",type:"text",name:"value"}]},{label:"发送条件",type:"text",name:"sendOn",placeholder:'如：this.type == "123"',description:"用表达式来设置该请求的发送条件"},{type:"switch",label:"是否设置缓存",name:"cache",mode:"inline",className:"w-full m-b-xs",description:"设置该请求缓存的有效时间",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0}},{type:"number",name:"cache",mode:"inline",min:0,step:500,visibleOn:"this.cache",pipeIn:function(e){return"number"==typeof e?e:0}},{label:"文件下载",type:"switch",name:"responseType",mode:"inline",className:"block",pipeIn:function(e){return"blob"===e},pipeOut:function(e){return e?"blob":void 0},description:"当接口为二进制文件下载时请勾选，否则会文件乱码。"},{label:"数据格式",type:"button-group",name:"dataType",description:'发送体格式为：<%= data.dataType === "json" ? "application/json" : data.dataType === "form-data" ? "multipart/form-data" : data.dataType === "form" ? "application/x-www-form-urlencoded" : "" %>，当发送内容中存在文件时会自动使用 form-data 格式。',size:"sm",className:"block",mode:"inline",options:[{label:"JSON",value:"json"},{label:"FormData",value:"form-data"},{label:"Form",value:"form"}]},{type:"switch",label:"数据替换",name:"replaceData",mode:"inline",className:"w-full",description:"默认数据都是追加方式，开启这个后是完全替换"},{title:"自定义适配器",type:"fieldSet",className:"m-b-none",size:"sm",collapsable:!0,collapsedOn:"!this.requestAdaptor && !this.adaptor",controls:[{name:"requestAdaptor",type:"js-editor",label:"发送适配器",description:"函数签名：(api) => api， 数据在 api.data 中，修改后返回 api 对象。"},{name:"adaptor",type:"js-editor",label:"接收适配器",description:"函数签名: (payload, response, api) => payload"}]}]}]},r)},apiString:{name:"api",type:"text",placeholder:"http://"},required:{name:"required",type:"switch",mode:"inline",className:"w-full",label:"是否必填"},description:{name:"description",type:"textarea",label:"描述",pipeIn:function(e,t){return e||t.desc||""}},options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},pipeIn:function(e){return s.normalizeOptions(e)},controls:[{type:"text",name:"label",placeholder:"名称",required:!0},{type:"text",name:"value",placeholder:"值",unique:!0}]},tree:{label:"选项 Options",name:"options",type:"combo",multiple:!0,draggable:!0,addButtonText:"新增选项",description:"静态数据暂不支持多级，请切换到代码模式，或者采用 source 接口获取。",scaffold:{label:"",value:""},controls:[{type:"text",name:"label",placeholder:"名称",required:!0},{type:"text",name:"value",placeholder:"值",unique:!0}]},horizontalMode:{label:"左右占比设置",name:"horizontal",type:"switch",option:"继承",mode:"inline",className:"w-full",inputClassName:"text-sm",visibleOn:'(this.mode || this.$$formMode) == "horizontal" && this.label !== false',pipeIn:function(e){return!e},pipeOut:function(e,t,a){return e?null:a.formHorizontal}},horizontal:{type:"combo",syncDefaultValue:!1,name:"horizontal",multiLine:!0,pipeIn:function(e){return{leftRate:e&&"number"==typeof e.left?e.left:e&&/\bcol\-(?:xs|sm|md|lg)\-(\d+)\b/.test(e.left)?parseInt(RegExp.$1,10):2,leftFixed:e&&e.leftFixed||""}},pipeOut:function(e){var t=Math.min(11,Math.max(1,e.leftRate||2));return{leftFixed:e.leftFixed||"",left:t,right:12-t}},inputClassName:"no-padder",controls:[{name:"leftFixed",type:"button-group",label:"左侧宽度",size:"xs",options:[{label:"比率",value:""},{label:"小宽度",value:"sm",visibleOn:"this.leftFixed"},{label:"固定宽度",value:"normal"},{label:"大宽度",value:"lg",visibleOn:"this.leftFixed"}]},{name:"leftRate",type:"range",visibleOn:"!this.leftFixed",min:1,max:11,step:1,label:"左右分布调整(n/12)",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"一共 12 等份，这里可以设置左侧宽度占比 n/12。",placement:"right"}}]},validations:(l=[{label:"邮箱格式",value:"isEmail"},{label:"Url格式",value:"isUrl"},{label:"数字",value:"isNumeric"},{label:"字母",value:"isAlpha"},{label:"字母和数字",value:"isAlphanumeric"},{label:"整型数字",value:"isInt"},{label:"浮点型数字",value:"isFloat"},{label:"固定长度",value:"isLength"},{label:"最大长度",value:"maxLength"},{label:"最小长度",value:"minLength"},{label:"最大值",value:"maximum"},{label:"最小值",value:"minimum"},{label:"JSON格式",value:"isJson"},{label:"不为空",value:"notEmptyString"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],i=["isEmail","isUrl","isNumeric","isAlpha","isAlphanumeric","isInt","isFloat","isJson"],{type:"combo",syncDefaultValue:!1,name:"validations",label:"验证规则",addButtonText:"新增规则",multiple:!0,pipeIn:function(e){if("string"==typeof e&&e&&(e=s.str2rules(e)),!o.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){var l;/^\$\$/.test(a)||t.push(((l={type:a})[a]=Array.isArray(e[a])?e[a][0]:e[a],l))})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a,n=e.type||((a=r(l,(function(e){return!t[e.value]})))?a.value:"")||l[0].value;t[n]=e[n]||!!~i.indexOf(n)||""})),t},controls:[{type:"select",unique:!0,name:"type",options:l,columnClassName:"w-sm"},{type:"number",name:"isLength",visibleOn:'data.type == "isLength"',placeholder:"设置长度",value:"1"},{type:"number",name:"maximum",visibleOn:'data.type == "maximum"',placeholder:"设置最大值"},{type:"number",name:"minimum",visibleOn:'data.type == "minimum"',placeholder:"设置最大值"},{type:"number",name:"maxLength",visibleOn:'data.type == "maxLength"',placeholder:"设置最大长度值"},{type:"number",name:"minLength",visibleOn:'data.type == "minLength"',placeholder:"设置最小长度值"},{type:"text",name:"equals",visibleOn:'data.type == "equals"',placeholder:"设置值",value:""},{type:"text",name:"equalsField",visibleOn:'data.type == "equalsField"',placeholder:"设置字段名",value:""},{type:"text",name:"matchRegexp",visibleOn:'data.type == "matchRegexp"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp1",visibleOn:'data.type == "matchRegexp1"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp2",visibleOn:'data.type == "matchRegexp2"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp3",visibleOn:'data.type == "matchRegexp3"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp4",visibleOn:'data.type == "matchRegexp4"',placeholder:"设置正则规则"}]}),validationErrors:function(){var e=[{label:"邮箱格式",value:"isEmail"},{label:"Url格式",value:"isUrl"},{label:"数字",value:"isNumeric"},{label:"字母",value:"isAlpha"},{label:"字母和数字",value:"isAlphanumeric"},{label:"整型数字",value:"isInt"},{label:"浮点型数字",value:"isFloat"},{label:"固定长度",value:"isLength"},{label:"最大长度",value:"maxLength"},{label:"最小长度",value:"minLength"},{label:"最大值",value:"maximum"},{label:"最小值",value:"minimum"},{label:"JSON格式",value:"isJson"},{label:"不为空",value:"notEmptyString"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],t={isEmail:"Email 格式不正确",isRequired:"这是必填项",isUrl:"Url 格式不正确",isInt:"请输入整形数字",isAlpha:"请输入字母",isNumeric:"请输入数字",isAlphanumeric:"请输入字母或者数字",isFloat:"请输入浮点型数值",isWords:"请输入字母",isUrlPath:"只能输入字母、数字、`-` 和 `_`.",matchRegexp:"格式不正确, 请输入符合规则为 `$1` 的内容。",minLength:"请输入更多的内容，至少输入 $1 个字符。",maxLength:"请控制内容长度, 请不要输入 $1 个字符以上",maximum:"当前输入值超出最大值 $1，请检查",minimum:"当前输入值低于最小值 $1，请检查",isJson:"请检查 Json 格式。",isLength:"请输入长度为 $1 的内容",notEmptyString:"请不要全输入空白字符",equalsField:"输入的数据与 $1 值不一致",equals:"输入的数据与 $1 不一致"};return{type:"combo",syncDefaultValue:!1,name:"validationErrors",label:"自定义验证提示",description:"自带提示不满足时，可以自定义。",addButtonText:"新增提示",multiple:!0,pipeIn:function(e){if(!o.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){/^\$\$/.test(a)||t.push({type:a,msg:e[a]})})),t},pipeOut:function(a){if(!Array.isArray(a))return a;var l={};return a.forEach((function(a){var i,n=a.type||((i=r(e,(function(e){return!l[e.value]})))?i.value:"")||e[0].value;l[n]=a.msg||t[n]||""})),l},controls:[{type:"select",unique:!0,name:"type",options:e,columnClassName:"w-sm"},{type:"text",name:"msg",placeholder:"提示信息"},{type:"formula",name:"msg",initSet:!1,formula:"({\n                        isEmail: 'Email 格式不正确',\n                        isRequired: '这是必填项',\n                        isUrl: 'Url 格式不正确',\n                        isInt: '请输入整形数字',\n                        isAlpha: '请输入字母',\n                        isNumeric: '请输入数字',\n                        isAlphanumeric: '请输入字母或者数字',\n                        isFloat: '请输入浮点型数值',\n                        isWords: '请输入字母',\n                        isUrlPath: '只能输入字母、数字、`-` 和 `_`.',\n                        matchRegexp: '格式不正确, 请输入符合规则为 `$1` 的内容。',\n                        minLength: '请输入更多的内容，至少输入 $1 个字符。',\n                        maxLength: '请控制内容长度, 请不要输入 $1 个字符以上',\n                        maximum: '当前输入值超出最大值 $1，请检查',\n                        minimum: '当前输入值低于最小值 $1，请检查',\n                        isJson: '请检查 Json 格式。',\n                        isLength: '请输入长度为 $1 的内容',\n                        notEmptyString: '请不要全输入空白字符',\n                        equalsField: '输入的数据与 $1 值不一致',\n                        equals: '输入的数据与 $1 不一致'\n                    })[data.type] || ''"}]}}(),submitOnChange:{label:"修改即提交",type:"switch",name:"submitOnChange",mode:"inline",className:"w-full",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"设置后，表单中每次有修改都会触发提交",placement:"right"}},validateOnChange:{type:"button-group",name:"validateOnChange",label:"修改即触发表单验证",description:"默认为当表单提交过则每次修改都触发验证。",size:"xs",mode:"inline",className:"w-full",options:[{label:"默认",value:""},{label:"开启",value:!0},{label:"关闭",value:!1}],pipeIn:c(""),pipeOut:function(e){return""===e?void 0:!!e}},visible:{type:"fieldSet",title:"显隐配置",_name:"visible",collapsable:!0,className:"fieldset",controls:[{label:"设置方式",name:"visible",type:"button-group",size:"xs",mode:"inline",className:"w-full",options:[{label:"静态设置",value:1},{label:"表达式",value:2}],pipeIn:function(e){return"boolean"==typeof e?1:2},pipeOut:function(e){return 1===e||""}},{type:"switch",label:"可见(visible)",name:"visible",visibleOn:'typeof this.visible === "boolean"',pipeIn:function(e,t){return!1!==e&&!t.hidden},mode:"inline",className:"w-full m-b-none",onChange:function(e,t,a,l){return l.setValueByName("visibleOn","")}},{name:"visibleOn",label:"可见表达式(visibleOn)",type:"text",visibleOn:'typeof this.visible !== "boolean"',autoComplete:!1,pipeIn:function(e,t){return e||t.hiddenOn&&"!("+t.hiddenOn+")"||""},description:"支持 JS 表达式如：<code>this.xxx == 1</code>",className:"m-b-none"}]},initFetch:{type:"group",label:"是否初始加载",visibleOn:"this.initApi",direction:"vertical",className:"m-b-none",labelRemark:{trigger:"click",rootClose:!0,className:"m-l-xs",content:"当配置初始化接口后，组件初始就会拉取接口数据，可以通过以下配置修改。",placement:"right"},controls:[{name:"initFetch",type:"radios",inline:!0,options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"initFetchOn",autoComplete:!1,visibleOn:'typeof this.initFetch !== "boolean"',type:"text",placeholder:"如：this.id 表示有 id 值时初始加载",className:"m-t-n-sm"}]},disabled:{type:"fieldSet",title:"禁用配置",_name:"disabled",collapsable:!0,className:"fieldset",controls:[{label:"设置方式",name:"disabled",type:"button-group",size:"xs",mode:"inline",className:"w-full",options:[{label:"静态设置",value:1},{label:"表达式",value:2}],pipeIn:function(e){return"boolean"==typeof e?1:2},pipeOut:function(e){return 1!==e&&""}},{type:"switch",label:"禁用(disabled)",name:"disabled",visibleOn:'typeof this.disabled === "boolean"',pipeIn:function(e,t){return!1!==e&&!t.hidden},mode:"inline",className:"w-full m-b-none",onChange:function(e,t,a,l){return l.setValueByName("disabledOn","")}},{name:"disabledOn",label:"禁用表达式(disabledOn)",type:"text",visibleOn:'typeof this.disabled !== "boolean"',description:"支持 JS 表达式如：<code>this.xxx == 1</code>",className:"m-b-none"}]},switchDefaultValue:{type:"switch",name:"value",label:"设置默认值",mode:"inline",className:"w-full",pipeIn:function(e){return void 0!==e},pipeOut:function(e,t,a){return e?"":void 0},description:"不设置时，根据字段名获取值"},multiple:{label:"多选模式",name:"multiple",type:"switch",mode:"inline",className:"w-full"},joinValues:{type:"switch",name:"joinValues",mode:"inline",className:"w-full",visibleOn:"data.multiple",label:"是否拼接值",value:!0,description:"开启后将选中的选项 value 的值用连接符拼接起来，作为当前表单项的值。"},delimiter:{type:"text",name:"delimiter",label:"连接符",visibleOn:"data.multiple && data.joinValues",pipeIn:c(",")},extractValue:{type:"switch",name:"extractValue",mode:"inline",className:"w-full",label:"是否抽取value值",visibleOn:"data.joinValues === false",pipeIn:c(!1),description:"开启后将选中的选项 value 的值封装为数组，作为当前表单项的值。"},ref:{type:"text",name:"$ref",label:"选择定义",labelRemark:"输入已经在page中设定好的定义"}};function c(e,t){return void 0===t&&(t=!0),t?function(t){return void 0===t?e:t}:function(t){return t||e}}t.getSchemaTplByName=function(e,t){var a=p[e];return"function"==typeof a?a(t):a?t?n.__assign(n.__assign({},a),t):a:null},t.valuePipeOut=function(e){try{if("undefined"===e)return;return JSON.parse(e)}catch(t){return e}},t.defaultValue=c},function(e,t){e.exports=require("cc4bbf0")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeDragingClass=t.addDragingClass=t.autobind=t.normalizeId=t.persistSet=t.persistGet=t.sortByList=t.blackList=t.createElementFromHTML=t.JSONDuplicate=t.JSONMoveDownById=t.JSONCanMoveDown=t.JSONMoveUpById=t.JSONCanMoveUp=t.JSONMerge=t.JSONDelete=t.JSONUpdate=t.JSONGetParentById=t.JSONGetById=t.JSONGetPathById=t.JSONGetByPath=t.JSONPipeOut=t.JSONPipeIn=t.cleanUndefined=t.__uri=t.omitControls=t.makeHorizontalDeeper=t.noop=t.anyChanged=t.isObject=t.isObjectShallowModified=t.guid=void 0;var l=a(0),i=a(5),n=i.utils.guid,o=i.utils.omitControls,r=i.utils.isObjectShallowModified,s=i.utils.isObject,p=i.utils.anyChanged,c=i.utils.noop,d=i.utils.makeHorizontalDeeper,m=i.utils.findIndex;function u(e){return s(e)?(Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e):e}function h(e){if(!s(e)||e.$$typeof)return e;var t={},a=!1;return e.$$id||(a=!0,t.$$id=n()),["visible","visibleOn","hidden","hiddenON","toggled"].forEach((function(l){e.hasOwnProperty(l)&&(a=!0,t[l]=void 0,t["$$"+l]=e[l])})),Object.keys(e).forEach((function(l){var i=e[l];if(Array.isArray(i)){var n=!1,o=i.map((function(e){var t=h(e);return t!==e&&(n=!0),t}));n&&(a=!0,t[l]=o)}else{(o=h(i))!==i&&(a=!0,t[l]=o)}})),a&&(e=u(l.__assign(l.__assign({},e),t))),e}function b(e,t){if(void 0===t&&(t=!1),Array.isArray(e)){var a=!1,i=e.map((function(e){var l=b(e,t);return l!==e&&(a=!0),l}));return a?i:e}if(!s(e)||e.$$typeof)return e;var n=!1,o={};return e.$$id&&(n=!0,o.$$id=void 0),t||["visible","visibleOn","hidden","hiddenON","toggled"].forEach((function(t){e.hasOwnProperty("$$"+t)&&(n=!0,o["$$"+t]=void 0,o[t]=e["$$"+t])})),Object.keys(e).forEach((function(a){var l=e[a];if(!t&&"__"===a.substring(0,2))return o[a]=void 0,void(n=!0);var i=b(l,t);i!==l&&(n=!0,o[a]=i)})),n&&(e=u(l.__assign(l.__assign({},e),o))),e}function f(e,t,a){var l=e;return a&&a.push(e),t.forEach((function(e){l=l[e],a&&a.push(l)})),l}function y(e,t){for(var a=[],l=!1,i=[{path:".",data:e}],n=function(){var e=i.shift(),n=e.data,o=e.path;if(n.$$id===t)return l=!0,a=o.split(".").filter((function(e){return e})),"break";Object.keys(n).forEach((function(e){var t=n[e];Array.isArray(t)?t.forEach((function(t,a){s(t)&&i.push({data:t,path:o+"."+e+"."+a})})):s(t)&&i.push({data:t,path:o+"."+e})}))};i.length;){if("break"===n())break}return l?a:null}function g(e,t,a){void 0===a&&(a=!1);var l=y(e,t);if(null===l||!l.length)return null;var i=e,n=[i];for(l.pop(),l.forEach((function(e){i=i[e],n.unshift(i)}));a&&Array.isArray(n[0]);)n.shift();return n[0]}t.guid=n,t.omitControls=o,t.isObjectShallowModified=r,t.isObject=s,t.anyChanged=p,t.noop=c,t.makeHorizontalDeeper=d,t.__uri=function(e){return e},t.cleanUndefined=u,t.JSONPipeIn=h,t.JSONPipeOut=b,t.JSONGetByPath=f,t.JSONGetPathById=y,t.JSONGetById=function(e,t){var a=y(e,t);return null===a?null:f(e,a)},t.JSONGetParentById=g,t.JSONUpdate=function(e,t,a,i){void 0===i&&(i=!1);var n=y(e,t);if(null===n)return e;var o=[],r=f(e,n,o);for(o[o.length-1]=r=l.__assign(l.__assign(l.__assign({},i?null:r),a),{$$id:t});o.length>1;){var s=o.pop();Array.isArray(o[o.length-1])?o[o.length-1]=o[o.length-1].concat():o[o.length-1]=l.__assign({},o[o.length-1]),o[o.length-1][n[o.length-1]]=s}return o[0]},t.JSONDelete=function(e,t,a,i){var n=y(e,t);if(null===n)return e;Array.isArray(a)&&a.push.apply(a,n);var o=n.pop(),r=[],s=f(e,n,r);for(Array.isArray(s)?(r[r.length-1]=s=s.concat(),s.splice(o,1),i&&!s.length&&(r[r.length-1]=void 0)):(r[r.length-1]=s=l.__assign({},s),delete s[o]);r.length>1;){var p=r.pop();Array.isArray(r[r.length-1])?r[r.length-1]=r[r.length-1].concat():r[r.length-1]=l.__assign({},r[r.length-1]),void 0===p?delete r[r.length-1][n[r.length-1]]:r[r.length-1][n[r.length-1]]=p}return r[0]},t.JSONMerge=function e(t,a){if(!s(t)||!s(a))return a;if(!r(t,a))return t;var l={};return t.$$id&&(l.$$id=t.$$id),Object.keys(a).forEach((function(i){Array.isArray(a[i])&&Array.isArray(t[i])&&a[i]!==t[i]?l[i]=a[i].map((function(a,l){return t[i][l]?e(t[i][l],a):a})):void 0===t[i]?l[i]=a[i]:l[i]=e(t[i],a[i])})),l},t.JSONCanMoveUp=function(e,t){var a=g(e,t);return!(!a||!Array.isArray(a))&&m(a,(function(e){return e.$$id===t}))>0},t.JSONMoveUpById=function(e,t){var a=y(e,t);if(null===a)return e;var i=parseInt(a.pop(),10);if(0===i)return e;var n=[],o=f(e,a,n);if(!Array.isArray(o))return e;n[n.length-1]=o=o.concat();var r=o[i];for(o.splice(i,1),o.splice(i-1,0,r);n.length>1;){var s=n.pop();Array.isArray(n[n.length-1])?n[n.length-1]=n[n.length-1].concat():n[n.length-1]=l.__assign({},n[n.length-1]),n[n.length-1][a[n.length-1]]=s}return n[0]},t.JSONCanMoveDown=function(e,t){var a=g(e,t);if(!a||!Array.isArray(a))return!1;var l=m(a,(function(e){return e.$$id===t}));return~l&&l<a.length-1},t.JSONMoveDownById=function(e,t){var a=y(e,t);if(null===a)return e;var i=parseInt(a.pop(),10),n=[],o=f(e,a,n);if(!(Array.isArray(o)&&i<o.length-1))return e;n[n.length-1]=o=o.concat();var r=o[i];for(o.splice(i,1),o.splice(i+1,0,r);n.length>1;){var s=n.pop();Array.isArray(n[n.length-1])?n[n.length-1]=n[n.length-1].concat():n[n.length-1]=l.__assign({},n[n.length-1]),n[n.length-1][a[n.length-1]]=s}return n[0]},t.JSONDuplicate=function(e,t){var a=y(e,t);if(null===a)return e;var i=parseInt(a.pop(),10),n=[],o=f(e,a,n);if(!Array.isArray(o))return e;n[n.length-1]=o=o.concat();var r=h(b(o[i]));for(o.splice(i+1,0,r);n.length>1;){var s=n.pop();Array.isArray(n[n.length-1])?n[n.length-1]=n[n.length-1].concat():n[n.length-1]=l.__assign({},n[n.length-1]),n[n.length-1][a[n.length-1]]=s}return n[0]},t.createElementFromHTML=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},t.blackList=function(e){return function(t){return!~e.indexOf(t)}},t.sortByList=function(e,t){var a=t?"function"==typeof t?t:function(e){return e[t]}:function(e){return e};return function(t,l){var i=e.indexOf(a(t)),n=e.indexOf(a(l));return(i=~i?i:999999)>(n=~n?n:999999)?1:i===n?0:-1}},t.persistGet=function(e,t){var a=localStorage.getItem("amis-editor-"+e);return a&&(a=JSON.parse(a)),a||t},t.persistSet=function(e,t){t=JSON.stringify(t),localStorage.setItem("amis-editor-"+e,t)},t.normalizeId=function(e){return e.replace(/\-[a-z0-9]+$/g,"")},t.autobind=i.utils.autobind,t.addDragingClass=function(e){for(;e&&(e.classList.add("ae-is-draging"),!(null==(e=e.parentElement)?void 0:e.hasAttribute("data-region"))););},t.removeDragingClass=function(e){for(;e&&(e.classList.remove("ae-is-draging"),!(null==(e=e.parentElement)?void 0:e.hasAttribute("data-region"))););}},function(e,t){e.exports=require("167c905")},function(e,t){e.exports=require("3ce129c")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormItemEditor=void 0;var l=a(0),i=l.__importDefault(a(8)),n=a(2),o=a(12),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="FormItem",t.commonSettingsLeading=[{label:"字段名",name:"name",type:"text"},{label:"Label",name:"label",type:"text",hiddenOn:"data.label === false"},{name:"label",label:"隐藏 Label",type:"switch",mode:"inline",className:"block",pipeIn:function(e){return!1===e},pipeOut:function(e){return!0!==e&&""},visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && !data.label',description:"当 form 为水平布局时有用，可以用来去掉间隔。"},{label:"表单项内联",name:"inline",type:"switch",visibleOn:'data.$$formMode != "inline" && data.mode != "inline"',mode:"inline",className:"block",pipeIn:n.defaultValue(!1)},{label:"展示模式",name:"mode",type:"button-group",size:"sm",option:"继承",pipeIn:n.defaultValue(""),options:[{label:"继承",value:""},{label:"正常",value:"normal"},{label:"内联",value:"inline"},{label:"水平",value:"horizontal"}]},{label:"左右占比设置",name:"horizontal",type:"switch",option:"继承",visibleOn:'(this.mode || this.$$formMode) == "horizontal" && this.label !== false',pipeIn:function(e){return!e},pipeOut:function(e,t,a){return e?null:a.formHorizontal}},n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),{name:"size",label:"控件尺寸",type:"button-group",size:"sm",pipeIn:n.defaultValue("full"),options:[{label:"极小",value:"xs"},{label:"小",value:"sm"},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"占满",value:"full"}]},n.getSchemaTplByName("description")],t.commonSettingsTrailing=[{label:"启用提示信息",type:"switch",name:"remark",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{icon:"fa fa-question-circle",trigger:["hover","focus"],className:"Remark--warning"}:null}},{type:"combo",name:"remark",className:"no-padder",visibleOn:"this.remark",multiLine:!0,controls:[{name:"title",type:"text",label:"标题"},{name:"content",type:"textarea",label:"内容"},{name:"placement",type:"button-group",size:"xs",label:"弹出位置",options:[{label:"左",value:"left"},{label:"上",value:"top"},{label:"右",value:"right"},{label:"底",value:"bottom"}]},{name:"icon",label:"图标",type:"icon-picker"},{name:"className",label:"CSS 类名",type:"text"},{name:"trigger",type:"select",label:"触发方式",multiple:!0,pipeIn:function(e){return Array.isArray(e)?e.join(","):[]},pipeOut:function(e){return e&&e.length?e.split(","):void 0},options:[{label:"鼠标悬停",value:"hover"},{label:"聚焦",value:"focus"},{label:"点击",value:"click"}]},{name:"rootClose",label:"点击空白关闭",type:"switch"}]},{label:"是否修改即提交",type:"switch",name:"submitOnChange",mode:"inline",className:"block"},n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description",value:"help-block"}),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")],t}return l.__extends(t,e),t.prototype.getSettingsValue=function(){var t=e.prototype.getSettingsValue.call(this);return l.__assign(l.__assign({},t),{formHorizontal:this.props.formHorizontal,$$formMode:this.props.formMode})},t.prototype.setSettingsValue=function(t){var a=this.ref;return a&&a.props.formStore&&t.name&&a.props.formStore.setValueByName(t.name,t.value),e.prototype.setSettingsValue.call(this,o(t,["formHorizontal","$$formMode"]))},t}(i.default);t.FormItemEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultChildrenSortList=void 0;var l=a(0),i=l.__importDefault(a(3)),n=l.__importDefault(a(16)),o=a(5),r=o.utils.isObjectShallowModified,s=l.__importDefault(a(43)),p=a(15),c=a(4),d=a(1),m=a(27),u=a(14),h=a(5),b=l.__importDefault(a(11));t.defaultChildrenSortList=["crud","form","wizard","panel","tabs","service","chart"];var f=function(e){function a(t){var a=e.call(this,t)||this;return a.tipName="Unknown",a.Renderer="div",a.regions={},a.regionDefaultNodes={},a.toolbarBtns=[{icon:"fa fa-arrows",tooltip:"可拖拽修改位置",id:"draggable",test:function(){return void 0!==a.props.$$draggable?a.props.$$draggable:a.draggable&&a.context.editorNode&&"global"!==a.context.editorNode.id}},{icon:"fa fa-cog",tooltip:"设置（⌘ + ,）",id:"settings",visible:!1},{icon:"fa fa-code",tooltip:"代码模式编辑（⌘ + .）",id:"code",visible:!1,test:function(){return a.$schema&&(void 0!==a.props.$$codeEditable?a.props.$$codeEditable:a.codeEditable)}},{icon:"fa fa-copy",tooltip:"复制一份（⌘ + d）",id:"duplicate",visible:!1,test:function(){return void 0!==a.props.$$duplicatable?a.props.$$duplicatable:a.duplicatable&&a.context.editorNode&&"global"!==a.context.editorNode.id}},{icon:"fa fa-arrow-left",tooltip:"向前移动（⌘ + ←）",id:"moveup",test:function(e,t){var l=e.$$id,i=e.$$movable;return void 0!==i?i:!1!==a.movable&&c.JSONCanMoveUp(t.getSchema(),l)}},{icon:"fa fa-arrow-right",tooltip:"向后移动（⌘ + →）",id:"movedown",test:function(e,t){var l=e.$$id,i=e.$$movable;return void 0!==i?i:!1!==a.movable&&c.JSONCanMoveDown(t.getSchema(),l)}},{icon:"fa fa-pencil",tooltip:"修改渲染器类型",id:"replaceable",visible:!1,test:function(){return void 0!==a.props.$$replaceable?a.props.$$replaceable:a.replaceable&&a.context.editorNode&&"global"!==a.context.editorNode.id}},{icon:"fa fa-cut",tooltip:"剪切（⌘ + x）",visible:!1,id:"cut",test:function(){return void 0!==a.props.$$removable?a.props.$$removable:a.removable&&a.context.editorNode&&"global"!==a.context.editorNode.id}},{icon:"fa fa-angle-double-up",tooltip:"选择上层（shift + ↑）",id:"select-parent",visible:!1,test:function(){var e=a.context.editorNode;return!!e&&e.id&&"global"!==e.id}},{icon:"fa fa-unlink",tooltip:"取消选中（Esc）",visible:!1,id:"unlink"},{icon:"fa fa-trash-o",tooltip:"删除（Del）",id:"delete",test:function(){return void 0!==a.props.$$removable?a.props.$$removable:a.removable&&a.context.editorNode&&"global"!==a.context.editorNode.id}},{icon:"fa fa-ellipsis-h",id:"more"}],a.toolbarDom=i.default.createRef(),a.containers=[],a.removable=!0,a.replaceable=!0,a.codeEditable=!0,a.duplicatable=!0,a.draggable=!0,a.dropable=!1,a.$schema="",a.clickIgnoreSelecor=".ae-Button",a.nodes=[],a.placeholder="没有内容, 占位！",a.mounted=!1,a.replaceSettings=!0,a.regions2path={},a.childrenSortList={},a.syncOutlineLazy=m(a.syncOutline.bind(a),250,{trailing:!0,leading:!1}),a.childRef=a.childRef.bind(a),a.highlightRef=a.highlightRef.bind(a),a.handleToolbarBtnClick=a.handleToolbarBtnClick.bind(a),a.getTarget=a.getTarget.bind(a),a.handleClick=a.handleClick.bind(a),a.addNode=a.addNode.bind(a),a.removeTo=a.removeTo.bind(a),a.getNodes=a.getNodes.bind(a),a.getSettingsValue=a.getSettingsValue.bind(a),a.setSettingsValue=a.setSettingsValue.bind(a),a.renderChild=a.renderChild.bind(a),a.regionRef=a.regionRef.bind(a),a.handleToolbarDragStart=a.handleToolbarDragStart.bind(a),a}return l.__extends(a,e),a.prototype.getChildContext=function(){return{editorNode:{id:this.props.$$id,add:this.addNode,remove:this.removeTo,getNodes:this.getNodes,component:this,parent:this.context.editorNode}}},a.prototype.componentWillMount=function(){this.mounted=!0;var e=this.context.editorNode;e&&e.add(this);var t=this.context.editor;t&&t.onMount&&t.onMount(this),this.syncOutlineLazy.cancel()},a.prototype.componentDidMount=function(){this.patchSchema()},a.prototype.componentDidUpdate=function(){this.context.editor.getDragId()!==this.props.$$id&&c.removeDragingClass(this.getElement())},a.prototype.componentWillUnmount=function(){this.patchSchema();var e=this.context.editorNode;e&&e.remove(this);var t=this.context.editor;t&&t.onUnmount&&t.onUnmount(this),this.mounted=!1;var a=this.getElement();a&&this.can("draggable")&&a.removeEventListener("dragstart",t.onDragStart)},a.prototype.can=function(e){var t=u(this.toolbarBtns,(function(t){return t.id===e}));return!(!t||!t.test)&&t.test(this.props,this.context.editor)},a.prototype.getElement=function(){try{return this.renderer?p.findDOMNode(this.renderer):null}catch(e){return console.warn(e),null}},a.prototype.editorWillUpdate=function(e,t,a){return this.mounted},a.prototype.patchSchema=function(){var e,t=this.props.$$id,a=this.context.editor;if(t&&"string"==typeof t&&(e=a.get(t))){var l=e;this.containers&&this.containers.length&&(l=this.normalizeContainer(l,this.containers)),l=o.filterSchema(l,{component:this.Renderer}),(l=c.JSONPipeIn(l))!==e&&a.update(t,l,!0,"patch")}},a.prototype.childRef=function(e){for(var t=e,a=this.context.editor;e&&e.getWrappedInstance;)e=e.getWrappedInstance();if(t&&this.props.$$id){if(!(l=p.findDOMNode(t)))return;l&&!l.hasAttribute("data-editor-id")&&(l.setAttribute("data-editor-id",this.props.$$id),l.setAttribute("data-editor-name",this.tipName)),l.draggable=this.can("draggable"),l.draggable?l.addEventListener("dragstart",a.onDragStart):l.removeEventListener("dragstart",a.onDragStart),a.getDragId()===this.props.$$id&&c.addDragingClass(l)}else if(!t&&this.renderer){var l;if(!(l=p.findDOMNode(t)))return;l.removeEventListener("dragstart",a.onDragStart)}this.renderer=t,this.ref=e},a.prototype.highlightRef=function(e){this.highlight=e},a.prototype.updateHighlight=function(e){void 0===e&&(e=!1),this.highlight&&this.highlight[e?"update":"forceUpdate"]()},a.prototype.getWrappedInstance=function(){return this.ref},a.prototype.getTarget=function(){return p.findDOMNode(this)},a.prototype.addNode=function(e){~this.nodes.indexOf(e)||(this.nodes.push(e),this.syncOutlineLazy())},a.prototype.removeTo=function(e){var t=this.nodes.indexOf(e);~t&&(this.nodes.splice(t,1),this.syncOutlineLazy())},a.prototype.getNodes=function(){return this.nodes.concat()},a.prototype.syncOutline=function(){this.nodes=this.nodes.sort(c.sortByList(this.containers,(function(e){return e.props.name}))),this.context.editor.syncOutline()},a.prototype.handleClick=function(e){e.defaultPrevented||(e.target.closest(this.clickIgnoreSelecor)?e.preventDefault():(e.stopPropagation(),e.preventDefault(),this.active()))},a.prototype.handleToolbarBtnClick=function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.getAttribute("data-id");t&&this.handleToolbarAction(t)},a.prototype.handleToolbarAction=function(e){if("settings"===e)this.openEditForm();else if("delete"===e)this.deleteSelf();else if("cut"===e)this.cutSelf();else if("code"===e)this.openEditCode();else if("moveup"===e)this.moveUp();else if("movedown"===e)this.moveDown();else if("select-parent"===e)this.selectParent();else if("replaceable"===e)this.changeSelf();else if("unlink"===e)this.closeSetting();else if("duplicate"===e)this.duplicateSelf();else if("more"===e){var t=this.toolbarDom.current.getBoundingClientRect(),a=this.getContextMenus();h.openContextMenus({x:window.scrollX+t.left+t.width-185,y:window.scrollY+t.top+t.height},a)}},a.prototype.handleToolbarDragStart=function(e){var t=this.getElement();t&&this.context.editor.onDragStart(e,t)},a.prototype.selectParent=function(){for(var e=this.context.editorNode;e&&e.isRegion;)e=e.parent;e&&e.component&&"global"!==e.id&&e.component.active()},a.prototype.selectOutside=function(){this.selectParent()},a.prototype.selectInside=function(){var e=this.getNodes();e.length&&e[0].openEditForm()},a.prototype.active=function(e){var t=this,a=this.context.editor,i=this.props.$$id,n=a.getActiveId();if(e||i!==n){var o=l.__assign({},this.settingsSchema);Array.isArray(o.controls)&&(o.controls=o.controls.filter((function(e){return e&&(void 0===e.test||"function"==typeof e.test&&e.test(t.props)||e.test)}))),a.activeEditor(i,{editor:this,schema:o,onChange:this.setSettingsValue,getValue:this.getSettingsValue,getRaw:function(){return a.get(i)},$schema:!1!==this.props.$$codeEditable?this.$schema:null},e)}},a.prototype.closeSetting=function(){this.context.editor.activeEditor("")},a.prototype.duplicateSelf=function(){if(this.can("duplicate")){var e=this.context.editor,t=this.props.$$id;e.duplicate(t)}},a.prototype.openEditForm=function(e){void 0===e&&(e=!0);var t=this.context.editor;this.active(e),e&&setTimeout((function(){return t.switchSettingPane("form")}),200)},a.prototype.openEditCode=function(){var e=this.context.editor;this.active(),setTimeout((function(){return e.switchSettingPane("code")}),200)},a.prototype.deleteSelf=function(){if(this.can("delete")){var e=this.context.editor,t=this.props.$$id,a=e.getActiveId(),l=e.get(t),i=e.delete(t);if(i){for(var n=this.context.editorNode;n&&n.component instanceof b.default;)n=n.component.context.editorNode;n&&n.component&&n.component.onChildDelete&&n.component.onChildDelete(l,i[i.length-2],i.concat()),a===t&&e.activeEditor("")}}},a.prototype.cutSelf=function(){var e=this;if(this.can("delete")){var t=this.context.editor,a=this.props.$$id,l=t.getActiveId();t.cut(a,(function(i){for(var n=e.context.editorNode;n&&n.component instanceof b.default;)n=n.component.context.editorNode;n&&n.component&&n.component.onChildDelete&&n.component.onChildDelete(origin,i[i.length-2],i),l===a&&t.activeEditor("")}))}},a.prototype.moveUp=function(){var e=this.context.editor,t=this.props.$$id;e.moveUp(t),this.mounted&&this.forceUpdate()},a.prototype.moveDown=function(){var e=this.context.editor,t=this.props.$$id;e.moveDown(t),this.mounted&&this.forceUpdate()},a.prototype.selectBackward=function(){var e=this.context.editorNode,t=this.context.editor;if(!e||!t)return!1;var a=t.get(e.id);if(!a)return!1;var l=c.JSONGetPathById(a,this.props.$$id);if(!Array.isArray(l)||!l.length)return!1;var i=parseInt(l.pop(),10);if(i>0){var n=c.JSONGetByPath(a,l);return t.select(n[i-1].$$id),!0}return!1},a.prototype.selectForward=function(){var e=this.context.editorNode,t=this.context.editor;if(!e||!t)return!1;var a=t.get(e.id);if(!a)return!1;var l=c.JSONGetPathById(a,this.props.$$id);if(!Array.isArray(l)||!l.length)return!1;var i=parseInt(l.pop(),10),n=c.JSONGetByPath(a,l);return i<n.length-1&&(t.select(n[i+1].$$id),!0)},a.prototype.getSettingsValue=function(){var e=this.context.editor,t=this.props.$$id,a=e.get(t);if(!a)return{};for(var l=this.context.editorNode;l&&l.component instanceof b.default;)l=l.component.context.editorNode;return l&&l.component&&l.component.onChildSettingsGet&&(a=l.component.onChildSettingsGet(this.props.type,a)||a),a},a.prototype.setSettingsValue=function(e,t,a){void 0===t&&(t="form");var l=this.context.editor,i=this.props.$$id,n=l.get(i);if(r(n,e)){for(var o=this.context.editorNode;o&&o.component instanceof b.default;)o=o.component.context.editorNode;o&&o.component&&o.component.onChildSettingsSet&&(e=o.component.onChildSettingsSet(this.props.type,e,n)||e),"__SKIP__"!==e&&l.update(i,e,this.replaceSettings,t),a&&a(l.get(i))}},a.prototype.attachAddBtn=function(e,t,a){return e=(e=Array.isArray(e)?e:e?[e]:a||[]).concat(),(Array.isArray(t)?t:[t]).forEach((function(t){return t&&e.push({children:t})})),e},a.prototype.normalizeContainer=function(e,t){var a=this,i=!1,n={};return t.forEach((function(t){var l=t.split(".");t=l.shift();var r=e[t],s="normalizeContainer"+o.utils.ucFirst(t);if(a[s]){var p=a[s](r);p!==r&&(i=!0,n[t]=c.JSONPipeIn(p))}else{if("string"==typeof r)return i=!0,void(n[t]=c.JSONPipeIn({type:"tpl",tpl:r}));if(Array.isArray(r)){var d=!1,m=r.map((function(e){if("string"==typeof e&&e)return d=!0,c.JSONPipeIn({type:"tpl",tpl:e});if(l.length){var t=a.normalizeContainer(e,[l.join(".")]);t!==e&&(d=!0,e=t)}return e}));d&&(i=!0,n[t]=m)}else r&&(n[t]=[c.JSONPipeIn(r)],i=!0)}})),i&&(e=l.__assign(l.__assign({},e),n)),e},a.prototype.onAddNode=function(e,t){},a.prototype.addChild=function(e,t){var a,l=this.props.$$id,i=this.context.editor,n=i.get(l),o=this.onAddNode(e,t);o&&(t=o);var r=n[e];(r=Array.isArray(r)?r.concat():r?[r]:[]).push(c.JSONPipeIn(t)),i.update(l,((a={})[e]=r,a))},a.prototype.emptyChild=function(e){var t,a=this.props.$$id,l=this.context.editor;l.get(a);l.update(a,((t={})[e]=void 0,t),void 0,"")},a.prototype.pickChild=function(e,a,l,i,n,o){var r=this;void 0===a&&(a=e),void 0===n&&(n=!1);var s=this.context.editor,p=this.props,c=p.$path,d=p.$$id;s.pickRenderer(c+"/"+e,d,a,(function(e){return l?l(e,d,s):r.addChild(a,e)}),i||function(e,t){return r.acceptChild(e,t.split("/").pop())},(o||this.childrenSortList[a]||[]).concat(t.defaultChildrenSortList))},a.prototype.acceptChild=function(e,t,a){if(this.context.editor.isMini)return!0;var l=this.props.$path+"/"+(this.regions2path&&this.regions2path[t]||t)+"/"+e,i=o.resolveRenderer(l);if(a){if(a&&/^(button|submit|reset|button-group|button-toolbar)(?:-control)?$/.test(a))return!0;var n=d.getEditorByName(a);return i&&i.component===(null==n?void 0:n.renderer)}return!!i},a.prototype.changeSelf=function(){var e,t=this.context.editor,a=this.context.editorNode,l=this.props,i=l.$path,n=l.$$id,o=l.$$acceptChild,r=l.$$childenOrder,s=i.split("/");for(s.pop();a&&a.component instanceof b.default;)a=a.component.context.editorNode;t.pickRenderer(s.join("/"),"","",(function(e){a&&a.component&&a.component.onChildSettingsSet&&(e=a.component.onChildSettingsSet(e.type,e,t.get(n),!0)||e),t.update(n,c.JSONPipeIn(e),!0),setTimeout((function(){return t.select(n,!0)}),500)}),o||(null===(e=null==a?void 0:a.component.acceptChild)||void 0===e?void 0:e.bind(a.component)),r||(a?a.component.childrenOrder:void 0))},a.prototype.getContextMenus=function(){var e=this,t=[],a=this.context.editor,l=this.context.editorNode,i=this.props.$$id;t.push({label:"选中"+this.tipName,data:this.props.$$id,disabled:a.getActiveId()===i,onSelect:a.select,onHighlight:function(e,t){return a.hover(e?t:"")}});for(var n=[{label:""+this.tipName,data:this.props.$$id,disabled:a.getActiveId()===i,onSelect:a.select,onHighlight:function(e,t){return a.hover(e?t:"")}}];l;)l.isRegion||"global"===l.id||n.push({label:""+l.component.tipName,data:l.id,disabled:a.getActiveId()===l.id,onSelect:a.select,onHighlight:function(e,t){return a.hover(e?t:"")}}),l=l.parent;return n.length&&t.push({label:"选中层级",children:n}),a.getActiveId()&&t.push({label:"取消选中",onSelect:function(){return e.closeSetting()}}),t.push("|"),t.push({label:"复制",disabled:!this.can("duplicate"),onSelect:function(){return e.duplicateSelf()}}),a.isMini||t.push({label:"剪切",disabled:!this.can("cut"),onSelect:function(){return e.cutSelf()}}),t.push({label:"删除",disabled:!this.can("delete"),onSelect:function(){return e.deleteSelf()}}),t.push("|"),t.push({label:"向前移动",disabled:!this.can("moveup"),onSelect:function(){return e.moveUp()}}),t.push({label:"向后移动",disabled:!this.can("movedown"),onSelect:function(){return e.moveDown()}}),a.isMini||(t.push("|"),t.push({label:"设置",onSelect:function(){return e.openEditForm()}}),t.push({label:"更改组件类型",disabled:!this.can("replaceable"),onSelect:function(){return e.changeSelf()}}),t.push({label:"代码配置",onSelect:function(){return e.openEditCode()},disabled:!this.can("code")})),t},a.prototype.updateRegion=function(e){},a.prototype.regionRef=function(e,t){this.regions[e]=t},a.prototype.renderChild=function(e,t,a){return(0,this.props.render)(e,t,l.__assign(l.__assign({},a),{$editor:this,regionRef:this.regionRef}))},a.prototype.renderRenderer=function(e){return i.default.createElement(this.Renderer,l.__assign({},e,{ref:this.childRef}))},a.prototype.renderPlaceholder=function(e){return i.default.createElement("div",{key:e.key,className:"wrapper-sm b-a b-light m-b-sm","data-editor-id":this.props.$$id,"data-editor-name":this.tipName},i.default.createElement("span",{className:"text-muted"},this.placeholder))},a.prototype.renderTip=function(){return i.default.createElement("div",{key:"tip",className:"ae-Editor-tip"},this.tipName)},a.prototype.renderToolbars=function(){var e=this,t=this.context.editor,a=this.toolbarBtns.filter((function(a){return(!a.test||a.test(e.props,t))&&!1!==a.visible}));return i.default.createElement("div",{ref:this.toolbarDom,className:"ae-Editor-toolbar",key:"toolbar"},a.map((function(t){return i.default.createElement("button",{key:t.id,type:"button",draggable:"draggable"===t.id,onDragStart:e.handleToolbarDragStart,"data-id":t.id,"data-tooltip":t.tooltip||void 0,"data-position":t.placement||"bottom",onClick:e.handleToolbarBtnClick},i.default.createElement("i",{className:t.icon}))})))},a.prototype.renderSecondaryToolbars=function(){return null},a.prototype.renderButton=function(e,t,a,n){return void 0===t&&(t=""),void 0===a&&(a="fa fa-plus"),i.default.createElement("button",l.__assign({},n,{onClick:e,"data-tooltip":t,"data-position":"bottom",className:"ae-Button"}),i.default.createElement("i",{className:a}))},a.prototype.renderBasic=function(e){var t=this,a=this.props,n=a.$$id,o=(a.$$contentMode,a.$$replaceable,a.$$removable,a.$$codeEditable,a.$$movable,a.$$acceptChild,a.$$childenOrder,a.$$draggable,l.__rest(a,["$$id","$$contentMode","$$replaceable","$$removable","$$codeEditable","$$movable","$$acceptChild","$$childenOrder","$$draggable"]));if(!1===e)return this.renderRenderer(o);var r=this.context.editor;return[this.renderRenderer(l.__assign(l.__assign(l.__assign({},o),this.state),{render:this.renderChild,key:"renderer",regionRef:this.regionRef,$editor:this})),i.default.createElement(s.default,{editor:r,id:n,getTarget:this.getTarget,key:"highlit",ref:this.highlightRef,children:function(){return[t.renderTip(),t.renderToolbars(),t.renderSecondaryToolbars()]}})]},a.prototype.render=function(){return this.renderBasic()},a.contextTypes={editor:n.default.object,editorNode:n.default.object},a.childContextTypes={editorNode:n.default.object},a.propsList=[],a.displayName="BasicEditor",a}(i.default.Component);t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importStar(a(8)),n=a(21),o=a(3),r=a(4),s=l.__importDefault(a(11)),p=a(1),c=a(5),d=function(e){function t(t,a){var i=e.call(this,t)||this;return i.dropable=!0,i.containers=[],i.disabledContainers=[],i.diyContainer=[],i.containerLabels=[],i.regionRef=i.regionRef.bind(i),i.containers.length&&(i.state=l.__assign({},i.modifyProps(t,a))),i}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;r.anyChanged(this.containers,t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.modifyProps=function(e,t){var a=this;void 0===t&&(t=this.context);var l=e.$$id,i=(e.clipboard,t.editor),n=i.getActiveId(),r=i.getDropId();if(n!==l&&r!==l){var s={};return this.containers.forEach((function(t){var l=e[t];void 0===l&&a.regionDefaultNodes[t]?l=a.regionDefaultNodes[t]:Array.isArray(l)||(l=l?[l]:l),s[t]=l})),s}var p={};return this.containers.forEach((function(t,l){var i=e[t];if(!~a.disabledContainers.indexOf(t)){void 0===i&&a.regionDefaultNodes[t]&&(i=a.regionDefaultNodes[t]);var n=Array.isArray(i)?i.concat():i?[i]:[];n.length||n.push({children:o.createElement("span",null)}),i=n}p[t]=i})),p},t.prototype.isDropableRegion=function(e){return!!~this.containers.indexOf(e)},t.prototype.updateRegion=function(e){var t=this;e?this.regions[e]&&this.regions[e].forceUpdate():this.containers.forEach((function(e){return t.regions[e]&&t.regions[e].forceUpdate()}))},t.prototype.getContextMenus=function(){var t=this,a=e.prototype.getContextMenus.call(this),l=this.context.editor,i=this.props.$$id,o=this.containers.filter((function(e){return t.regions[e]&&!~t.disabledContainers.indexOf(e)}));return o.length>1?(a.push("|"),a.push({label:"插入组件",children:o.map((function(e){var a=n(t.containers,(function(t){return t===e}));return{label:"插入到"+(t.containerLabels[a]||e),onSelect:function(){return t.pickChild(e)},onHighlight:function(a){return t.regions[e]&&l.hover(a?i+"-region-"+e:"")}}}))})):o.length&&(a.push("|"),a.push({label:"插入组件",onSelect:function(){return t.pickChild(o[0])}})),a},Object.defineProperty(t.prototype,"allSubRenderers",{get:function(){return this._allSubRenderers||(this._allSubRenderers=this.getAvaiableSubRenderers()),this._allSubRenderers},enumerable:!1,configurable:!0}),t.prototype.getAvaiableSubRenderers=function(e){var t=this,a=[],l=this.props.$path,n=e?[e]:this.containers,o=p.editors.filter((function(e){return!(!e.name||!e.type)&&(!~a.indexOf(e)&&(!!n.some((function(a){var i=l+"/"+(t.regions2path[a]||a)+"/"+(e.affixPath||e.type),n=c.resolveRenderer(i);return n&&n.component===e.renderer&&t.acceptChild(e.type,a,e.rendererName)}))&&(a.push(e),!0)))})).map((function(e){return{label:e.name,value:e.scaffold||{type:e.type},docLink:e.docLink,previewSchema:e.previewSchema,description:e.description,id:e.rendererName,icon:e.icon,tags:Array.isArray(e.tags)?e.tags.concat():e.tags?[e.tags]:[]}})),s=[];return Object.keys(this.childrenSortList).forEach((function(e){return s.push.apply(s,t.childrenSortList[e])})),s.push.apply(s,i.defaultChildrenSortList),o=o.sort(r.sortByList(s,(function(e){return e.value.type})))},t.prototype.moveTo=function(e,t,a){var l,i=this.context.editor,o=r.normalizeId(this.props.$$id),s=i.getSchema(),p=r.JSONGetById(s,t);s=r.JSONDelete(s,t);var c=r.JSONGetById(s,r.normalizeId(o))[e];if((c=Array.isArray(c)?c.concat():c?[c]:[]).length&&"number"==typeof a)c.splice(a,0,p);else if(c.length&&a){var d=n(c,(function(e){return e&&e.$$id===a}));~d?c.splice(d,0,p):c.push(p)}else c.push(p);s=r.JSONUpdate(s,o,((l={})[e]=c,l)),i.update(null,s,void 0,"drop")},t.prototype.add=function(e,t,a,i){return l.__awaiter(this,void 0,void 0,(function(){var n,o,s,c,d,m,u,h;return l.__generator(this,(function(l){switch(l.label){case 0:return n=this.context.editor,o=r.normalizeId(this.props.$$id),s=n.getSchema(),c=r.JSONGetById(s,r.normalizeId(o)),d=c[e],d=Array.isArray(d)?d.concat():d?[d]:[],i?(null==(m=p.getEditorByName(i))?void 0:m.scaffoldForm)?[4,n.confirmForm(m.scaffoldForm,a)]:[3,2]:[3,2];case 1:if(!(a=l.sent()))return[2];l.label=2;case 2:return this.onAddNode&&(u=this.onAddNode(e,a))&&(a=u),~t?d.splice(t,0,r.JSONPipeIn(a)):d.push(r.JSONPipeIn(a)),s=r.JSONUpdate(s,o,((h={})[e]=d,h)),n.update(null,s,void 0,"drop"),[2]}}))}))},t.prototype.regionRef=function(e,t){this.regions[e]=t},t.prototype.updateHighlight=function(e){void 0===e&&(e=!1),this.highlight&&this.highlight[e?"update":"forceUpdate"]();var t=this.regions;Object.keys(t).forEach((function(a){t[a]&&t[a][e?"update":"forceUpdate"]()}))},t.prototype.renderChild=function(e,t,a){void 0===a&&(a={});var i=this.props.$$id,n=(this.context.editor,this.props.render),r=this.containers.indexOf(e);return a.regionRef=this.regionRef,!this.dropable||!~r||this.diyContainer&&~this.diyContainer.indexOf(e)?n(e,t,l.__assign(l.__assign({},a),{$editor:this,regionRef:this.regionRef})):o.createElement(s.default,{ref:this.regionRef.bind(this,e),name:e,label:this.containerLabels[r],hostId:i,key:a&&a.key},n(e,t,l.__assign(l.__assign({},a),{$editor:this})))},t}(i.default);t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(3)),n=a(15);a(24);var o=l.__importStar(a(1)),r=l.__importDefault(a(145)),s=a(5),p=a(5),c=p.utils.isObjectShallowModified,d=a(4),m=l.__importDefault(a(13)),u=l.__importDefault(a(16)),h=a(4),b=a(27),f=a(150),y=a(23),g=l.__importDefault(a(21)),v=a(20),N=l.__importDefault(a(151)),S=l.__importDefault(a(152)),_=function(e){return e.nodes.length?{label:e.isRegion?e.props.label||e.props.name:e.tipName,value:e.isRegion?e.props.hostId+"-region-"+e.props.name:e.props.$$id,dropable:!!e.isRegion||e.dropable,draggable:!e.isRegion&&e.can("draggable"),children:f(e.nodes.map(_),"value"),isRegion:e.isRegion}:{label:e.isRegion?e.props.label||e.props.name:e.tipName,value:e.isRegion?e.props.hostId+"-region-"+e.props.name:e.props.$$id,dropable:!!e.isRegion||e.dropable,draggable:!e.isRegion&&e.can("draggable"),isRegion:e.isRegion}},x=function(e){return e},T=function(e){function t(t){var a=e.call(this,t)||this;return a.nodes=[],a.mounted=!1,a.id=d.guid(),a.versionIdIndex=0,a.versionId=0,a.history=[],a.dragCache={},a.dragImage=null,a.lastMoveAt=0,a.state={settings:null,value:a.value=d.JSONPipeIn(t.value||{}),outline:a.outline=[],seetingsSize:"normal",clipboard:t.clipboard||d.persistGet("clipboard"),draging:!1},a.history.push({versionId:a.versionId=a.versionIdIndex++,value:a.value}),a.handlePreviewResize=a.handlePreviewResize.bind(a),a.handleChange=a.handleChange.bind(a),a.activeEditor=a.activeEditor.bind(a),a.pickRenderer=a.pickRenderer.bind(a),a.getRendererCandidates=a.getRendererCandidates.bind(a),a.handleDialogClose=a.handleDialogClose.bind(a),a.handleDialogConfirm=a.handleDialogConfirm.bind(a),a.handleDrawerClose=a.handleDrawerClose.bind(a),a.handleDrawerConfirm=a.handleDrawerConfirm.bind(a),a.handleEditorHover=a.handleEditorHover.bind(a),a.openDialog=a.openDialog.bind(a),a.getSchema=a.getSchema.bind(a),a.getSettings=a.getSettings.bind(a),a.getParentSettings=a.getParentSettings.bind(a),a.updateSettings=a.updateSettings.bind(a),a.deleteSettings=a.deleteSettings.bind(a),a.cutSettings=a.cutSettings.bind(a),a.clearClipBoard=a.clearClipBoard.bind(a),a.getWidgetsLayer=a.getWidgetsLayer.bind(a),a.moveSeetingsUp=a.moveSeetingsUp.bind(a),a.moveSeetingsDown=a.moveSeetingsDown.bind(a),a.duplicateSettings=a.duplicateSettings.bind(a),a.widgetsLayerRef=a.widgetsLayerRef.bind(a),a.resolveEditorById=a.resolveEditorById.bind(a),a.addNode=a.addNode.bind(a),a.removeTo=a.removeTo.bind(a),a.handleClick=a.handleClick.bind(a),a.getActiveId=a.getActiveId.bind(a),a.getHoverId=a.getHoverId.bind(a),a.handleMouseMove=a.handleMouseMove.bind(a),a.handleMouseLeave=a.handleMouseLeave.bind(a),a.refreshSettings=a.refreshSettings.bind(a),a.settingsRef=a.settingsRef.bind(a),a.previewRef=a.previewRef.bind(a),a.selectEditor=a.selectEditor.bind(a),a.handleOutlineSelect=a.handleOutlineSelect.bind(a),a.getPreviewLayer=a.getPreviewLayer.bind(a),a.getWidgetsLayer=a.getWidgetsLayer.bind(a),a.syncOutline=b(a.syncOutline.bind(a),250,{trailing:!0,leading:!1}),a.handleSettingsSizeToggle=a.handleSettingsSizeToggle.bind(a),a.emitChange=a.emitChange.bind(a),a.emitChangeLazy=b(a.emitChange,250,{trailing:!0,leading:!1}),a.getDragElement=a.getDragElement.bind(a),a.getDropId=a.getDropId.bind(a),a.setDropId=a.setDropId.bind(a),a.getHoverRegion=a.getHoverRegion.bind(a),a.getDropRegion=a.getDropRegion.bind(a),a.getDragId=a.getDragId.bind(a),a.setDragId=a.setDragId.bind(a),a.handleDragStart=a.handleDragStart.bind(a),a.handleDragEnter=a.handleDragEnter.bind(a),a.handleDragOver=a.handleDragOver.bind(a),a.handleDragLeave=a.handleDragLeave.bind(a),a.handleDrop=a.handleDrop.bind(a),a.handleDragEnd=a.handleDragEnd.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handleContextMenu=a.handleContextMenu.bind(a),a.switchSettingPane=a.switchSettingPane.bind(a),a.unSelectEditor=a.unSelectEditor.bind(a),a.confirmForm=a.confirmForm.bind(a),a.focus=a.focus.bind(a),a.undo=a.undo.bind(a),a.redo=a.redo.bind(a),y.extendsEnv(l.__assign(l.__assign({},t.amis_env),{theme:t.theme})),a}return l.__extends(t,e),t.prototype.getChildContext=function(){var e=this.props.theme;return{editor:{id:this.id,onMount:this.props.onEditorMount,onUnmount:this.props.onEditorUnMount,getActiveId:this.getActiveId,getHoverId:this.getHoverId,getHoverRegion:this.getHoverRegion,getDropId:this.getDropId,setDropId:this.setDropId,getDragId:this.getDragId,getDropRegion:this.getDropRegion,setDragId:this.setDragId,activeEditor:this.activeEditor,switchSettingPane:this.switchSettingPane,select:this.selectEditor,getSchema:this.getSchema,get:this.getSettings,getParent:this.getParentSettings,update:this.updateSettings,delete:this.deleteSettings,cut:this.cutSettings,clearClipBoard:this.clearClipBoard,pickRenderer:this.pickRenderer,getRendererCandidates:this.getRendererCandidates,hover:this.handleEditorHover,openDialog:this.openDialog,getWidgetsLayer:this.getWidgetsLayer,moveUp:this.moveSeetingsUp,moveDown:this.moveSeetingsDown,duplicate:this.duplicateSettings,syncOutline:this.syncOutline,schemaFilter:this.props.schemaFilter||x,theme:this.props.theme,getDragElement:this.getDragElement,resolveEditorById:this.resolveEditorById,onDragStart:this.handleDragStart,onDragOver:this.handleDragOver,unSelectEditor:this.unSelectEditor,confirmForm:this.confirmForm},editorNode:{add:this.addNode,remove:this.removeTo,component:this,id:"global"},theme:e}},t.prototype.componentDidMount=function(){this.props.theme;document.addEventListener("keydown",this.handleKeyDown),this.mounted=!0,this.props.autoFocus&&(this.defaultOpenTimer=setTimeout(this.focus,500))},t.prototype.componentWillReceiveProps=function(e){var t=this.props;c(t.value,e.value)&&c(this.lastValue,e.value,!1,!0)&&(this.lastValue=null,this.setState({settings:null,value:this.value=d.JSONPipeIn(e.value||{})}))},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1,clearTimeout(this.defaultOpenTimer),this.syncOutline.cancel(),this.emitChangeLazy.cancel(),this.unSensor&&this.unSensor()},t.prototype.focus=function(){this.nodes.length&&this.nodes[0].active()},t.prototype.handlePreviewResize=function(){var e=this.getActiveId(),t=e?this.resolveEditorById(e):null;t&&t.updateHighlight();var a=this.getHoverId()?this.resolveEditorById(this.getHoverId()):null;a&&a.updateHighlight()},t.prototype.resolveEditorById=function(e){var t;if(!e)return null;for(var a=[this];a.length;){var l=a.pop();if(l.props.$$id&&l.props.$$id==e){t=l;break}if(l.isRegion&&l.props.hostId+"-region-"+l.props.name==e){t=l;break}a.push.apply(a,l.nodes)}return t},t.prototype.switchSettingPane=function(e){this.settingsInstance.openTab(e)},t.prototype.handleClick=function(e){if(!e.defaultPrevented&&!e.target.closest(".ae-Editor-toolbar")){var t=e.target.closest("[data-editor-id]");if(t){var a=t.getAttribute("data-editor-id"),l=this.resolveEditorById(a);l&&l.handleClick(e)}}},t.prototype.handleMouseMove=function(e){var t=e.target.closest("[data-editor-id]");if(t){var a=t.getAttribute("data-editor-id"),l=this.resolveEditorById(a);if(!l)return;this.handleEditorHover(a),l.handleHover&&l.handleHover(e)}else this.handleEditorHover(null)},t.prototype.handleMouseLeave=function(e){this.handleEditorHover(null)},t.prototype.addNode=function(e){~this.nodes.indexOf(e)||(this.nodes.push(e),this.syncOutline())},t.prototype.removeTo=function(e){var t=this.nodes.indexOf(e);~t&&(this.nodes.splice(t,1),this.syncOutline())},t.prototype.getWidgetsLayer=function(){return this.widgetsLayer},t.prototype.getPreviewLayer=function(){return n.findDOMNode(this.previewInstance)},t.prototype.getEditorLayout=function(){return n.findDOMNode(this)},t.prototype.widgetsLayerRef=function(e){this.widgetsLayer=e},t.prototype.settingsRef=function(e){this.settingsInstance=e},t.prototype.previewRef=function(e){this.previewInstance=e},t.prototype.refreshSettings=function(){this.settingsInstance&&this.settingsInstance.forceUpdate()},t.prototype.selectEditor=function(e,t){void 0===t&&(t=!1);var a=this.resolveEditorById(e);a&&a.openEditForm(t)},t.prototype.unSelectEditor=function(){if(this.getActiveId()){var e=this.resolveEditorById(this.getActiveId());e&&e.closeSetting()}},t.prototype.getSettings=function(e){return e=d.normalizeId(e),h.JSONGetById(this.getSchema(),e)},t.prototype.updateSettings=function(e,t,a,l,i){void 0===a&&(a=!1),void 0===l&&(l=""),void 0===i&&(i=!1);var n=(e="string"==typeof e?d.normalizeId(e):e)?h.JSONUpdate(this.getSchema(),e,t,a):t;this.handleChange(n,i,l),this.settingsInstance&&this.settingsInstance.updateSettings(e,l)},t.prototype.getParentSettings=function(e,t){return void 0===t&&(t=!1),e=d.normalizeId(e),h.JSONGetParentById(this.getSchema(),e,t)},t.prototype.moveSeetingsUp=function(e){e=d.normalizeId(e);var t=this.props.onMoveUp;t&&!1===t(e)||(this.handleChange(h.JSONMoveUpById(this.getSchema(),e)),this.settingsInstance&&this.settingsInstance.updateSettings(e))},t.prototype.moveSeetingsDown=function(e){e=d.normalizeId(e);var t=this.props.onMoveDown;t&&!1===t(e)||(this.handleChange(h.JSONMoveDownById(this.getSchema(),e)),this.settingsInstance&&this.settingsInstance.updateSettings(e))},t.prototype.deleteSettings=function(e,t){e=d.normalizeId(e);var a=[],l=this.props.onDelete;return l&&!1===l(e)?null:(this.handleChange(h.JSONDelete(this.getSchema(),e,a,t)),this.settingsInstance&&this.settingsInstance.updateSettings(e),a)},t.prototype.duplicateSettings=function(e){e=d.normalizeId(e),this.handleChange(d.JSONDuplicate(this.getSchema(),e)),this.settingsInstance&&this.settingsInstance.updateSettings(e)},t.prototype.cutSettings=function(e,t){var a=this;e=d.normalizeId(e);var l=this.getSchema(),i=h.JSONGetById(l,e);this.setState({clipboard:d.JSONPipeOut(i)},(function(){d.persistSet("clipboard",a.state.clipboard);var i=[];a.handleChange(h.JSONDelete(l,e,i)),a.settingsInstance&&a.settingsInstance.updateSettings(e),t&&t(i)}))},t.prototype.clearClipBoard=function(){var e=this;this.setState({clipboard:null},(function(){d.persistSet("clipboard",e.state.clipboard)}))},t.prototype.getSchema=function(){return this.value},t.prototype.handleChange=function(e,t,a){void 0===t&&(t=!1);this.props.onChange;this.setState({value:this.value=e},t?this.emitChangeLazy.bind(this,a):this.emitChange.bind(this,a))},t.prototype.emitChange=function(e){var t=this,a=this.props.onChange,l=g.default(this.history,(function(e){return e.versionId===t.versionId}));~l&&this.history.splice(l+1,this.history.length-l-1),"patch"===e&&this.history.pop(),this.history.push({versionId:this.versionId=this.versionIdIndex++,value:this.value}),a(this.lastValue=d.JSONPipeOut(this.value))},t.prototype.getVersionId=function(){return this.versionId},t.prototype.undo=function(){var e=this,t=this.props.onChange,a=g.default(this.history,(function(t){return t.versionId===e.versionId}));if(a>0){var l=this.history[a-1];this.versionId=l.versionId,this.value=l.value,this.setState({value:this.value},(function(){t(e.lastValue=d.JSONPipeOut(e.value)),e.settingsInstance&&e.settingsInstance.updateSettings(void 0,"undo")}))}},t.prototype.redo=function(){var e=this,t=this.props.onChange,a=g.default(this.history,(function(t){return t.versionId===e.versionId}));if(a<this.history.length-1){var l=this.history[a+1];this.versionId=l.versionId,this.value=l.value,this.setState({value:this.value},(function(){t(e.lastValue=d.JSONPipeOut(e.value)),e.settingsInstance&&e.settingsInstance.updateSettings(void 0,"redo")}))}},t.prototype.confirmForm=function(e,t){return void 0===t&&(t={}),l.__awaiter(this,void 0,void 0,(function(){var a=this;return l.__generator(this,(function(l){return[2,new Promise((function(l){a.openDialog(e.title,{type:"form",data:t,controls:e.controls},(function(t){t=e.onConfirm?e.onConfirm(t):t,l(t)}),"md","dialog",!0,l)}))]}))}))},t.prototype.getActiveId=function(){return this.settings?this.settings.id:""},t.prototype.getHoverId=function(){return this.hoverId},t.prototype.getHoverRegion=function(){return this.hoverRegion},t.prototype.getDropId=function(){return this.dropId},t.prototype.setDropId=function(e,t,a){void 0===t&&(t=!1);var l=this.dropId,i=this.dropRegion,n=(e||"").split("-region-"),o=n[0],r=n[1];if(o!==l||i!==r){var s=l?this.resolveEditorById(l):null,p=o?this.resolveEditorById(o):null;this.dropId=o,this.dropRegion=r,s&&(s.editorWillUpdate(o,l,"drop"),s!==p&&s.updateHighlight()),p&&(p.editorWillUpdate(o,l,"drop"),p.updateHighlight()),this.setState({dropId:o,dropRegion:r})}},t.prototype.getDropRegion=function(){return this.dropRegion},t.prototype.getDragId=function(){return this.dragId},t.prototype.setDragId=function(e){this.dragId=e},t.prototype.handleEditorHover=function(e){var t=(e||"").split("-region-"),a=t[0],l=t[1],i=this.hoverId,n=this.hoverRegion;if(a!==i||l!==n){this.hoverId=a,this.hoverRegion=l;var o=i?this.resolveEditorById(i):null,r=a?this.resolveEditorById(a):null;o&&(o.updateHighlight(),n&&o.updateRegion(n)),r&&(r.updateHighlight(),l&&r.updateRegion(l))}},t.prototype.activeEditor=function(e,t,a){var i=this;void 0===a&&(a=!1);var n=this.settings&&this.settings.id?this.settings.id:"",o=this.props.onActive,r=this.state.settings,s=function(){var e=i.settings&&i.settings.id?i.settings.id:"",t="";if(o&&(t=e?o(e,i.getSettings(e),(function(t){return i.updateSettings(e,t,!0)})):o(n)),!1===t)return i.setState({settings:i.settings=r});var a=n?i.resolveEditorById(n):null,l=e?i.resolveEditorById(e):null;a&&!1!==a.editorWillUpdate(e,n,"select")&&a.updateHighlight(),l&&!1!==l.editorWillUpdate(e,n,"select")&&l.updateHighlight()};e?t&&(a||!this.settings||e!==this.settings.id)&&this.setState({settings:this.settings=l.__assign({id:e},t)},s):this.setState({settings:this.settings=null},s)},t.prototype.getRendererCandidates=function(e,t,a){var l=[],i=o.editors.filter((function(a){if(!a.name||!a.type)return!1;if("function"==typeof t){if(!t(a.type,e))return!1}else if(t&&!~t.indexOf(a.type)||~l.indexOf(a.type))return!1;var i=p.resolveRenderer(e+"/"+(a.affixPath||a.type));return!(!i||i.component!==a.renderer)&&(l.push(a.type),!0)})).map((function(e){return{label:e.name,value:e.scaffold||{type:e.type},image:e.image,docLink:e.docLink,previewSchema:e.previewSchema,description:e.description,icon:e.icon,tags:Array.isArray(e.tags)?e.tags.concat():e.tags?[e.tags]:[]}}));return a&&(i=i.sort(d.sortByList(a,(function(e){return e.value.type})))),i},t.prototype.pickRenderer=function(e,t,a,l,i,n){var o=this.props.onAdd;if(!o||!1!==o(e,t,a,l)){var r=this.getRendererCandidates(e,i,n);if(r.length){if(1===r.length)return l(r[0].value);this.openDialog("请选择渲染器类型",{type:"form",mode:"normal",className:"ae-RendereresPicker-form",data:{renderers:r.concat()},controls:[{name:"type",required:!0,validationErrors:{isRequired:"请点击选择渲染器类型"},component:S.default}]},(function(e){return l(e.type)}),"md","drawer",!0)}}},t.prototype.openDialog=function(e,t,a,n,o,r,s){void 0===n&&(n="full"),void 0===o&&(o="dialog"),void 0===r&&(r=!1),t&&"form"===t.type&&(t=l.__assign(l.__assign({},t),{wrapperComponent:"div"}));var p=[{children:i.default.createElement("div",{id:"toolbar-"+this.id,className:"ae-DialogToolbar"})},{type:"submit",label:"确认",level:"primary"},{type:"button",label:"取消",actionType:"close"}];this.setState("drawer"===o?{drawer:{title:e,body:t,onConfirm:a,onCancel:s,size:n,closeOnEsc:r,actions:p}}:{dialog:{title:e,body:t,onConfirm:a,onCancel:s,size:n,closeOnEsc:r,actions:p}})},t.prototype.syncOutline=function(){this.mounted&&this.setState({outline:this.outline=this.nodes.map(_)})},t.prototype.handleDialogClose=function(){var e=this.state.dialog;this.setState({dialog:void 0},(function(){var t;return null===(t=e.onCancel)||void 0===t?void 0:t.call(e)}))},t.prototype.handleDialogConfirm=function(e){var t=e[0],a=this.state.dialog;this.setState({dialog:void 0},(function(){return a.onConfirm(t)}))},t.prototype.handleDrawerClose=function(){var e=this.state.drawer;this.setState({drawer:void 0},(function(){var t;return null===(t=e.onCancel)||void 0===t?void 0:t.call(e)}))},t.prototype.handleDrawerConfirm=function(e){var t=e[0],a=this.state.drawer;this.setState({drawer:void 0},(function(){return a.onConfirm(t)}))},t.prototype.handleOutlineSelect=function(e,t){var a=(e||"").split("-region-"),l=a[0];a[1];this.selectEditor(l,t)},t.prototype.handleSettingsSizeToggle=function(){this.setState({seetingsSize:"large"===this.state.seetingsSize?"normal":"large"})},t.prototype.getDragElement=function(){return this.dragEl},t.prototype.setDragElement=function(e){this.dragEl=e},t.prototype.handleDragStart=function(e,t){var a=this;void 0===t&&(t=e.target);var l=t.getAttribute("data-editor-id");if(!l)return e.preventDefault(),!1;if(this.getDragId())e.dataTransfer.effectAllowed="move";else{for(var i;t&&(l=t.getAttribute("data-editor-id"),!1===(i=this.resolveEditorById(l)).draggable);)t=t.parentElement.closest("[data-editor-id]");if(!t)return e.preventDefault(),!1;this.dragElRaw=e.target,this.dragEl=t,this.setDragId(l);var n=this.dragImage=document.createElement("div");n.classList.add("ae-DragImage"),n.textContent=null==i?void 0:i.tipName,document.body.appendChild(n),e.dataTransfer.setDragImage(n,0,0),this.dragData=this.getSettings(l),this.dragRendererId=null==i?void 0:i.rendererName,setTimeout((function(){a.handleEditorHover(null),d.addDragingClass(t);var e=a.getActiveId();if(e){var l=a.resolveEditorById(e);l&&l.updateHighlight()}var i=t.parentNode.closest("[data-region-host]");if(i){var n=i.getAttribute("data-region-host");a.setDropId(n+"-region-"+i.getAttribute("data-region"))}a.setState({draging:!0})}),4)}},t.prototype.handleDragEnter=function(e){var t=this.dragEl;if(delete this.dragCallback,this.lastX=e.clientX,this.lastY=e.clientY,this.lastMoveAt=0,!t)for(var a=e.dataTransfer.types,l=a.length-1;l>=0;l--)if(/^dnd\/(.*)$/.test(a[l])){var i=RegExp.$1;if(n=document.querySelector('[data-dnd-id="'+i+'"]')){t=n,this.dragRendererId=i.replace(/^ae\-editor\-[^\-]+\-/,"");break}}if(t){var n;if(!this.dragEl)if(this.handleEditorHover(null),this.setState({draging:!0}),this.dragData=JSON.parse(t.getAttribute("data-dnd-data")),!this.dropId)if(this.getActiveId())this.setDropId(this.getActiveId());else(n=e.target.closest("[data-region-host]"))&&this.setDropId(n.getAttribute("data-region-host")+"-region-"+n.getAttribute("data-region"));this.dragEl=t,(this.dragElRaw||t).addEventListener("dragend",this.handleDragEnd),(this.dragGhost=document.createElement("div")).classList.add("ae-DragGhost"),this.dragCache={}}},t.prototype.handleDragOver=function(e,t,a){var l,i,n,o,r;if(void 0===t&&(t=e.target),void 0===a&&(a=!1),t&&this.dragEl&&this.dropId&&this.state.draging){e.preventDefault();var s=e.clientX-this.lastX,p=e.clientY-this.lastY,c=Math.max(Math.abs(s),Math.abs(p)),d=Date.now();if(c<5&&!a)0===this.lastMoveAt||(d-this.lastMoveAt>2e3?this.switchRegion(e):d-this.lastMoveAt>200&&this.highlightRegion(e));else{this.unhighlightRegion(),this.lastMoveAt=d,this.lastX=e.clientX,this.lastY=e.clientY;for(var m=Math.abs(p)>Math.abs(s),u=t.closest("[data-region]");u&&u.getAttribute("data-region-host")!==this.dropId;)u=u.parentNode.closest("[data-region]");if(u&&this.dragGhost){var h=this.dropRegion,b=u.getAttribute("data-region-host"),f=u.getAttribute("data-region"),y="editor_"+b,g=this.dragCache[y]?this.dragCache[y]:this.dragCache[y]=this.resolveEditorById(b);if(g&&g.acceptChild(null===(l=this.dragData)||void 0===l?void 0:l.type,f,this.dragRendererId)){this.setDropId(b+"-region-"+f);var v=g.regions;if(v){h&&h!==f&&v[h].entered&&(null===(n=(i=v[h]).handleDragLeave)||void 0===n||n.call(i,e,this.dragGhost,this.dragData,this.dragRendererId),v[h].entered=!1);var N=v[f];N&&(N.entered||(N.entered=!0,null===(o=N.handleDragEnter)||void 0===o||o.call(N,e,this.dragGhost,this.dragData,this.dragRendererId)),null===(r=N.handleDragOver)||void 0===r||r.call(N,e,this.dragGhost,this.dragData,this.dragRendererId,m),null==g||g.updateHighlight(!0))}}}}}},t.prototype.handleDrop=function(e){var t,a=this,l=this.dropId,i=this.dropRegion;if(l&&i){var n="editor_"+l,o=this.dragCache[n]?this.dragCache[n]:this.dragCache[n]=this.resolveEditorById(l),r=o.regions,s=r[i];if(r&&s&&s.getDropIndex&&o.acceptChild(null===(t=this.dragData)||void 0===t?void 0:t.type,i,this.dragRendererId)){var p=s.getDropIndex(),c=this.dragId,d=this.props,m=d.onAccept,u=d.onMove;if(c)this.dragCallback=function(){u&&!1===u(l,i,p,c)||o.moveTo&&o.moveTo(i,c,p,a.dragRendererId)};else{var h=this.dragData;this.dragCallback=function(){m&&!1===m(l,i,p,h)||o.add&&o.add(i,p,h,a.dragRendererId)}}}}},t.prototype.handleDragLeave=function(e){var t,a;if(this.dragGhost){var l=this.dropId,i=this.dropRegion;if(l&&i){var n="editor_"+l,o=this.dragCache[n]?this.dragCache[n]:this.dragCache[n]=this.resolveEditorById(l),r=o.regions;r[i].entered&&(null===(a=(t=r[i]).handleDragLeave)||void 0===a||a.call(t,e,this.dragGhost,this.dragData,this.dragRendererId),r[i].entered=!1),null==o||o.updateHighlight()}var s=this.dragGhost;s&&s.parentNode&&s.parentNode.removeChild(s),delete this.dragGhost}},t.prototype.handleDragEnd=function(e){var t,a,l,i=this;e.target.removeEventListener("dragend",this.handleDragEnd);var n=this.dragId,o=n&&document.querySelector('[data-editor-id="'+n+'"]');o&&d.removeDragingClass(o),this.setDragId(null);var r=this.dropId,s=this.dropRegion;if(r&&s){var p="editor_"+r,c=(this.dragCache[p]?this.dragCache[p]:this.dragCache[p]=this.resolveEditorById(r)).regions;c[s].entered&&(null===(a=(t=c[s]).handleDragLeave)||void 0===a||a.call(t,e,this.dragGhost,this.dragData,this.dragRendererId),c[s].entered=!1)}this.setDropId("");var m=this.dragGhost;m&&m.parentNode&&m.parentNode.removeChild(m),delete this.dragEl,delete this.dragElRaw,delete this.dragGhost,this.dragImage&&(this.dragImage.remove(),delete this.dragImage),null===(l=this.previewInstance)||void 0===l||l.reset(),this.unhighlightRegion(),this.setState({draging:!1},(function(){i.dragCallback&&i.dragCallback(),delete i.dragCallback;var e=i.getActiveId();if(e){var t="editor_"+e,a=i.dragCache[t]?i.dragCache[t]:i.dragCache[t]=i.resolveEditorById(e);a&&setTimeout((function(){return a.updateHighlight()}),250)}}))},t.prototype.highlightRegion=function(e){var t=e.target.closest("[data-region-host]");this.unhighlightRegion(),t&&(t.classList.add("is-entering"),this.highlightedRegion=t)},t.prototype.unhighlightRegion=function(){this.highlightedRegion&&(this.highlightedRegion.classList.remove("is-entering"),delete this.highlightedRegion)},t.prototype.switchRegion=function(e){var t=e.target.closest("[data-region-host]");t&&(this.setDropId(t.getAttribute("data-region-host")+"-region-"+t.getAttribute("data-region")),this.handleDragOver(e,t,!0))},t.prototype.handleContextMenu=function(e){var t="",a=e.target.closest("[data-editor-id]");if(this.getActiveId()&&e.target.closest('[data-editor-id="'+this.getActiveId()+'"]'))t=this.getActiveId();else if(a)t=this.getHoverId()||a.getAttribute("data-editor-id");else{var l=e.target.closest("[data-node-id]");l&&(t=l.getAttribute("data-node-id"))}if(t){var i=this.resolveEditorById(t);if(i&&i.getContextMenus){var n=i.getContextMenus();Array.isArray(n)&&(e.preventDefault(),e.stopPropagation(),n.push("|"),n.push({label:"关于可视化编辑器",onSelect:function(){return s.alert("欢迎使用 AMIS 可视化编辑器，只想说明这不是系统菜单！")}}),s.openContextMenus({x:window.scrollX+e.clientX,y:window.scrollY+e.clientY},n))}}},t.prototype.handleKeyDown=function(e){var t;if(!(e.defaultPrevented||this.state.dialog||this.state.drawer))return"BODY"===e.target.tagName&&90===e.keyCode&&(e.metaKey||e.ctrlKey)&&e.shiftKey?(e.preventDefault(),void this.redo()):"BODY"===e.target.tagName&&90===e.keyCode&&(e.metaKey||e.ctrlKey)?(e.preventDefault(),void this.undo()):void(!this.getActiveId()||!e.target.matches("[data-editor-id]")&&(null===(t=this.getEditorLayout())||void 0===t?void 0:t.contains(e.target))||(27===e.keyCode?(e.preventDefault(),this.unSelectEditor()):37===e.keyCode||38==e.keyCode?(e.preventDefault(),e.metaKey||e.ctrlKey?this.moveBackward():e.shiftKey?this.selectOutside():this.selectBackward()):39===e.keyCode||40==e.keyCode?(e.preventDefault(),e.metaKey||e.ctrlKey?this.moveForward():e.shiftKey?this.selectInside():this.selectForward()):88===e.keyCode?(e.preventDefault(),this.cutActive()):86===e.keyCode?(e.preventDefault(),this.pasteOnActive()):8===e.keyCode?this.deleteActive():188===e.keyCode&&(e.metaKey||e.ctrlKey)?(e.preventDefault(),this.openActiveSetting()):190===e.keyCode&&(e.metaKey||e.ctrlKey)?(e.preventDefault(),this.openActiveCode()):68===e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),this.duplicateActive())))},t.prototype.moveBackward=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.moveUp&&t.moveUp()}},t.prototype.moveForward=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.moveUp&&t.moveDown()}},t.prototype.selectBackward=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.selectBackward&&t.selectBackward()}},t.prototype.selectForward=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.selectForward&&t.selectForward()}},t.prototype.selectOutside=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.selectOutside&&t.selectOutside()}},t.prototype.selectInside=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.selectInside&&t.selectInside()}},t.prototype.cutActive=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.cutSelf()}},t.prototype.pasteOnActive=function(){},t.prototype.deleteActive=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.deleteSelf()}},t.prototype.openActiveSetting=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.openEditForm&&t.openEditForm()}},t.prototype.openActiveCode=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.openEditCode&&t.openEditCode(!0)}},t.prototype.duplicateActive=function(){var e=this.getActiveId();if(e){var t=this.resolveEditorById(e);t&&t.duplicateSelf&&t.duplicateSelf()}},t.prototype.renderToolbar=function(){var e=this,t=this.context.editor;if(t){var a=g.default(this.history,(function(t){return t.versionId===e.versionId}));return i.default.createElement(v.Portal,{container:function(){return document.querySelector("#toolbar-"+t.id)}},i.default.createElement("button",{type:"button","data-tooltip":"撤销","data-position":"bottom",onClick:this.undo,disabled:0===a},i.default.createElement("i",{className:"fa fa-undo"})),i.default.createElement("button",{type:"button","data-tooltip":"重做","data-position":"bottom",onClick:this.redo,disabled:a>=this.history.length-1},i.default.createElement("i",{className:"fa fa-rotate-right"})))}return null},t.prototype.render=function(){var e=this.props,t=e.preview,a=e.pathPrefix,n=e.previewClassName,c=(e.onChange,e.value,e.className),d=e.previewProps,u=e.theme,h=(e.autoFocus,l.__rest(e,["preview","pathPrefix","previewClassName","onChange","value","className","previewProps","theme","autoFocus"])),b=this.state,f=b.settings,y=b.dialog,g=b.drawer,v=b.value,S=b.seetingsSize,_=b.clipboard;return i.default.createElement("div",{className:m.default("ae-Editor",{preview:t,"ae-Editor-lg":"large"===S},c),onContextMenu:this.handleContextMenu},i.default.createElement("div",{className:"ae-Editor-inner"},t?null:i.default.createElement(r.default,{ref:this.settingsRef,settings:f,onHover:this.handleEditorHover,onSelect:this.handleOutlineSelect,activeId:this.state.draging?this.state.dropId+(this.state.dropRegion?"-region-"+this.state.dropRegion:""):this.getActiveId(),outline:this.state.outline,onSizeToggle:this.handleSettingsSizeToggle,size:S,showDropableNodesOnly:this.state.draging,theme:this.props.theme}),i.default.createElement("div",{className:"ae-Main"},t?null:i.default.createElement(N.default,{activeId:this.getActiveId(),outline:this.state.outline,onSelect:this.handleOutlineSelect,onHover:this.handleEditorHover}),i.default.createElement(o.default,l.__assign({onResize:this.handlePreviewResize,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onClick:this.handleClick,ref:this.previewRef,editable:!t,getSchema:this.getSchema,schema:v,widgetsLayerRef:this.widgetsLayerRef,pathPrefix:a,className:n,clipboard:_,theme:u},h,d,{key:v.$$id})))),i.default.createElement(s.ContextMenu,{theme:u}),this.renderToolbar(),p.render({type:"dialog"},{show:!!y,size:"full",title:null==y?void 0:y.title,onClose:this.handleDialogClose,onConfirm:this.handleDialogConfirm,body:null==y?void 0:y.body,actions:null==y?void 0:y.actions,closeOnEsc:null==y?void 0:y.closeOnEsc,bodyClassName:"ae-dialog"},{seesion:"editor-dialog",theme:u}),p.render({type:"drawer",position:"left"},{show:!!g,title:null==g?void 0:g.title,onClose:this.handleDrawerClose,onConfirm:this.handleDrawerConfirm,body:null==g?void 0:g.body,actions:null==y?void 0:y.actions,closeOnEsc:null==g?void 0:g.closeOnEsc},{seesion:"editor-dialog",theme:u}))},t.defaultProps={value:{title:"标题",body:"内容"},pathPrefix:"",previewClassName:"",theme:"default",autoFocus:!0},t.childContextTypes={editor:u.default.object,editorNode:u.default.object,theme:u.default.string},t.contextTypes={editor:u.default.object},t}(i.default.PureComponent);t.default=T},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=a(3),n=l.__importDefault(a(16)),o=a(15),r=a(20),s=l.__importDefault(a(13)),p=a(25),c=a(26),d=a(4),m=a(44),u=a(21),h=l.__importDefault(a(45)),b=r.Portal,f=function(e){function t(t){var a=e.call(this,t)||this;a.isRegion=!0,a.nodes=[],a.entered=!1,a.dropPosition=-1,a.lastX=0,a.lastY=0,a.addNode=a.addNode.bind(a),a.removeTo=a.removeTo.bind(a),a.handleAdd=a.handleAdd.bind(a);var l=a.addBtn=document.createElement("a");return l.className="ae-AddBtn",l.innerHTML='<svg viewBox="0 0 12 12" class=" icon-plus"><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="plus" fill="currentColor" fill-rule="nonzero"><polygon id="path-1" points="6.6 6.6 6.6 12 5.4 12 5.4 6.6 0 6.6 0 5.4 5.4 5.4 5.4 0 6.6 0 6.6 5.4 12 5.4 12 6.6"></polygon></g></g></svg>',l.addEventListener("click",a.handleAdd),a}return l.__extends(t,e),t.prototype.getChildContext=function(){var e=this.props;return{editorNode:{isRegion:!0,id:e.hostId+"-region-"+e.name,add:this.addNode,remove:this.removeTo,getNodes:this.getNodes,component:this,parent:this.context.editorNode}}},t.prototype.componentWillMount=function(){var e=this.context.editorNode;e&&e.add(this)},t.prototype.componentDidMount=function(){this.updateHlbox()},t.prototype.componentDidUpdate=function(){this.updateHlbox()},t.prototype.componentWillUnmount=function(){var e=this.context.editorNode;e&&e.remove(this),this.addBtn.removeEventListener("click",this.handleAdd)},t.prototype.hlDomRef=function(e){this.hlDom=e,this.updateHlbox()},t.prototype.getWrapper=function(){var e=o.findDOMNode(this),t=this.props.wrapperResolve,a=null==e?void 0:e.parentElement;return e&&"function"==typeof t?a=t(e):e&&"string"==typeof t&&(a=e.querySelector(t)),a},t.prototype.updateHlbox=function(){var e=this.getWrapper();if(e){var t=this.props,a=t.name,l=t.hostId,i=this.context.editor,n=this.context.editorNode.component,o=i.getActiveId(),r=i.getHoverId(),s=i.getHoverRegion(),d=i.getDropId(),m=i.getDropRegion(),u=i.getDragId();if(!n.disabledContainers||!~n.disabledContainers.indexOf(a)){var h=l===r&&a===s||n.dropable&&l===d&&m===a,b=l===o&&!u||n.dropable&&l===d||h;n.disabledContainers&&~n.disabledContainers.indexOf(a)&&(b=!1);var f=b&&a===m,y=e;if(y.setAttribute("data-region",a),y.setAttribute("data-region-host",l),y.setAttribute("data-renderer",n.rendererName),b?y.classList.remove("not-active"):y.classList.add("not-active"),f?y.classList.add("is-dragenter"):y.classList.remove("is-dragenter"),b&&!f){var g=[].slice.call(y.children),v=g.indexOf(this.addBtn);~v&&v===g.length-1||y.appendChild(this.addBtn)}else this.addBtn.parentElement===y&&y.removeChild(this.addBtn)}}if(this.hlDom&&e){var N=this.context.editor.getWidgetsLayer(),S=e,_=p(S,N),x=S.getBoundingClientRect(),T=x.height,B=c(S),C=parseInt(B.marginLeft,10)||0,O=parseInt(B.marginTop,10)||0;this.hlDom.style.cssText+="\n        display: block;\n        width: "+x.width+"px;\n        height: "+T+"px;\n        left: "+(_.left+C)+"px;\n        top: "+(_.top+O)+"px;\n    "}},t.prototype.addNode=function(e){~this.nodes.indexOf(e)||(this.nodes.push(e),this.context.editor.syncOutline())},t.prototype.removeTo=function(e){var t=this.nodes.indexOf(e);~t&&(this.nodes.splice(t,1),this.context.editor.syncOutline())},t.prototype.getNodes=function(){return this.nodes.concat()},t.prototype.getContextMenus=function(){var e=this,t=this.context.editorNode,a=this.context.editor,l=t.component,i=l.props.clipboard,n=this.props.hostId,o=this.props.name,r=[];return r.push({label:"插入组件",onSelect:function(){return l.pickChild(e.props.name)},onHighlight:function(e){return a.hover(e?n+"-region-"+o:"")}}),i&&r.push({label:"清空剪切板",onSelect:function(){return a.clearClipBoard()}}),r.push({label:"粘贴",disabled:!(i&&l.acceptChild(i.type,this.props.name)),onSelect:function(){return l.addChild(e.props.name,i)}}),r.push({label:"清空",onSelect:function(){return l.emptyChild(e.props.name)}}),r},t.prototype.handleDragEnter=function(e,t,a){var l=this.context.editorNode;m.renderToDom(t,l,this.props.name,a),this.wrapper=this.getWrapper();var i=this.context.editor;this.schema=d.JSONGetById(i.getSchema(),this.props.hostId)},t.prototype.handleDragLeave=function(e,t,a){m.unRender(t)},t.prototype.handleAdd=function(){this.context.editorNode.component.pickChild(this.props.name)},t.prototype.handleDragOver=function(e,t,a,l,i){var n=e.clientX,o=e.clientY,r=this.wrapper,s=this.getTarget(e,r),p=this.schema,c=this.props.name,d=Array.isArray(p[c])?p[c]:[];if(s){var m=s.getAttribute("data-editor-id"),b=this.getChild(r,s),f=u(d,(function(e){return e.$$id===m})),y=s.getBoundingClientRect(),g=Array.prototype.indexOf.call(r.children,t),v=Array.prototype.indexOf.call(r.children,b);~g&&g>v&&(i?o<y.top+y.height/2:n<y.left+y.width/2)?(g!==v-1&&(h.default.capture(r),r.insertBefore(t,b),h.default.animateAll(),this.update()),this.dropPosition=f):(~g&&g<v&&i?o>y.top+y.height/2:n>y.left+y.width/2)&&(this.dropPosition=f+1,g!==v+1&&(h.default.capture(r),r.insertBefore(t,b.nextSibling),h.default.animateAll(),this.update()))}t.parentNode!==r&&(this.dropPosition=d.length,h.default.capture(r),r.appendChild(t),h.default.animateAll(),this.update()),this.lastX=e.clientX,this.lastY=e.clientY},t.prototype.getTarget=function(e,t){for(var a,l,i=e.target.closest("[data-editor-id]");i;){if((null===(a=i.parentElement)||void 0===a?void 0:a.closest("[data-region]"))===t)return i;i=(null===(l=i.parentElement)||void 0===l?void 0:l.closest("[data-editor-id]"))||null}return null},t.prototype.getChild=function(e,t){for(var a=t;a&&a.parentElement!==e;)a=a.parentElement;return a},t.prototype.getDropIndex=function(){return this.dropPosition},t.prototype.update=function(){this.updateHlbox()},t.prototype.render=function(){var e=this.props,t=e.name,a=e.hostId,l=e.children,n=e.label,o=(e.className,this.context.editor),r=this.context.editorNode.component,p=o.getActiveId(),c=o.getHoverId(),d=o.getHoverRegion(),m=o.getDropId(),u=o.getDropRegion(),h=o.getDragId();if(r.disabledContainers&&~r.disabledContainers.indexOf(t))return l;var f=a===c&&t===d||r.dropable&&a===m&&u===t,y=a===p&&!h||r.dropable&&a===m||f;r.disabledContainers&&~r.disabledContainers.indexOf(t)&&(y=!1);var g=y&&t===u;return i.createElement(i.Fragment,null,l,i.createElement("span",{className:"ae-Region-Placeholder"}),i.createElement(b,{container:o.getWidgetsLayer},y?i.createElement("div",{ref:this.hlDomRef,"data-renderer":r.rendererName,"data-region":t,className:s.default("ae-Editor-rhlbox",g?"is-dragenter":"",f?"is-highlight":"")},i.createElement("div",{"data-node-id":a+"-region-"+t,className:"region-tip"},n)):null))},t.contextTypes={editor:n.default.object,editorNode:n.default.object},t.childContextTypes={editorNode:n.default.object},l.__decorate([d.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"hlDomRef",null),t}(i.Component);t.default=f},function(e,t){e.exports=require("a2c664a")},function(e,t){e.exports=require("af1cc81")},function(e,t){e.exports=require("345ea29")},function(e,t){e.exports=require("3c5b02d")},function(e,t){e.exports=require("210bd77")},function(e,t){e.exports=require("c406116")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(4),r=a(12),s=a(7),p=a(6),c={type:"text",label:"文本",name:"text"},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Text",t.$schema="https://houtai.baidu.com/v2/schemas/form/text.json#",t.settingsSchema={title:"文本框配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:p([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("hint"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("clearable"),{name:"addOn",label:"启用 addOn",type:"switch",mode:"inline",className:"w-full",pipeIn:function(e){return!!e},pipeOut:function(e){return e?o.JSONPipeIn({label:"按钮",type:"button"}):null}},{type:"combo",multiLine:!0,name:"addOn",visibleOn:"data.addOn",controls:[{name:"type",label:"类型",type:"button-group",size:"xs",options:[{label:"文本",value:"text"},{label:"按钮",value:"button"},{label:"提交",value:"submit"}]},{name:"label",label:"文字",type:"text",visibleOn:'this.type === "text"'},{name:"icon",label:"Icon",type:"icon-picker",visibleOn:'this.type === "text"'},n.getSchemaTplByName("className",{visibleOn:'this.type === "text"'}),{name:"position",label:"位置",type:"button-group",size:"xs",pipeIn:n.defaultValue("right"),options:[{label:"左边",value:"left"},{label:"右边",value:"right"}]}]}])},{title:"选项",controls:[{name:"autoComplete",label:"自动填充",mode:"inline",className:"w-full",type:"switch",pipeIn:function(e){return!1!==e},pipeOut:function(e){return!!e&&""}},n.getSchemaTplByName("options",{visibleOn:"data.autoComplete !== false",description:"设置选项后，输入时会下拉这些选项供用户参考。"}),n.getSchemaTplByName("api",{name:"source",label:"选项获取接口",description:"可以通过接口获取动态选项，一次拉取全部。",visibleOn:"data.autoComplete !== false"}),n.getSchemaTplByName("api",{name:"autoComplete",label:"自动完成接口",description:"每次输入新内容后，将调用接口，根据接口返回更新选项。当前用户输入值在 `\\${term}` 中。",visibleOn:"data.autoComplete !== false"}),n.getSchemaTplByName("multiple",{visibleOn:"data.options || data.source || data.autoComplete"}),n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter"),n.getSchemaTplByName("extractValue")]},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{type:"switch",name:"readOnly",label:"是否只读",mode:"inline",className:"w-full"},n.getSchemaTplByName("required"),{type:"switch",name:"trimContents",label:"去除首尾空白",mode:"inline",className:"w-full",description:"开启后，将不允许用户输入前后空格"},n.getSchemaTplByName("validations"),n.getSchemaTplByName("validationErrors"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t.prototype.getSettingsValue=function(){var t=e.prototype.getSettingsValue.call(this);return l.__assign(l.__assign({},t),{formHorizontal:this.props.formHorizontal,$$formMode:this.props.formMode})},t.prototype.setSettingsValue=function(t){return e.prototype.setSettingsValue.call(this,r(t,["formHorizontal","$$formMode"]))},t=l.__decorate([i.Editor("text-control",{name:"文本框",description:"配置<code>options</code>可以实现选择选项，效果同<code>select</code>",type:"text",tags:["表单项"],scaffold:c,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},c)}})],t)}(s.FormItemEditor);t.TextControlEditor=d},function(e,t){e.exports=require("70cb05e")},function(e,t){e.exports=require("bcd4f30")},function(e,t){e.exports=require("833ad00")},function(e,t){e.exports=require("a2d3c6a")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=t.extendsEnv=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(5),o=l.__importDefault(a(13)),r={session:"settings",notify:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log.apply(console,e)}};t.extendsEnv=function(e){e&&Object.keys(e).forEach((function(t){return r[t]=e[t]}))},t.getEnv=function(){return r};var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubmit=function(e){return t.props.onChange(e),!1},t.scopeRef=function(e){t.scope=e},t.flush=function(){var e=t.scope.getComponents()[0];e&&e.flush()},t.getValue=function(){var e=t.scope.getComponents()[0];return e?l.__assign({},e.props.store.data):{}},t}return l.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.value,a=e.schema,s=e.popOverContainer,p=e.theme;return i.default.createElement("div",{className:o.default("ae-Settings-content","padder p-t-sm")},n.render(l.__assign(l.__assign({},a),{className:"ae-Settings-form",wrapperComponent:"div",type:"form",title:"",mode:"normal",wrapWithPanel:!1,submitOnChange:!0}),{onSubmit:this.handleSubmit,data:t,popOverContainer:s,scopeRef:this.scopeRef},l.__assign(l.__assign({},r),{theme:p})))},t}(i.default.PureComponent);t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a(40),a(46),a(18),a(47),a(48),a(49),a(50),a(51),a(52),a(53),a(54),a(55),a(56),a(57),a(58),a(59),a(60),a(61),a(62),a(63),a(64),a(65),a(66),a(67),a(68),a(69),a(70),a(71),a(72),a(73),a(74),a(75),a(76),a(77),a(78),a(79),a(80),a(81),a(82),a(83),a(28),a(84),a(29),a(85),a(86),a(87),a(88),a(90),a(91),a(32),a(92),a(93),a(94),a(95),a(96),a(97),a(98),a(99),a(100),a(101),a(102),a(103),a(104),a(108),a(109),a(110),a(111),a(112),a(113),a(114),a(115),a(116),a(117),a(118),a(119),a(120),a(121),a(122),a(123),a(124),a(125),a(126),a(127),a(128),a(129),a(130),a(131),a(132),a(133),a(134),a(135),a(136),a(137),a(138),a(33),a(31),a(139),a(140),a(141),a(142),a(144)},function(e,t){e.exports=require("2906347")},function(e,t){e.exports=require("6d61b6d")},function(e,t){e.exports=require("7f33406")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(8)),r=a(12),s=a(5),p=a(2),c=l.__importDefault(a(10)),d=a(6),m=a(4),u={type:"button",label:"按钮"},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Button",t.$schema="https://houtai.baidu.com/v2/schemas/form/button.json#",t.isInDialog=/(?:\/|^)dialog\/.+$/.test(t.props.$path),t.isInDropdown=/(?:\/|^)dropdown-button\/.+$/.test(t.props.$path),t.settingsSchema={title:"按钮配置",controls:[p.getSchemaTplByName("tabs",[{title:"常规",controls:d([{label:"名称",type:"text",name:"label"},{label:"类型",type:"button-group",name:"type",size:"sm",options:[{label:"按钮",value:"button"},{label:"提交",value:"submit"},{label:"重置",value:"reset"}]},{label:"按钮行为",type:"select",name:"actionType",options:[{label:"弹框",value:"dialog"},{label:"抽出式弹框（Drawer）",value:"drawer"},{label:"发送请求",value:"ajax"},{label:"页面跳转(单页模式)",value:"link"},{label:"页面跳转",value:"url"},{label:"刷新目标",value:"reload"},{label:"复制内容",value:"copy"},{label:"提交",value:"submit"},{label:"重置",value:"reset"},{label:"确认",value:"confirm"},{label:"取消",value:"cancel"},{label:"跳转下一条",value:"next"},{label:"跳转上一条",value:"prev"}]},{type:"text",name:"content",visibleOn:'data.actionType == "copy"',label:"复制内容模板"},{type:"text",name:"target",visibleOn:'data.actionType == "reload"',label:"指定刷新目标",required:!0},{type:"button-group",name:"tooltipPlacement",visibleOn:"data.tooltip || data.disabledTip",label:"提示信息位置",size:"sm",mode:"inline",className:"w-full",value:"bottom",options:[{label:"上",value:"top"},{label:"右",value:"right"},{label:"下",value:"bottom"},{label:"左",value:"left"}]},{visibleOn:'data.actionType == "dialog"',name:"dialog",value:{title:"弹框标题",body:"<p>对，你刚刚点击了</p>"},children:i.default.createElement(s.Button,{size:"sm",level:"danger",className:"m-b",onClick:t.handleEditDialog.bind(t),block:!0},"配置弹框内容")},{visibleOn:'data.actionType == "drawer"',name:"drawer",value:{title:"弹框标题",body:"<p>对，你刚刚点击了</p>"},children:i.default.createElement(s.Button,{size:"sm",level:"danger",className:"m-b",onClick:t.handleEditDrawer.bind(t),block:!0},"配置抽出式弹框内容")},p.getSchemaTplByName("api",{label:"目标API",visibleOn:'data.actionType == "ajax"'}),{visibleOn:'data.actionType == "ajax"',name:"feedback",children:function(e){var a=e.onChange,l=e.value;return i.default.createElement("div",{className:"m-b"},i.default.createElement(s.Button,{size:"sm",level:l?"danger":"info",onClick:t.handleEditFeedback.bind(t)},"配置反馈弹框内容"),l?i.default.createElement(s.Button,{size:"sm",level:"link",className:"m-l",onClick:function(){return a("")}},"清空设置"):null)}},{name:"feedback.visibleOn",label:"是否弹出表达式",type:"text",visibleOn:"this.feedback",autoComplete:!1,description:"请使用 JS 表达式如：`this.xxx == 1`"},{type:"text",label:"目标地址",name:"link",visibleOn:'data.actionType == "link"'},{type:"text",label:"目标地址",name:"url",visibleOn:'data.actionType == "url"',placeholder:"http://"},{type:"switch",name:"blank",visibleOn:'data.actionType == "url"',mode:"inline",className:"w-full",label:"是否用新窗口打开",pipeIn:p.defaultValue(!0)},t.isInDialog?{visibleOn:'data.actionType == "submit" || data.type == "submit"',name:"close",type:"switch",mode:"inline",className:"w-full",pipeIn:p.defaultValue(!0),label:"是否关闭当前弹框"}:null,{name:"confirmText",type:"textarea",label:"确认信息",description:"点击后会弹出此内容，等用户确认后才进行之后的操作。"},{type:"text",name:"reload",label:"指定刷新目标",visibleOn:'data.actionType != "link" && data.actionType != "url"',description:"指定目标组件的 <code>name</code> 属性值，当前动作完成后刷新目标组件。"},{type:"text",name:"target",visibleOn:'data.actionType != "reload"',label:"指定响应目标",description:"指定目标组件的 <code>name</code> 属性值，把当前的值提交给目标组件，默认为当前组件所在容器。"}])},{title:"外观",controls:[p.getSchemaTplByName("icon"),p.getSchemaTplByName("size"),{label:"展示样式",type:"select",name:"level",hidden:t.isInDropdown,clearable:!1,btnActiveLevel:"",options:[{label:"默认",value:"default",level:"default"},{label:"链接",value:"link",level:"link"},{label:"主色",value:"primary",level:"primary"},{label:"淡色",value:"light",level:"light"},{label:"深色",value:"dark",level:"dark"},{label:"提示",value:"info",level:"info"},{label:"成功",value:"success",level:"success"},{label:"警告",value:"warning",level:"warning"},{label:"严重",value:"danger",level:"danger"}]},p.getSchemaTplByName("className",{label:"按钮 CSS 类名",name:"inputClassName"})]},{title:"其他",controls:[p.getSchemaTplByName("ref"),{type:"text",name:"tooltip",hidden:t.isInDropdown,label:"提示信息",description:"鼠标停留时弹出该段文字"},p.getSchemaTplByName("disabled"),{type:"text",name:"disabledTip",label:"禁用提示信息",hidden:t.isInDropdown,description:"按钮被禁用时，鼠标停留弹出该段文字"},p.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t.prototype.handleEditDialog=function(){var e=this.context.editor,t=this.props,a=t.$$id,n=t.data,o=m.JSONPipeOut(e.get(a).dialog);e.openDialog("配置弹框内容",{type:"form",mode:"normal",data:{dialog:o},controls:[{name:"dialog",children:function(t){var a=t.value,o=t.onChange;return i.default.createElement(c.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},a),{type:"dialog"}),onChange:o,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(t){return e.update(a,{dialog:r(m.JSONPipeIn(t.dialog),["$$edittingDialog"])})}),"xl")},t.prototype.handleEditDrawer=function(){var e=this.context.editor,t=this.props,a=t.$$id,n=t.data,o=m.JSONPipeOut(e.get(a).drawer);e.openDialog("配置抽出式弹框内容",{type:"form",mode:"normal",data:{drawer:o},controls:[{name:"drawer",children:function(t){var a=t.value,o=t.onChange;return i.default.createElement(c.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},a),{type:"drawer"}),onChange:o,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(t){return e.update(a,{drawer:m.JSONPipeIn(t.drawer)})}),"xl")},t.prototype.handleEditFeedback=function(){var e=this.context.editor,t=this.props,a=t.$$id,n=t.data,o=m.JSONPipeOut(e.get(a).feedback)||{title:"标题",body:"<p>内容</p>"};e.openDialog("配置反馈弹框详情",{type:"form",mode:"normal",data:{feedback:o},controls:[{name:"feedback",children:function(t){var a=t.value,o=t.onChange;return i.default.createElement(c.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},a),{type:"dialog"}),onChange:o,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(t){return e.update(a,{feedback:r(m.JSONPipeIn(t.feedback),["$$edittingDialog","type"])})}),"xl")},t=l.__decorate([n.Editor("button-control",{name:"按钮",tags:["表单项"],description:"可配置不同的主题和大小，也可以通过配置按钮行为，如弹窗，跳转，发起请求等",type:"button",scaffold:u,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({},u)}})],t)}(o.default);t.ButtonEditor=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonToolbarControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(6),r=l.__importDefault(a(8)),s={type:"button-toolbar",buttons:[{type:"button",label:"按钮1",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}},{type:"button",label:"按钮2",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}}]},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="按钮工具栏",t.$schema="https://houtai.baidu.com/v2/schemas/form/button-toolbar.json#",t.settingsSchema={title:"工具栏配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:o([n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("visible")]}])]},t.containers=["buttons"],t.containerLabels=["按钮集合"],t}return l.__extends(t,e),t.prototype.acceptChild=function(t,a,l){return!!~["button","submit","reset","button-group"].indexOf(t)&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.handleAdd=function(){this.pickChild("buttons")},t.prototype.getContextMenus=function(){var t=e.prototype.getContextMenus.call(this);return t.push({label:"添加按钮",onSelect:this.handleAdd.bind(this)}),t},t.prototype.renderRenderer=function(t){return t.buttons&&t.buttons.length?e.prototype.renderRenderer.call(this,t):this.renderPlaceholder(t)},t=l.__decorate([i.Editor("button-toolbar-control",{name:"按钮工具栏",tags:["表单项"],description:"多个按钮的集合",type:"button-toolbar",scaffold:s,icon:"fa fa-stop-circle",previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(r.default);t.ButtonToolbarControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabEditor=void 0;var l=a(0),i=l.__importDefault(a(9)),n=a(3),o=a(2),r=l.__importDefault(a(11)),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="卡片"+(t.props.index+1),t.containers=["body"],t.containerLabels=["内容区"],t.settingsSchema={title:"选项卡配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"title",type:"text",placeholder:"名称",required:!0},o.getSchemaTplByName("icon"),{label:"Hash",name:"hash",type:"text",description:"设置后，会同步更新地址栏的 Hash。"}]},{title:"外观",controls:[o.getSchemaTplByName("className")]},{title:"其他",controls:[{type:"switch",name:"unmountOnExit",label:"隐藏时是否销毁",mode:"inline",className:"block",description:"设置以后该tab每次都会重新渲染，对于crud的重新拉取很有用"},{type:"switch",name:"unmountOnExit",label:"隐藏时是否销毁",mode:"inline",className:"block",description:"设置以后所有子tab每次切换时都会重新渲染"},o.getSchemaTplByName("visible"),o.getSchemaTplByName("disabled")]}])},t}return l.__extends(t,e),t.prototype.renderRenderer=function(e){var t=this;return n.createElement("div",{key:e.key,ref:this.childRef,"data-editor-id":this.props.$$id},n.createElement(r.default,{name:"body",ref:function(e){return t.regionRef("body",e)},label:"内容区",hostId:this.props.$$id},e.children))},t.prototype.openEditForm=function(){e.prototype.openEditForm.call(this);var t=this.context.editorNode;t.component.switchTo&&t.component.switchTo(this.props.index)},t}(i.default);t.TabEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabsEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(4),s=l.__importDefault(a(8)),p=a(30),c=a(5),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Tabs",t.$schema="https://houtai.baidu.com/v2/schemas/tabs.json#",t.containers=["tabs"],t.settingsSchema={title:"选项卡配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{children:i.default.createElement("div",null,i.default.createElement(c.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:function(){return t.handleAdd()}},"新增卡片"))},{type:"switch",name:"unmountOnExit",label:"隐藏时是否销毁",mode:"inline",className:"block",description:"设置以后所有子tab每次切换时都会重新渲染"}]},{title:"外观",controls:[{name:"tabsMode",label:"样式",type:"button-group",size:"sm",mode:"inline",className:"block",pipeIn:o.defaultValue(""),options:[{label:"默认",value:""},{label:"样式1",value:"line"},{label:"样式2",value:"card"},{label:"样式3",value:"radio"}]},o.getSchemaTplByName("className"),o.getSchemaTplByName("className",{name:"tabClassName",label:"选项卡成员 CSS 类名"})]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t.prototype.handleClick=function(e){e.defaultPrevented||(e.target.closest("[role=tablist]>li")?(e.preventDefault(),this.active()):e.target.closest(this.clickIgnoreSelecor)?e.preventDefault():(e.stopPropagation(),e.preventDefault(),this.active()))},t.prototype.renderRenderer=function(t){return e.prototype.renderRenderer.call(this,l.__assign(l.__assign({},t),{unmountOnExit:!0,mountOnEnter:!0}))},t.prototype.switchTo=function(e){this.renderer&&this.renderer.switchTo&&this.renderer.switchTo(e)},t.prototype.getContextMenus=function(){var t=this,a=e.prototype.getContextMenus.call(this);return a.push({label:"新增卡片",onSelect:function(){return t.handleAdd()}}),a},t.prototype.handleAdd=function(){var e=this.context.editor,t=this.props.$$id,a=e.get(t).tabs;a=Array.isArray(a)?a.concat():a?[a]:[];var l=r.JSONPipeIn({title:"卡片名称",body:[{type:"tpl",tpl:"内容"}]});a.push(l),e.update(t,{tabs:a})},t=l.__decorate([n.Editor("tabs",{name:"选项卡(Tabs)",description:"选项卡，可以将内容分组用选项卡的形式展示，降低用户使用成本。",tags:["容器"],previewSchema:{type:"tabs",className:"text-left m-b-none",tabs:[{title:"分组A",body:"这是分组A的内容"},{title:"分组B",body:"这是分组B的内容"},{title:"分组C",body:"这是分组C的内容"}]},type:"tabs",scaffold:{type:"tabs",tabs:[{title:"选项卡1",body:"内容1"},{title:"选项卡2",body:"内容2"}]}},{renderTabs:function(){var e=this.super(),t=e.props.children,a=this.props.tabs;return this.props.$editor&&Array.isArray(t)&&Array.isArray(a)&&(t=t.map((function(e,t){return e?i.default.cloneElement(e,{children:i.default.createElement(p.TabEditor,l.__assign({},a[t],{$$replaceable:!1,eventKey:e.props.eventKey,index:t,key:"outter-"+t}),e.props.children)}):null})),e=i.default.cloneElement(e,{children:t})),e}})],t)}(s.default);t.TabsEditor=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(4),s=a(5),p=l.__importDefault(a(11)),c=l.__importDefault(a(9)),d={type:"service",body:"内容"},m=function(e){function t(t,a){var n=e.call(this,t,a)||this;n.tipName="Service",n.$schema="https://houtai.baidu.com/v2/schemas/form/service.json#",n.dropable=!0,n.isFormItem=/\/control\/\w+$/.test(n.props.$path),n.settingsSchema={title:"服务配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[n.isFormItem?{label:"内容形式",name:"$$mode",type:"button-group",size:"xs",pipeIn:o.defaultValue("form"),description:"如果选择表单，内容默认为表单项，如果选择其他则可以放其他类型渲染器",options:[{label:"表单",value:"form"},{label:"其他",value:"other"}]}:null,{children:i.default.createElement(s.Button,{size:"sm",level:"info",className:"m-b",onClick:function(){return"form"===n.state.$$mode?n.pickChild("controls"):n.pickChild("body")},block:!0},"新增内容")},{type:"divider"},o.getSchemaTplByName("api",{label:"数据接口"}),o.getSchemaTplByName("initFetch"),{name:"interval",label:"定时刷新间隔",visibleOn:"this.api",type:"number",step:500,description:"设置后将自动定时刷新，单位 ms"},{name:"silentPolling",label:"静默加载",mode:"inline",className:"block",type:"switch",visibleOn:"!!data.interval",description:"设置自动定时刷新是否显示加载动画"},{name:"stopAutoRefreshWhen",label:"停止定时刷新检测",type:"text",visibleOn:"!!data.interval",description:"定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则不刷新了。"},{type:"divider"},o.getSchemaTplByName("api",{name:"schemaApi",label:"内容 Schema 接口"}),{type:"divider"},o.getSchemaTplByName("initFetch",{name:"initFetchSchema",visibleOn:"data.schemaApi",label:"初始是否拉取内容 Schema 接口"}),{label:"默认消息信息",type:"combo",name:"messages",multiLine:!0,description:"设置 service 默认提示信息，当 service 没有返回 msg 信息时有用，如果 service 返回携带了 msg 值，则还是以 service 返回为主",controls:[{label:"获取成功",type:"text",name:"fetchSuccess"},{label:"获取失败",type:"text",name:"fetchFailed"}]}]},{title:"外观",controls:[o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("name"),o.getSchemaTplByName("visible")]}])},n.schemaCaches={},n.containers=["body","controls"],n.containerLabels=["内容区","子表单"],n.regions2path={controls:"control"};var r=t.controls?"form":"other";return n.disabledContainers="form"===r?["body"]:["controls"],n.state=l.__assign(l.__assign({},n.modifyProps(t,a,r)),{$$mode:r}),n}return l.__extends(t,e),t.prototype.renderRenderer=function(t){return t.body&&(!Array.isArray(t.body)||t.body.length)||t.controls&&(!Array.isArray(t.controls)||t.controls.length)||t.schemaApi?e.prototype.renderRenderer.call(this,t):this.renderPlaceholder(t)},t.prototype.setSettingsValue=function(e){var t=this.props.$$id,a=this.context.editor,i=l.__assign(l.__assign({},a.get(t)),e),n=i.$$mode;return delete i.$$mode,delete i.$$formMode,"form"===n?(this.schemaCaches.other=i.body,delete i.body,this.state.$$mode!==n&&(i.controls=this.schemaCaches[n]||[{type:"text",label:"文本",name:"var1"}])):(this.schemaCaches.form=i.controls,delete i.controls,this.state.$$mode!==n&&(i.body=this.schemaCaches[n]||[{type:"tpl",tpl:"内容",inline:!1}])),this.disabledContainers="form"===n?["body"]:["controls"],this.mounted&&this.setState({$$mode:n}),a.update(t,r.JSONPipeIn(i),!0,"form")},t.prototype.getSettingsValue=function(){var e=this.props.$$id,t=this.context.editor.get(e);return l.__assign(l.__assign({},t),{$$mode:this.state.$$mode||"form",$$formMode:this.props.formMode})},t.prototype.renderChild=function(e,t,a){return(0,this.props.render)(e,t,l.__assign(l.__assign({},a),{$editor:this,regionRef:this.regionRef}))},t.prototype.pickChild=function(t){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return"controls"===t?e.prototype.pickChild.call(this,"control","controls"):e.prototype.pickChild.apply(this,l.__spreadArrays([t],a))},t=l.__decorate([n.Editor("service-control",{name:"服务(Service)",description:"功能型容器，自身不负责展示内容，主要职责在于通过配置的 <code>api</code> 拉取数据，数据可用于子组件。通过<code>schemaApi</code>拉取远程<code>schema</code>渲染在当前页面",type:"service",tags:["表单项"],scaffold:d},{renderBody:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a)return this.super.apply(this,e);var l=this.props.controls,n=this.super.apply(this,e),o=this.props.regionRef;return i.default.createElement(p.default,{key:l?"controls":"body",ref:function(e){return o(l?"controls":"body",e)},name:l?"controls":"body",label:l?"子表单":"内容",hostId:a.props.$$id},n)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(c.default);t.ServiceEditor=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mockValue=t.TableEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=a(4),p=a(4),c=a(105),d=l.__importDefault(a(9)),m=l.__importDefault(a(106)),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="表格",t.$schema="https://houtai.baidu.com/v2/schemas/table.json#",t.isCRUDBody=/\/crud\/body\/table$/.test(t.props.$path),t.dropable=!0,t.containers=["header","columns","footer"],t.containerLabels=["顶部","列","底部"],t.childrenSortList={columns:["plain","mapping","operation","date","status","switch","image","operation","tpl","container"]},t.handleAdd=function(){return t.pickChild("columns")},t.settingsSchema={title:"表格配置",controls:r.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isCRUDBody?{type:"alert",body:"当前选择为「增删改查」下面的「表格设置」，切换到上层节点「增删改查」还有更多配置。"}:null,{name:"title",type:"text",label:"标题"},t.isCRUDBody?null:{name:"source",type:"text",label:"数据源",pipeIn:r.defaultValue("${items}"),description:"绑定当前环境变量"},{name:"combineNum",label:"自动合并单元格",type:"number",placeholder:"设置列数",description:"设置从左到右多少列内启用自动合并单元格，根据字段值是否相同来决定是否合并。"},{children:i.default.createElement("div",null,i.default.createElement(o.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:t.handleAdd},"新增一列"))},{children:i.default.createElement("div",null,i.default.createElement(o.Button,{level:"success",size:"sm",block:!0,onClick:t.handleColumnsQuickEdit.bind(t)},"快速编辑列信息"))}]},{title:"外观",controls:[{name:"columnsTogglable",label:"展示列显示开关",type:"button-group",pipeIn:r.defaultValue("auto"),mode:"inline",className:"w-full",size:"xs",options:[{label:"自动",value:"auto"},{label:"开启",value:!0},{label:"关闭",value:!1}],description:"自动即列数量大于5个时自动开启"},{name:"affixHeader",type:"switch",label:"是否固顶表头",mode:"inline",className:"w-full",pipeIn:r.defaultValue(!0)},{name:"showHeader",type:"switch",mode:"inline",className:"w-full",label:"是否显示头部",pipeIn:r.defaultValue(!0)},{name:"showFooter",type:"switch",mode:"inline",className:"w-full",label:"是否显示底部",pipeIn:r.defaultValue(!0)},{name:"footable",type:"switch",mode:"inline",className:"w-full",label:"是否开启单条底部展示",description:"如果列太多显示会很臃肿，可以考虑把部分列放在当前行的底部展示",pipeIn:function(e){return!!e}},{name:"footable.expand",type:"button-group",size:"xs",visibleOn:"data.footable",label:"底部默认展开",pipeIn:r.defaultValue("none"),mode:"inline",className:"w-full",options:[{label:"第一条",value:"first"},{label:"所有",value:"all"},{label:"不展开",value:"none"}]},{name:"placeholder",pipeIn:r.defaultValue("暂无数据"),type:"text",label:"无数据提示"},r.getSchemaTplByName("className",{label:"外层 CSS 类名"}),r.getSchemaTplByName("className",{name:"tableClassName",label:"表格 CSS 类名"}),r.getSchemaTplByName("className",{name:"headerClassName",label:"顶部外层 CSS 类名"}),r.getSchemaTplByName("className",{name:"footerClassName",label:"底部外层 CSS 类名"}),r.getSchemaTplByName("className",{name:"toolbarClassName",label:"工具栏 CSS 类名"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t.prototype.handleColumnsQuickEdit=function(){var e=this.context.editor,t=this.props.$$id,a=p.JSONPipeOut(e.get(t).columns),l=e.getRendererCandidates("table/cell/0/0",s.blackList(["form","button","submit","reset","table","crud","divider","grid","hbox","page","wizard"]),["plain","mapping","operation","date","status","switch","image","operation","tpl","container"]);l.push({label:"纯文本",value:{type:"text"}}),e.openDialog("快速编辑列信息",{type:"form",mode:"normal",data:{columns:a},controls:[{name:"columns",type:"combo",multiple:!0,label:!1,addButtonText:"新增一列",draggable:!0,controls:[{type:"text",name:"label",placeholder:"标题"},{type:"text",name:"name",placeholder:"绑定字段名"},{type:"select",name:"type",placeholder:"类型",value:"text",options:l.map((function(e){return{label:e.label,value:e.value.type}}))}]}]},(function(a){return e.update(t,p.JSONPipeIn({columns:p.JSONPipeIn(a.columns)}))}))},t.prototype.handleHover=function(e){e.preventDefault(),e.stopPropagation();var t=this.context.editor,a=e.target.closest("td");if(a){for(var l=a.closest("tbody").previousSibling.children[0],i=-1,n=0,o=l.children.length;n<o;n++){var r=l.children[n].getBoundingClientRect();if(r.left<e.clientX&&e.clientX<r.right){i=n;break}}var s=l.children[i],p=s?s.getAttribute("data-editor-id"):"";p?t.hover(p):t.hover(this.props.$$id)}},t.prototype.handleClick=function(t){if(!t.defaultPrevented){var a=this.context.editor,l=t.target.closest("td");if(l){for(var i=l.closest("tbody").previousSibling.children[0],n=-1,o=0,r=i.children.length;o<r;o++){var s=i.children[o].getBoundingClientRect();if(s.left<t.clientX&&t.clientX<s.right){n=o;break}}var p=i.children[n],c=p?p.getAttribute("data-editor-id"):"";if(c)return t.preventDefault(),t.stopPropagation(),a.select(c)}e.prototype.handleClick.call(this,t)}},t.prototype.renderChild=function(t,a,l){return"cell"===a.type&&(a=p.JSONPipeOut(a,!0)),e.prototype.renderChild.call(this,t,a,l)},t.prototype.renderRenderer=function(t){return e.prototype.renderRenderer.call(this,l.__assign(l.__assign({},t),{affixHeader:!1,affixColumns:!1}))},t.prototype.getContextMenus=function(){var t=e.prototype.getContextMenus.call(this);return t.push({label:"插入一列",onSelect:this.handleAdd}),t},t.prototype.emptyChild=function(e){var t,a=this.props.$$id;this.context.editor.update(a,((t={})[e]=[],t))},t.prototype.onAddNode=function(e,t){if("columns"===e)return l.__assign(l.__assign({},t),{label:"列说明"})},t=l.__decorate([n.Editor("table",{name:"表格(Table)",description:"用来展示表格数据，可以配置列信息，然后关联数据便能完成展示。支持嵌套、超级表头、列固定、表头固顶、合并单元格等等。当前组件需要配置数据源，不自带数据拉取，请优先使用 「CRUD」 组件。",previewSchema:{type:"table",className:"text-left m-b-none",affixHeader:!1,items:[{a:1,b:2},{a:3,b:4},{a:5,b:6}],columns:[{label:"A",name:"a"},{label:"B",name:"b"}]},type:"table",icon:"fa fa-table",scaffold:{type:"table",columns:[{label:"列信息"}]}},{renderTableContent:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.super.apply(this,e),l=this.props.$editor;if(!l)return a;var n=l.regionRef;return i.default.createElement(m.default,{ref:function(e){return n("columns",e)},name:"columns",label:"列集合",hostId:l.props.$$id},this.super.apply(this,e))},renderHeadCell:function(e,t){var a=this.super(e,t);return this.props.$editor&&e.pristine.$$id?i.default.createElement(c.TableCellEditor,l.__assign({index:e.index},e.pristine,t,{store:this.props.store,column:e,th:a,key:e.pristine.$$id})):a}})],t)}(d.default);t.TableEditor=u;var h=Math.round(Date.now()/1e3);t.mockValue=function(e,t){return void 0===e&&(e="内容示例","image"===t?e="":~["date","datetime","time"].indexOf(t)?e=h:"progress"===t?e=85.6:"status"===t?e=!0:"operation"===t&&(e="")),e}},function(e,t){e.exports=require("a26dc27")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(3)),n=l.__importDefault(a(147)),o=a(4),r=l.__importDefault(a(13)),s=a(5),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:t.props.value,contents:t.obj2str(t.props.value,t.props)},t.emitChange=function(){var e=t.props,a=e.onChange,l=e.value;try{var i=JSON.parse(t.state.contents);delete i.$schema,i=o.JSONMerge(t.state.value,i),i=o.JSONPipeIn(i);var n=s.utils.difference(i,t.lastResult||l);t.lastResult=i,a(i,n)}catch(e){}},t.handleEditInited=function(e,a){t.editor=e,t.monaco=a},t.handleChange=function(e){t.setState({contents:e},t.emitChange)},t}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;o.isObjectShallowModified(t.value,e.value)&&o.isObjectShallowModified(this.lastResult,e.value)&&this.setState({value:e.value,contents:this.obj2str(e.value,e)})},t.prototype.obj2str=function(e,t){return(e=l.__assign({$schema:t.$schema},e)).$schema||delete e.$schema,e=o.JSONPipeOut(e),JSON.stringify(e,null,2)},t.prototype.render=function(){var e=this.props,t=(e.value,e.onChange,e.disabled),a=e.className,l=e.theme;return i.default.createElement(n.default,{className:r.default("amis-code-editor",a),value:this.state.contents,onChange:this.handleChange,language:"json",theme:l,editorDidMount:this.handleEditInited,options:{automaticLayout:!0,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,minimap:{enabled:!1},readOnly:t}})},t.defaultProps={$schema:"https://houtai.baidu.com/v2/schemas/page.json#"},t}(i.default.Component);t.default=p},function(e,t,a){e.exports=a(37)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeEditor=t.MiniEditor=t.getSchemaTplByName=t.BasicContainerEditor=t.BasicEditor=t.RendererEditor=t.utils=t.Editor=void 0;var l=a(0);a(38),a(39);var i=l.__importDefault(a(10));t.Editor=i.default;var n=l.__importDefault(a(35));t.CodeEditor=n.default;var o=l.__importStar(a(4));t.utils=o;var r=a(1);Object.defineProperty(t,"RendererEditor",{enumerable:!0,get:function(){return r.Editor}});var s=l.__importDefault(a(8));t.BasicEditor=s.default;var p=l.__importDefault(a(9));t.BasicContainerEditor=p.default;var c=a(2);Object.defineProperty(t,"getSchemaTplByName",{enumerable:!0,get:function(){return c.getSchemaTplByName}});var d=l.__importDefault(a(153));t.MiniEditor=d.default,t.default=i.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RendererThumb=void 0;var l=a(0),i=a(5),n=l.__importDefault(a(3)),o=a(5),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scale:!0},t.env={session:"preview"},t}return l.__extends(t,e),t.prototype.componentWillMount=function(){this.rootRef=this.rootRef.bind(this),this.syncHeight=this.syncHeight.bind(this),this.handleClick=this.handleClick.bind(this)},t.prototype.componentWillUnmount=function(){this.unSensor&&this.unSensor()},t.prototype.rootRef=function(e){this.ref=e,e&&(this.syncHeight(),this.unSensor=o.resizeSensor(e.firstChild,this.syncHeight))},t.prototype.syncHeight=function(){if(this.ref){var e=this.state.scale,t=this.ref.firstChild;this.ref.style.cssText="height: "+t.scrollHeight/(e?2:1)+"px;"}},t.prototype.handleClick=function(e){e.preventDefault(),this.setState({scale:!this.state.scale})},t.prototype.render=function(){var e=this,t=this.props,a=t.name,l=t.data,r=t.theme,s=l[a]||{type:"tpl",inline:!1,className:"ae-Editor-rendererPlaceholder",tpl:"没有预览图"};return n.default.createElement(i.LazyComponent,{unMountOnHidden:!1,schema:s,component:function(t){var a=t.schema;return n.default.createElement("div",{className:"ae-RenderersPicker-thumb "+(e.state.scale?"is-scaled":"")},n.default.createElement("div",{className:"ae-Editor-rendererThumbWrap"},n.default.createElement("div",{className:"ae-Editor-rendererThumbIcon",onClick:e.handleClick},n.default.createElement(i.Icon,{icon:e.state.scale?"zoom-in":"zoom-out"})),n.default.createElement("div",{ref:e.rootRef,className:"ae-Editor-rendererThumb"},n.default.createElement("div",{className:"ae-Editor-rendererThumbInner"},o.render(a,{theme:r},e.env)))))}})},t=l.__decorate([i.Renderer({test:/(?:^|\/)ae\-renderer\-thumb$/i})],t)}(n.default.Component);t.RendererThumb=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClassNameControl=void 0;var l=a(0),i=a(5),n=l.__importDefault(a(3)),o=a(15),r=[{label:"外边距",children:[{label:"整体",children:[{label:"极小",value:"m-xs"},{label:"小",value:"m-sm"},{label:"正常",value:"m"},{label:"中",value:"m-md"},{label:"大",value:"m-lg"}]},{label:"上边距",children:[{label:"极小",value:"m-t-xs"},{label:"小",value:"m-t-sm"},{label:"正常",value:"m-t"},{label:"中",value:"m-t-md"},{label:"大",value:"m-t-lg"}]},{label:"右边距",children:[{label:"极小",value:"m-r-xs"},{label:"小",value:"m-r-sm"},{label:"正常",value:"m-r"},{label:"中",value:"m-r-md"},{label:"大",value:"m-r-lg"}]},{label:"下边距",children:[{label:"极小",value:"m-b-xs"},{label:"小",value:"m-b-sm"},{label:"正常",value:"m-b"},{label:"中",value:"m-b-md"},{label:"大",value:"m-b-lg"}]},{label:"左边距",children:[{label:"极小",value:"m-l-xs"},{label:"小",value:"m-l-sm"},{label:"正常",value:"m-l"},{label:"中",value:"m-l-md"},{label:"大",value:"m-l-lg"}]},{label:"置无",children:[{label:"全部",value:"m-none"},"|",{label:"上",value:"m-t-none"},{label:"右",value:"m-r-none"},{label:"下",value:"m-b-none"},{label:"左",value:"m-l-none"}]}]},{label:"内边距",children:[{label:"整体",children:[{label:"极小",value:"p-xs"},{label:"小",value:"p-sm"},{label:"正常",value:"p"},{label:"中",value:"p-md"},{label:"大",value:"p-lg"}]},{label:"上边距",children:[{label:"极小",value:"p-t-xs"},{label:"小",value:"p-t-sm"},{label:"正常",value:"p-t"},{label:"中",value:"p-t-md"},{label:"大",value:"p-t-lg"}]},{label:"右边距",children:[{label:"极小",value:"p-r-xs"},{label:"小",value:"p-r-sm"},{label:"正常",value:"p-r"},{label:"中",value:"p-r-md"},{label:"大",value:"p-r-lg"}]},{label:"下边距",children:[{label:"极小",value:"p-b-xs"},{label:"小",value:"p-b-sm"},{label:"正常",value:"p-b"},{label:"中",value:"p-b-md"},{label:"大",value:"p-b-lg"}]},{label:"左边距",children:[{label:"极小",value:"p-l-xs"},{label:"小",value:"p-l-sm"},{label:"正常",value:"p-l"},{label:"中",value:"p-l-md"},{label:"大",value:"p-l-lg"}]},{label:"置无",children:[{label:"全部",value:"p-none"},"|",{label:"上",value:"p-t-none"},{label:"右",value:"p-r-none"},{label:"下",value:"p-b-none"},{label:"左",value:"p-l-none"}]}]},{label:"边框",className:"w2x",children:[{label:"位置",children:[{label:"全部",value:"b-a"},"|",{label:"上",value:"b-t"},{label:"右",value:"b-r"},{label:"下",value:"b-b"},{label:"左",value:"b-l"},"|",{label:"置无",value:"no-border"}]},{label:"大小",children:[{label:"2x",value:"b-2x"},{label:"3x",value:"b-3x"},{label:"4x",value:"b-4x"},{label:"5x",value:"b-5x"}]},{label:"颜色",children:[{label:"主色",value:"b-primary",className:"bg-primary"},{label:"信息",value:"b-info",className:"bg-info"},{label:"警告",value:"b-warning",className:"bg-warning"},{label:"危险",value:"b-danger",className:"bg-danger"},{label:"成功",value:"b-success",className:"bg-success"},{label:"白色",value:"b-white",className:"bg-white"},{label:"暗色",value:"b-dark",className:"bg-dark"},{label:"浅色",value:"b-light",className:"bg-light"}]}]},{label:"其他",className:"w2x",children:[{label:"圆角",children:[{label:"全部",value:"r"},"|",{label:"上",value:"r-t"},{label:"右",value:"r-r"},{label:"下",value:"r-b"},{label:"左",value:"r-l"},"|",{label:"2x",value:"r-2x"},{label:"3x",value:"r-3x"}]},{label:"字体",children:[{label:"正常",value:"font-normal"},{label:"细",value:"font-thin"},{label:"粗",value:"font-bold"},"|",{label:"极小",value:"text-xs"},{label:"小",value:"text-sm"},{label:"正常",value:"text-base"},{label:"中",value:"text-md"},{label:"大",value:"text-lg"}]},{label:"颜色",children:[{label:"主色",value:"text-primary",className:"text-primary"},{label:"信息",value:"text-info",className:"text-info"},{label:"警告",value:"text-warning",className:"text-warning"},{label:"危险",value:"text-danger",className:"text-danger"},{label:"成功",value:"text-success",className:"text-success"},{label:"白色",value:"text-white",className:"text-white bg-dark"},{label:"暗色",value:"text-dark",className:"text-dark"},{label:"淡色",value:"text-muted",className:"text-muted"}]},{label:"背景",children:[{label:"主色",value:"bg-primary",className:"bg-primary"},{label:"信息",value:"bg-info",className:"bg-info"},{label:"警告",value:"bg-warning",className:"bg-warning"},{label:"危险",value:"bg-danger",className:"bg-danger"},{label:"成功",value:"bg-success",className:"bg-success"},{label:"白色",value:"bg-white",className:"bg-white"},{label:"暗色",value:"bg-dark",className:"bg-dark"},{label:"浅色",value:"bg-light",className:"bg-light"},"|",{label:"置无",value:"no-bg"}]},{label:"宽度",children:[{label:"特小",value:"w-xxs"},{label:"极小",value:"w-xs"},{label:"小",value:"w-sm"},{label:"正常",value:"w"},{label:"中",value:"w-md"},{label:"大",value:"w-lg"},{label:"加大",value:"w-xl"},{label:"特大",value:"w-xxl"},{label:"占满",value:"w-full"}]}]}];var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFocused:!1,isOpened:!1},t.values=[],t}return l.__extends(t,e),t.prototype.open=function(){this.setState({isOpened:!0})},t.prototype.close=function(){this.setState({isOpened:!1})},t.prototype.toggle=function(){this.setState({isOpened:!this.state.isOpened})},t.prototype.handleFocus=function(e){this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},t.prototype.handleBlur=function(e){this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur(e)},t.prototype.handleChange=function(e){(0,this.props.onChange)(e.currentTarget.value)},t.prototype.getParent=function(){return o.findDOMNode(this)},t.prototype.getTarget=function(){return o.findDOMNode(this).firstChild},t.prototype.handlePopOverChange=function(e){var t=this.props.value||"",a=t.replace(/\s+/g," ").split(/\s+/),l=a.indexOf(e.value),i=this.props.onChange;if(~l)a.splice(l,1),t=a.join(" ");else{if(/(?:^|\s)(m|p)\-(t|r|b|l)(?:\-(?:xs|sm|md|lg))?(?:$|\s)/.test(e.value)){var n=new RegExp("(?:^|\\s)"+RegExp.$1+"\\-"+RegExp.$2+"(?:\\-(?:xs|sm|md|lg))?(?=(\\s|$))","ig");t=t.replace(n,"")}else if(/(?:^|\s)(m|p)(?:\-(xs|sm|md|lg))?(?:$|\s)/.test(e.value)){n=new RegExp("(?:^|\\s)"+RegExp.$1+"(?:\\-(?:xs|sm|md|lg))?(?=(\\s|$))","ig");t=t.replace(n,"")}else if(/(?:^|\s)(m|p)(?:\-(t|r|b|l))?\-none(?:$|\s)/.test(e.value)){n=new RegExp(RegExp.$2?"(?:^|\\s)"+RegExp.$1+"(?:(?:\\-"+RegExp.$2+"(?:\\-(?:xs|sm|md|lg)))|\\-none)?(?=(\\s|$))":"(?:^|\\s)"+RegExp.$1+"(?:[^\\s$]+)?(?=(\\s|$))","ig");t=t.replace(n,"$1")}else/(?:^|\s)w(?:\-\w+)?(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)w(?:\-\w+)?(?=(\s|$))/g,""):"b-a"===e.value?t=(t=t.replace(/(?:^|\s)b\-(?:t|r|b|l)(?=(\s|$))/g,"")).replace(/(?:^|\s)no\-border(?=(\s|$))/g,""):/(?:^|\s)b\-(?:t|r|b|l)?(?:$|\s)/.test(e.value)?t=(t=t.replace(/(?:^|\s)b\-a(?=(\s|$))/g,"")).replace(/(?:^|\s)no\-border(?=(\s|$))/g,""):/(?:^|\s)b\-\dx(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)b\-\dx(?=(\s|$))/g,""):"no-border"===e.value?t=t.replace(/(?:^|\s)b\-(?:\dx|\w+)(?=(\s|$))/g,""):/(?:^|\s)b\-(?:primary|info|warning|danger|success|white|dark|light)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)b\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,""):"r"===e.value?t=t.replace(/(?:^|\s)r\-(?:t|r|b|l)(?=(\s|$))/g,""):/(?:^|\s)r\-(?:t|r|b|l)?(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)r(?=(\s|$))/g,""):/(?:^|\s)r\-\dx(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)r\-\dx(?=(\s|$))/g,""):/(?:^|\s)text\-(?:xs|sm|base|md|lg)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)text\-(?:xs|sm|base|md|lg)(?=(\s|$))/g,""):/(?:^|\s)font\-(?:normal|thin|bold)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)font\-(?:normal|thin|bold)(?=(\s|$))/g,""):/(?:^|\s)text\-(?:primary|info|warning|danger|success|white|dark|light)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)text\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,""):/(?:^|\s)bg\-(?:primary|info|warning|danger|success|white|dark|light)(?:$|\s)/.test(e.value)?t=(t=t.replace(/(?:^|\s)bg\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,"")).replace(/(?:^|\s)no\-bg(?=(\s|$))/g,""):"no-bg"===e.value&&(t=t.replace(/(?:^|\s)bg\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,""));t=t.replace(/\s+/g," ").trim(),t+=(t?" ":"")+e.value}i(t)},t.prototype.renderGroup=function(e,t){var a=this,l=this.props.classnames;return n.default.createElement("div",{key:t,className:l("ClassNameControl-group",e.className)},n.default.createElement("label",{className:l("ClassNameControl-groupLabel",e.labelClassName)},e.label),e.children&&e.children.length?e.children[0].value?this.renderOptions(e.children,t):e.children.map((function(e,t){return a.renderGroup(e,t)})):null)},t.prototype.renderOptions=function(e,t){var a=this,l=this.props.classnames;return function(e){for(var t=[],a=t[0]=[],l=0,i=e.length;l<i;l++){var n=e[l];"|"===n?(a=[],t.push(a)):a.push(n)}return t}(e).map((function(e,t){return n.default.createElement("div",{className:l("ButtonGroup"),key:t},e.map((function(e,t){return n.default.createElement("div",{key:t,onClick:function(){return a.handlePopOverChange(e)},className:l("Button Button--xs",e.className,~a.values.indexOf(e.value)?"Button--primary":"Button--default")},e.label)})))}))},t.prototype.renderPopover=function(){var e=this,t=this.props.value;return this.values=t?t.split(" "):[],n.default.createElement("div",null,r.map((function(t,a){return e.renderGroup(t,a)})))},t.prototype.render=function(){var e,t=this.props,a=t.classnames,l=t.readOnly,o=t.disabled,r=t.value,s=t.className,p=t.popOverContainer;return n.default.createElement("div",{className:a(s,"TextControl",(e={},e["TextControl--withAddOn"]=!0,e["is-focused"]=this.state.isFocused,e["is-disabled"]=o,e))},n.default.createElement("div",{className:a("TextControl-input")},n.default.createElement("input",{name:name,placeholder:"请输入 css 类名",disabled:o,readOnly:l,type:"text",autoComplete:"off",onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,value:null==r?"":"string"==typeof r?r:JSON.stringify(r)})),n.default.createElement("div",{className:a("TextControl-button")},n.default.createElement(i.Button,{onClick:this.toggle},n.default.createElement("i",{className:"fa fa-cog"}))),n.default.createElement(i.Overlay,{placement:"left-bottom-left-top  left-top-left-bottom left-bottom-left-top",target:this.getTarget,container:p||this.getParent,rootClose:!1,show:this.state.isOpened},n.default.createElement(i.PopOver,{className:a("ClassNamePicker-popover"),onHide:this.close,overlay:!0},this.renderPopover())))},l.__decorate([i.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"open",null),l.__decorate([i.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"close",null),l.__decorate([i.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"toggle",null),l.__decorate([i.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleFocus",null),l.__decorate([i.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleBlur",null),l.__decorate([i.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleChange",null),l.__decorate([i.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"getParent",null),l.__decorate([i.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"getTarget",null),t=l.__decorate([i.FormItem({type:"ae-classname"})],t)}(n.default.Component);t.ClassNameControl=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(9)),r=a(2),s=a(6),p=l.__importDefault(a(11)),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.isCRUDFilter=/\/crud\/filter\/form$/.test(t.props.$path),t.isInDialog=/(?:\/|^)dialog\/.+$/.test(t.props.$path),t.childrenSortList={controls:["static","text","textarea","number","checkboxes","select","list","switch","date","datetime","time","image","file","tree","rich-text"]},t.settingsSchema={title:"表单配置",controls:[r.getSchemaTplByName("tabs",[{title:"常规",controls:s([{label:"标题",name:"title",visibleOn:"this.wrapWithPanel !== false",pipeIn:r.defaultValue("表单"),type:"text"},{name:"submitText",type:"text",label:"提交按钮名称",pipeIn:r.defaultValue("提交"),visibleOn:"this.wrapWithPanel !== false && !this.actions && (!Array.isArray(this.controls) || !this.controls.some(function(item) {return !!~['submit','button','reset','button-group'].indexOf(item.type);}))",description:"当没有自定义按钮时有效。"},{name:"autoFocus",type:"switch",label:"自动聚焦",mode:"inline",className:"block",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"设置后将让表单的第一个可输入的表单项获得焦点",placement:"right"}},r.getSchemaTplByName("submitOnChange"),{label:"提交完后重置表单",type:"switch",name:"resetAfterSubmit",mode:"inline",className:"block",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"即表单提交完后，让所有表单项的值还原成初始值",placement:"right"}},t.isCRUDFilter?null:{label:"初始化后提交一次",type:"switch",name:"submitOnInit",mode:"inline",className:"block",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启后，表单初始完成便会触发一次提交。",placement:"right"}},t.isInDialog?{label:"提交后是否关闭对话框",type:"switch",name:"closeDialogOnSubmit",mode:"inline",className:"block",pipeIn:function(e){return!1!==e}}:null,t.isCRUDFilter?null:{label:"提交给其他组件",name:"target",type:"text",description:"可以通过设置此属性，把当前表单的值提交给目标组件，而不是自己来通过接口保存，请填写目标组件的 <code>name</code> 属性，多个组件请用逗号隔开。当 <code>target</code> 为 <code>window</code> 时，则把表单数据附属到地址栏。"},r.getSchemaTplByName("reload",{test:!t.isCRUDFilter}),t.isCRUDFilter?null:{label:"跳转",name:"redirect",type:"text",description:"当设置此值后，表单提交完后跳转到目标地址。"},{name:"persistData",label:"是否开启本地缓存",type:"switch",pipeIn:r.defaultValue(!1),mode:"inline",className:"block",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启后，表单的数据会缓存在浏览器中，切换页面或关闭弹框不会清空当前表单内的数据",placement:"right"}},{name:"clearPersistDataAfterSubmit",label:"提交成功后清空本地缓存",type:"switch",pipeIn:r.defaultValue(!1),mode:"inline",className:"block",visibleOn:"data.persistData",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启本地缓存并开启本配置项后，表单提交成功后，会自动清除浏览器中当前表单的缓存数据",placement:"right"}}])},{title:"接口",controls:s([r.getSchemaTplByName("api",{label:"保存接口",description:"用来保存表单数据",test:!t.isCRUDFilter}),{label:"采用异步方式?",remark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"right"},type:"switch",name:"asyncApi",visibleOn:"data.api",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0},mode:"inline",className:"block"},r.getSchemaTplByName("api",{name:"asyncApi",label:"异步检测接口",visibleOn:"data.asyncApi != null",description:"设置此属性后，表单提交发送保存接口后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{type:"divider"},r.getSchemaTplByName("api",{name:"initApi",label:"初始化接口",description:"用来初始化表单数据"}),{label:"开启定时刷新",type:"switch",name:"interval",visibleOn:"data.initApi",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0},mode:"inline"},{name:"interval",type:"number",visibleOn:"data.interval",step:500,className:"m-t-n-sm",description:"设置后将自动定时刷新，单位 ms"},{name:"silentPolling",label:"静默刷新",type:"switch",mode:"inline",visibleOn:"!!data.interval",description:"设置自动定时刷新时是否显示loading"},{name:"stopAutoRefreshWhen",label:"停止定时刷新检测表达式",type:"text",visibleOn:"!!data.interval",description:"定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则不刷新了。"},{label:"采用异步方式？",remark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"right"},type:"switch",name:"initAsyncApi",visibleOn:"data.initApi",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0},mode:"inline"},r.getSchemaTplByName("api",{name:"initAsyncApi",label:"异步检测接口",visibleOn:"data.initAsyncApi != null",description:"设置此属性后，表单请求 initApi 后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{type:"divider"},t.isCRUDFilter?{name:"messages",pipeIn:r.defaultValue({fetchFailed:"初始化失败"}),label:"默认消息信息",type:"combo",multiLine:!0,description:"可以不设置，接口返回的 msg 字段，优先级更高",controls:[{label:"获取成功提示",name:"fetchSuccess",type:"text"},{label:"获取失败提示",name:"fetchFailed",type:"text"}]}:{name:"messages",pipeIn:r.defaultValue({fetchFailed:"初始化失败",saveSuccess:"保存成功",saveFailed:"保存失败"}),label:"默认消息提示",type:"combo",multiLine:!0,description:"可以不设置，接口返回的 msg 字段，优先级更高",controls:[{label:"获取成功提示",name:"fetchSuccess",type:"text"},{label:"获取失败提示",name:"fetchFailed",type:"text"},{label:"保存成功提示",name:"saveSuccess",type:"text"},{label:"保存失败提示",name:"saveFailed",type:"text"},{label:"验证失败提示",name:"validateFailed",type:"text"}]}])},{title:"外观",controls:s([{name:"wrapWithPanel",type:"switch",mode:"inline",className:"block",label:"用 Panel 包裹",pipeIn:r.defaultValue(!0),labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"关闭后，表单只会展示表单项，标题和操作栏将不会显示。",placement:"right"}},{name:"panelClassName",label:"Panel 样式",type:"button-group",size:"sm",visibleOn:"this.wrapWithPanel !== false",pipeIn:function(e){return"string"==typeof e&&/(?:^|\s)(Panel\-\-(\w+))(?:$|\s)/.test(e)?RegExp.$1:"Panel--default"},pipeOut:function(e,t){return t?(t.replace(/(?:^|\s)(Panel\-\-(\w+))(?=($|\s))/g,"")+" "+e).replace(/\s+/g," ").trim():e},options:[{label:"默认",value:"Panel--default"},{label:"主色",value:"Panel--primary"},{label:"提示",value:"Panel--info"},{label:"成功",value:"Panel--success"},{label:"警告",value:"Panel--warning"},{label:"危险",value:"Panel--danger"}]},{name:"mode",label:"展示模式",type:"button-group",size:"sm",pipeIn:r.defaultValue("normal",!1),options:[{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},r.getSchemaTplByName("horizontal",{visibleOn:'this.mode == "horizontal"'}),r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{name:"panelClassName",visibleOn:"this.wrapWithPanel !== false",label:"Panel 的 CSS 类名",description:"可以设置 Panel--info 之类的"})])},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("name",{test:!t.isCRUDFilter}),{name:"debug",label:"开启调试",type:"switch",mode:"inline",labelRemark:"显示当前表单的数据在表单顶部"},r.getSchemaTplByName("disabled"),r.getSchemaTplByName("visible")]}])]},t.tipName=t.isCRUDFilter?"查询条件":"表单",t.$schema="https://houtai.baidu.com/v2/schemas/form.json#",t.dropable=!0,t.containers=["controls","actions"],t.containerLabels=["表单集合","按钮集合"],t.regions2path={controls:"control"},t}return l.__extends(t,e),t.prototype.acceptChild=function(t,a,l){return!("actions"===a&&!~["button","submit","reset"].indexOf(t))&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.renderRenderer=function(t){return e.prototype.renderRenderer.call(this,l.__assign(l.__assign({},t),{autoFocus:!1,wrapperComponent:"div"}))},t.prototype.onChildDelete=function(e,t){if("actions"===t){var a=this.props.$$id,l=this.context.editor,i=l.get(a).actions.concat();i.length||(i=void 0),l.update(a,{actions:i})}},t.prototype.pickChild=function(t){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return"actions"===t?e.prototype.pickChild.call(this,"action","actions",void 0,["button","reset","submit","button-group","dropdown-button"],!0):"controls"===t?e.prototype.pickChild.call(this,"control","controls"):e.prototype.pickChild.apply(this,l.__spreadArrays([t],a))},t=l.__decorate([n.Editor("form",{name:"表单(Form)",description:"可用于新建、编辑或者展示数据，配置初始化接口可从远端加载数据，配置提交接口可将数据发送远端。另外也可以将数据提交给其他组件，与其他组件通信。",type:"form",previewSchema:{type:"form",panelClassName:"Panel--default text-left m-b-none",controls:[{label:"文本",name:"a",type:"text"}]},tags:["功能"],icon:"fa fa-list-alt",scaffold:{type:"form",title:"表单",controls:[{label:"文本框",type:"text",name:"text"}]}},{renderBody:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor,l=this.super.apply(this,e);if(!a||"form"!==a.props.type)return l;var n=this.props.controls;n&&n.length||(l=i.default.createElement("div",{className:"text-muted"},"暂无表单项"));var o=this.props.regionRef;return i.default.createElement(p.default,{ref:function(e){return o("controls",e)},name:"controls",label:"表单集合",hostId:a.props.$$id,wrapperResolve:function(e){return e}},l)}})],t)}(o.default);t.FormEditor=c},function(e,t){e.exports=require("a5149e9")},function(e,t){e.exports=require("ed60a53")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(3)),n=a(20),o=l.__importDefault(a(13)),r=a(25),s=a(26),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.domRef=function(e){t.dom=e,t.setView()},t}return l.__extends(t,e),t.prototype.componentDidMount=function(){this.setView()},t.prototype.componentDidUpdate=function(){this.setView()},t.prototype.setView=function(){var e,t=this.props,a=t.getTarget,l=t.editor,i=t.id,n=l.getHoverId()===i,o=l.getActiveId()===i;if(!l.getDragId()&&(n||o)&&(e=a())&&this.dom){var p=l.getWidgetsLayer(),c=r(e,p),d=e.getBoundingClientRect(),m=d.height;if("TH"===e.tagName&&(m=e.closest("table").getBoundingClientRect().height),m){var u=s(e),h=parseInt(u.marginLeft,10)||0,b=parseInt(u.marginTop,10)||0;this.dom.style.cssText+="\n            display: block;\n            width: "+d.width+"px;\n            height: "+m+"px;\n            left: "+(c.left+h)+"px;\n            top: "+(c.top+b)+"px;\n        "}else this.dom.style.cssText+="display:none;"}},t.prototype.update=function(){this.setView()},t.prototype.render=function(){var e=this.props,t=e.children,a=e.className,l=e.editor,r=e.id,s=l.getHoverId(),p=l.getActiveId(),c=s===r,d=p===r,m=l.getDragId(),u=l.getDropId();return i.default.createElement(n.Portal,{container:l.getWidgetsLayer},u||m||!c&&!d?null:i.default.createElement("div",{className:o.default("ae-Editor-hlbox",{selected:p===r,hover:c},a),ref:this.domRef},"function"==typeof t?t():t))},t}(i.default.PureComponent);t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unRender=t.renderToDom=void 0;var l=a(0),i=a(15),n=a(5),o=a(4);t.renderToDom=function(e,t,a,r,s){void 0===s&&(s={});var p=t.component,c=p.props,d=/form$/.test(c.$path);i.render(n.render({children:function(e){var t=e.render;return d?p.ref.renderControl(o.JSONPipeOut(r)):t(p.regions2path[a]||a,o.JSONPipeOut(r),s)}},{},l.__assign(l.__assign({},c.env),{theme:c.theme})),e);var m=e.innerHTML;setTimeout((function(){e.innerHTML&&(i.unmountComponentAtNode(e),e.innerHTML=m)}),20)},t.unRender=function(e){e&&i.unmountComponentAtNode(e)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationManager=void 0;var l=a(0);var i=function(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),n=function(){function e(){this.animating=!1,this.states=[]}return e.prototype.capture=function(e){var t=this;this.states=[],[].slice.call(e.children).forEach((function(e){if(!e.classList.contains("ae-DragGhost")){var a=p(e);if(a.width){var i=l.__assign({},a),n={target:e,rect:a};if(e.thisAnimationDuration){var r=o(e);r&&(i.top-=r.f,i.left-=r.e)}e.fromRect=i,t.states.push(n)}}}))},e.prototype.animateAll=function(e){var t=this;this.animating=!1;var a=0;this.states.forEach((function(e){var i=0,n=e.target,r=n.fromRect,c=l.__assign({},p(n)),d=n.prevFromRect,m=n.prevToRect,u=e.rect,h=o(n);h&&(c.top-=h.f,c.left-=h.e),n.toRect=c,n.thisAnimationDuration&&s(d,c)&&!s(r,c)&&(u.top-c.top)/(u.left-c.left)==(r.top-c.top)/(r.left-c.left)&&(i=function(e,t,a){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-a.top,2)+Math.pow(t.left-a.left,2))*150}(u,d,m)),s(c,r)||(n.prevFromRect=r,n.prevToRect=c,i||(i=150),t.animate(n,u,c,i)),i&&(t.animating=!0,a=Math.max(a,i),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),i),n.thisAnimationDuration=i)})),clearTimeout(this.animationCallbackId),this.animating?this.animationCallbackId=setTimeout((function(){t.animating=!1,"function"==typeof e&&e()}),a):"function"==typeof e&&e(),this.states=[]},e.prototype.animate=function(e,t,a,l){if(l){var i=!1;r(e,"transition",""),r(e,"transform","");var n=t.left-a.left,o=t.top-a.top;e.animatingX=!!n,e.animatingY=!!o,r(e,"transform","translate3d("+n+"px,"+o+"px,0)"),"inline"===r(e,"display")&&(i=!0,r(e,"display","inline-block")),e.offsetWidth,r(e,"transition","transform "+l+"ms cubic-bezier(1, 0, 0, 1)"),r(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){r(e,"transition",""),r(e,"transform",""),i&&r(e,"display",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),l)}},e}();function o(e){var t="";if("string"==typeof e)t=e;else{var a=r(e,"transform");a&&"none"!==a&&(t=a+" "+t)}var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(t)}function r(e,t,a){var l=e&&e.style;if(l){if(void 0===a)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(a=e.currentStyle),void 0===t?a:a[t];t in l||-1!==t.indexOf("webkit")||(t="-webkit-"+t),l[t]=a+("string"==typeof a?"":"px")}}function s(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function p(e,t,a,l,n){if(e.getBoundingClientRect||e===window){var s,p,c,d,m,u,h;if(e!==window&&e!==(document.scrollingElement||document.documentElement)?(p=(s=e.getBoundingClientRect()).top,c=s.left,d=s.bottom,m=s.right,u=s.height,h=s.width):(p=0,c=0,d=window.innerHeight,m=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||a)&&e!==window&&(n=n||e.parentNode,!i))do{if(n&&n.getBoundingClientRect&&("none"!==r(n,"transform")||a&&"static"!==r(n,"position"))){var b=n.getBoundingClientRect();p-=b.top+parseInt(r(n,"border-top-width")),c-=b.left+parseInt(r(n,"border-left-width")),d=p+s.height,m=c+s.width;break}}while(n=n.parentNode);if(l&&e!==window){var f=o(n||e),y=f&&f.a,g=f&&f.d;f&&(d=(p/=g)+(u/=g),m=(c/=y)+(h/=y))}return{top:p,left:c,bottom:d,right:m,width:h,height:u}}}t.AnimationManager=n,t.default=new n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StaticControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=a(7),p=a(12),c=l.__importDefault(a(10)),d=a(6),m=a(4),u={type:"static",label:"描述"},h=function(e){function t(t){var a=e.call(this,t)||this;return a.tipName="Static",a.$schema="https://houtai.baidu.com/v2/schemas/form/static.json#",a.settingsSchema={title:"静态展示配置",controls:[r.getSchemaTplByName("tabs",[{title:"常规",controls:d([r.getSchemaTplByName("formItemName",{}),r.getSchemaTplByName("label"),r.getSchemaTplByName("description"),r.getSchemaTplByName("placeholder"),r.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},r.getSchemaTplByName("remark"),r.getSchemaTplByName("labelRemark")])},{title:"高级",controls:[{name:"quickEdit",label:"启用快速编辑",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"block"},{visibleOn:"data.quickEdit",name:"quickEdit.mode",type:"button-group",value:"popOver",label:"快速编辑模式",size:"sm",mode:"inline",className:"block",options:[{label:"下拉",value:"popOver"},{label:"内嵌",value:"inline"}]},{visibleOn:"data.quickEdit",name:"quickEdit.saveImmediately",label:"是否立即保存",type:"switch",mode:"inline",className:"block",description:"开启后修改即提交，需配置立即保存接口。",descriptionClassName:"help-block m-b-none",pipeIn:function(e){return!!e}},r.getSchemaTplByName("api",{label:"立即保存接口",name:"quickEdit.saveImmediately.api",visibleOn:"quickEdit.saveImmediately"}),{visibleOn:"data.quickEdit",children:i.default.createElement(o.Button,{level:"info",className:"m-b",block:!0,onClick:a.handleQuickEditSetting.bind(a)},"配置快速编辑方式")},{name:"popOver",label:"启用查看更多展示",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"block"},{visibleOn:"data.popOver",children:i.default.createElement(o.Button,{level:"info",className:"m-b",onClick:a.handlePopOverSetting.bind(a),block:!0},"配置查看更多内容")},{name:"copyable",label:"启用内容复制功能",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"block"},{visibleOn:"data.copyable",name:"copyable.content",type:"textarea",label:"复制内容模板",description:"默认为当前字段值，可定制。"}]},{title:"外观",controls:[r.getSchemaTplByName("formItemMode"),r.getSchemaTplByName("horizontalMode"),r.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),r.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),r.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("visible")]}])]},a.childrenOrder=["plain","mapping","operation","date","status","switch","image","operation","tpl","container"],a.handleQuickEditSetting=a.handleQuickEditSetting.bind(a),a.handlePopOverSetting=a.handlePopOverSetting.bind(a),a}return l.__extends(t,e),t.prototype.onChildSettingsGet=function(e,t){return e=e.replace(/^static\-/,""),l.__assign(l.__assign({},t),{className:t.inputClassName,type:e})},t.prototype.onChildSettingsSet=function(e,t,a){return e=e.replace(/^static\-/,""),l.__assign(l.__assign(l.__assign({},a),t),{inputClassName:t.className,className:a.className,type:"static-"+e})},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),!~["form","button","submit","reset","table","crud","divider","grid","hbox","page","wizard"].indexOf(t)&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.handleQuickEditSetting=function(){var e=this.context.editor,t=this.props.$$id,a=m.JSONPipeOut(e.get(t).quickEdit),n=this.props.data;!0===a&&(a={}),a=l.__assign({type:"text",name:this.props.name},a),e.openDialog("配置快速编辑类型",{type:"form",mode:"normal",data:{quickEdit:a},controls:[{name:"quickEdit",children:function(t){var a=t.value,o=t.onChange;return i.default.createElement(c.default,{previewClassName:"padder-md p-t-xs",pathPrefix:"/page/body/form/0/control",autoFocus:!0,value:l.__assign(l.__assign({},a),{$$replaceable:!0}),onChange:o,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{quickEdit:p(m.JSONPipeIn(a.quickEdit),["$$replaceable"])})}),"xl")},t.prototype.handlePopOverSetting=function(){var e=this.context.editor,t=this.props.$$id,a=m.JSONPipeOut(e.get(t).popOver),n=this.props.data;!0===a&&(a={}),a=l.__assign({title:"查看详情",body:"内容详情"},a),e.openDialog("配置查看更多展示内容",{type:"form",mode:"normal",data:{popOver:a},controls:[{name:"popOver",children:function(t){var a=t.value,o=t.onChange;return i.default.createElement(c.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},a),{type:"panel",$$replaceable:!0}),onChange:o,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{popOver:p(m.JSONPipeIn(a.popOver),["$$replaceable","type"])})}),"xl")},t.prototype.renderChild=function(t,a,i){var n=this.props.$$id;return"field"===t&&a.field?e.prototype.renderChild.call(this,t,l.__assign(l.__assign({},a),{field:l.__assign(l.__assign({},a.field),{$$id:n.replace(/\-.*$/,"")+"-"+t})}),i):e.prototype.renderChild.call(this,t,a,i)},t=l.__decorate([n.Editor("static-control",{name:"静态展示框",description:"纯用来展示数据，可用来展示<code>json、date、image、progress</code>等数据",type:"static",tags:["表单项"],scaffold:u,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign(l.__assign({},u),{value:"静态值"})}}),l.__metadata("design:paramtypes",[Object])],t)}(s.FormItemEditor);t.StaticControlEditor=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordControlEditor=void 0;var l=a(0),i=a(1),n=a(18),o=a(4),r=a(2),s=a(6),p=a(12),c=a(14),d=a(5),m={type:"password",label:"密码",name:"password"},u=function(e){function t(){var t,a,l=null!==e&&e.apply(this,arguments)||this;return l.tipName="Password",l.$schema="http://amis.baidu.com/v2/schemas/form/password.json#",l.settingsSchema={title:"文本框配置",controls:[r.getSchemaTplByName("tabs",[{title:"常规",controls:s([r.getSchemaTplByName("formItemName",{required:!0}),r.getSchemaTplByName("label"),r.getSchemaTplByName("description"),r.getSchemaTplByName("placeholder"),r.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},r.getSchemaTplByName("hint"),r.getSchemaTplByName("remark"),r.getSchemaTplByName("labelRemark"),r.getSchemaTplByName("clearable"),{type:"text",name:"resetValue",label:"清除后的默认值",visibleOn:"this.clearable"},{name:"addOn",label:"启用 addOn",type:"switch",mode:"inline",className:"w-full",pipeIn:function(e){return!!e},pipeOut:function(e){return e?o.JSONPipeIn({label:"按钮",type:"button"}):null}},{type:"combo",multiLine:!0,name:"addOn",visibleOn:"data.addOn",controls:[{name:"type",label:"类型",type:"button-group",size:"xs",options:[{label:"文本",value:"text"},{label:"按钮",value:"button"},{label:"提交",value:"submit"}]},{name:"label",label:"文字",type:"text",visibleOn:'this.type === "text"'},{name:"icon",label:"Icon",type:"icon-picker",visibleOn:'this.type === "text"'},r.getSchemaTplByName("className",{visibleOn:'this.type === "text"'}),{name:"position",label:"位置",type:"button-group",size:"xs",pipeIn:r.defaultValue("right"),options:[{label:"左边",value:"left"},{label:"右边",value:"right"}]}]}])},{title:"外观",controls:[r.getSchemaTplByName("formItemMode"),r.getSchemaTplByName("horizontalMode"),r.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),r.getSchemaTplByName("formItemSize"),r.getSchemaTplByName("fontItemInline"),r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),r.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),r.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),{type:"switch",name:"readOnly",label:"是否只读",mode:"inline",className:"w-full"},r.getSchemaTplByName("required"),{type:"switch",name:"trimContents",label:"去除首尾空白",mode:"inline",className:"w-full",description:"开启后，将不允许用户输入前后空格"},(t=[{label:"数字",value:"isNumeric"},{label:"字母",value:"isAlpha"},{label:"字母和数字",value:"isAlphanumeric"},{label:"整型数字",value:"isInt"},{label:"浮点型数字",value:"isFloat"},{label:"固定长度",value:"isLength"},{label:"最大长度",value:"maxLength"},{label:"最小长度",value:"minLength"},{label:"最大值",value:"maximum"},{label:"最小值",value:"minimum"},{label:"不为空",value:"notEmptyString"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],a=["isNumeric","isAlpha","isAlphanumeric","isInt","isFloat"],{type:"combo",syncDefaultValue:!1,name:"validations",label:"验证规则",addButtonText:"新增规则",multiple:!0,pipeIn:function(e){if("string"==typeof e&&e&&(e=d.str2rules(e)),!o.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){var l;/^\$\$/.test(a)||t.push(((l={type:a})[a]=Array.isArray(e[a])?e[a][0]:e[a],l))})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var l={};return e.forEach((function(e){var i,n=e.type||((i=c(t,(function(e){return!l[e.value]})))?i.value:"")||t[0].value;l[n]=e[n]||!!~a.indexOf(n)||""})),l},controls:[{type:"select",unique:!0,name:"type",options:t,columnClassName:"w-sm"},{type:"number",name:"isLength",visibleOn:'data.type == "isLength"',placeholder:"设置长度",value:"1"},{type:"number",name:"maximum",visibleOn:'data.type == "maximum"',placeholder:"设置最大值"},{type:"number",name:"minimum",visibleOn:'data.type == "minimum"',placeholder:"设置最大值"},{type:"number",name:"maxLength",visibleOn:'data.type == "maxLength"',placeholder:"设置最大长度值"},{type:"number",name:"minLength",visibleOn:'data.type == "minLength"',placeholder:"设置最小长度值"},{type:"text",name:"equals",visibleOn:'data.type == "equals"',placeholder:"设置值",value:""},{type:"text",name:"equalsField",visibleOn:'data.type == "equalsField"',placeholder:"设置字段名",value:""},{type:"text",name:"matchRegexp",visibleOn:'data.type == "matchRegexp"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp1",visibleOn:'data.type == "matchRegexp1"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp2",visibleOn:'data.type == "matchRegexp2"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp3",visibleOn:'data.type == "matchRegexp3"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp4",visibleOn:'data.type == "matchRegexp4"',placeholder:"设置正则规则"}]}),function(){var e=[{label:"数字",value:"isNumeric"},{label:"字母",value:"isAlpha"},{label:"字母和数字",value:"isAlphanumeric"},{label:"整型数字",value:"isInt"},{label:"浮点型数字",value:"isFloat"},{label:"固定长度",value:"isLength"},{label:"最大长度",value:"maxLength"},{label:"最小长度",value:"minLength"},{label:"最大值",value:"maximum"},{label:"最小值",value:"minimum"},{label:"不为空",value:"notEmptyString"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],t={isRequired:"这是必填项",isInt:"请输入整形数字",isAlpha:"请输入字母",isNumeric:"请输入数字",isAlphanumeric:"请输入字母或者数字",isFloat:"请输入浮点型数值",isWords:"请输入字母",matchRegexp:"格式不正确, 请输入符合规则为 `$1` 的内容。",minLength:"请输入更多的内容，至少输入 $1 个字符。",maxLength:"请控制内容长度, 请不要输入 $1 个字符以上",maximum:"当前输入值超出最大值 $1，请检查",minimum:"当前输入值低于最小值 $1，请检查",isLength:"请输入长度为 $1 的内容",notEmptyString:"请不要全输入空白字符",equalsField:"输入的数据与 $1 值不一致",equals:"输入的数据与 $1 不一致"};return{type:"combo",syncDefaultValue:!1,name:"validationErrors",label:"自定义验证提示",description:"自带提示不满足时，可以自定义。",addButtonText:"新增提示",multiple:!0,pipeIn:function(e){if(!o.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){/^\$\$/.test(a)||t.push({type:a,msg:e[a]})})),t},pipeOut:function(a){if(!Array.isArray(a))return a;var l={};return a.forEach((function(a){var i,n=a.type||((i=c(e,(function(e){return!l[e.value]})))?i.value:"")||e[0].value;l[n]=a.msg||t[n]||""})),l},controls:[{type:"select",unique:!0,name:"type",options:e,columnClassName:"w-sm"},{type:"text",name:"msg",placeholder:"提示信息"},{type:"formula",name:"msg",initSet:!1,formula:"({\n                                            isRequired: '这是必填项',\n                                            isInt: '请输入整形数字',\n                                            isAlpha: '请输入字母',\n                                            isNumeric: '请输入数字',\n                                            isAlphanumeric: '请输入字母或者数字',\n                                            isFloat: '请输入浮点型数值',\n                                            isWords: '请输入字母',\n                                            matchRegexp: '格式不正确, 请输入符合规则为 `$1` 的内容。',\n                                            minLength: '请输入更多的内容，至少输入 $1 个字符。',\n                                            maxLength: '请控制内容长度, 请不要输入 $1 个字符以上',\n                                            maximum: '当前输入值超出最大值 $1，请检查',\n                                            minimum: '当前输入值低于最小值 $1，请检查',\n                                            isLength: '请输入长度为 $1 的内容',\n                                            notEmptyString: '请不要全输入空白字符',\n                                            equalsField: '输入的数据与 $1 值不一致',\n                                            equals: '输入的数据与 $1 不一致'\n                                        })[data.type] || ''"}]}}(),r.getSchemaTplByName("validateOnChange"),r.getSchemaTplByName("submitOnChange"),r.getSchemaTplByName("disabled"),r.getSchemaTplByName("visible")]}])]},l}return l.__extends(t,e),t.prototype.getSettingsValue=function(){var t=e.prototype.getSettingsValue.call(this);return l.__assign(l.__assign({},t),{formHorizontal:this.props.formHorizontal,$$formMode:this.props.formMode})},t.prototype.setSettingsValue=function(t){return e.prototype.setSettingsValue.call(this,p(t,["formHorizontal","$$formMode"]))},t=l.__decorate([i.Editor("password-control",{name:"密码输入框",description:"密码输入框",type:"password",tags:["表单项"],scaffold:m,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},m)}})],t)}(n.TextControlEditor);t.PasswordControlEditor=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmailControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(18),r=a(4),s=a(6),p=a(4),c=a(14),d=a(5),m={type:"email",label:"邮箱",name:"email"},u=function(e){function t(){var t,a,l=null!==e&&e.apply(this,arguments)||this;return l.tipName="Email",l.$schema="https://houtai.baidu.com/v2/schemas/form/email.json#",l.settingsSchema={title:"邮箱配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("hint"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable"),{type:"text",name:"resetValue",label:"清除后的默认值",visibleOn:"this.clearable"},{name:"addOn",label:"启用 addOn",type:"switch",mode:"inline",className:"w-full",pipeIn:function(e){return!!e},pipeOut:function(e){return e?p.JSONPipeIn({label:"按钮",type:"button"}):null}},{type:"combo",multiLine:!0,name:"addOn",visibleOn:"data.addOn",controls:[{name:"type",label:"类型",type:"button-group",size:"xs",options:[{label:"文本",value:"text"},{label:"按钮",value:"button"},{label:"提交",value:"submit"}]},{name:"label",label:"文字",type:"text",visibleOn:'this.type === "text"'},{name:"icon",label:"Icon",type:"text",visibleOn:'this.type === "text"'},{name:"className",label:"CSS 类名",type:"text",visibleOn:'this.type === "text"'},{name:"position",label:"位置",type:"button-group",size:"xs",pipeIn:n.defaultValue("right"),options:[{label:"左边",value:"left"},{label:"右边",value:"right"}]}]}])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{type:"switch",name:"readOnly",label:"是否只读",mode:"inline",className:"w-full"},n.getSchemaTplByName("required"),{type:"switch",name:"trimContents",label:"去除首尾空白",mode:"inline",className:"w-full",description:"开启后，将不允许用户输入前后空格"},(t=[{label:"邮箱格式",value:"isEmail"},{label:"不为空",value:"notEmptyString"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],a=["isEmail"],{type:"combo",syncDefaultValue:!1,name:"validations",label:"验证规则",addButtonText:"新增规则",multiple:!0,pipeIn:function(e){if("string"==typeof e&&e&&(e=d.str2rules(e)),!r.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){var l;/^\$\$/.test(a)||t.push(((l={type:a})[a]=Array.isArray(e[a])?e[a][0]:e[a],l))})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var l={};return e.forEach((function(e){var i,n=e.type||((i=c(t,(function(e){return!l[e.value]})))?i.value:"")||t[0].value;l[n]=e[n]||!!~a.indexOf(n)||""})),l},controls:[{type:"select",unique:!0,name:"type",options:t,columnClassName:"w-sm"},{type:"text",name:"equals",visibleOn:'data.type == "equals"',placeholder:"设置值",value:""},{type:"text",name:"equalsField",visibleOn:'data.type == "equalsField"',placeholder:"设置字段名",value:""},{type:"text",name:"matchRegexp",visibleOn:'data.type == "matchRegexp"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp1",visibleOn:'data.type == "matchRegexp1"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp2",visibleOn:'data.type == "matchRegexp2"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp3",visibleOn:'data.type == "matchRegexp3"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp4",visibleOn:'data.type == "matchRegexp4"',placeholder:"设置正则规则"}]}),function(){var e=[{label:"邮箱格式",value:"isEmail"},{label:"不为空",value:"notEmptyString"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],t={isEmail:"Email 格式不正确",isRequired:"这是必填项",matchRegexp:"格式不正确, 请输入符合规则为 `$1` 的内容。",notEmptyString:"请不要全输入空白字符",equalsField:"输入的数据与 $1 值不一致",equals:"输入的数据与 $1 不一致"};return{type:"combo",syncDefaultValue:!1,name:"validationErrors",label:"自定义验证提示",description:"自带提示不满足时，可以自定义。",addButtonText:"新增提示",multiple:!0,pipeIn:function(e){if(!r.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){/^\$\$/.test(a)||t.push({type:a,msg:e[a]})})),t},pipeOut:function(a){if(!Array.isArray(a))return a;var l={};return a.forEach((function(a){var i,n=a.type||((i=c(e,(function(e){return!l[e.value]})))?i.value:"")||e[0].value;l[n]=a.msg||t[n]||""})),l},controls:[{type:"select",unique:!0,name:"type",options:e,columnClassName:"w-sm"},{type:"text",name:"msg",placeholder:"提示信息"},{type:"formula",name:"msg",initSet:!1,formula:"({\n                                            isEmail: 'Email 格式不正确',\n                                            isRequired: '这是必填项',\n                                            matchRegexp: '格式不正确, 请输入符合规则为 `$1` 的内容。',\n                                            notEmptyString: '请不要全输入空白字符',\n                                            equalsField: '输入的数据与 $1 值不一致',\n                                            equals: '输入的数据与 $1 不一致'\n                                        })[data.type] || ''"}]}}(),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},l}return l.__extends(t,e),t=l.__decorate([i.Editor("email-control",{name:"邮箱输入框",description:"验证输入是否符合邮箱的格式",type:"email",tags:["表单项"],scaffold:m,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},m)}})],t)}(o.TextControlEditor);t.EmailControlEditor=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(18),r=a(4),s=a(6),p=a(4),c=a(14),d=a(5),m={type:"url",label:"链接",name:"url"},u=function(e){function t(){var t,a,l=null!==e&&e.apply(this,arguments)||this;return l.tipName="Url",l.$schema="https://houtai.baidu.com/v2/schemas/form/url.json#",l.settingsSchema={title:"链接输入配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("hint"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("clearable"),{type:"text",name:"resetValue",label:"清除后的默认值",visibleOn:"this.clearable"},{name:"addOn",label:"启用 addOn",type:"switch",mode:"inline",className:"w-full",pipeIn:function(e){return!!e},pipeOut:function(e){return e?p.JSONPipeIn({label:"按钮",type:"button"}):null}},{type:"combo",multiLine:!0,name:"addOn",visibleOn:"data.addOn",controls:[{name:"type",label:"类型",type:"button-group",size:"xs",options:[{label:"文本",value:"text"},{label:"按钮",value:"button"},{label:"提交",value:"submit"}]},{name:"label",label:"文字",type:"text",visibleOn:'this.type === "text"'},{name:"icon",label:"Icon",type:"icon-picker",visibleOn:'this.type === "text"'},n.getSchemaTplByName("className",{visibleOn:'this.type === "text"'}),{name:"position",label:"位置",type:"button-group",size:"xs",pipeIn:n.defaultValue("right"),options:[{label:"左边",value:"left"},{label:"右边",value:"right"}]}]}])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{type:"switch",name:"readOnly",label:"是否只读",mode:"inline",className:"w-full"},n.getSchemaTplByName("required"),{type:"switch",name:"trimContents",label:"去除首尾空白",mode:"inline",className:"w-full",description:"开启后，将不允许用户输入前后空格"},(t=[{label:"Url格式",value:"isUrl"},{label:"不为空",value:"notEmptyString"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],a=["isUrl"],{type:"combo",syncDefaultValue:!1,name:"validations",label:"验证规则",addButtonText:"新增规则",multiple:!0,pipeIn:function(e){if("string"==typeof e&&e&&(e=d.str2rules(e)),!r.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){var l;/^\$\$/.test(a)||t.push(((l={type:a})[a]=Array.isArray(e[a])?e[a][0]:e[a],l))})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var l={};return e.forEach((function(e){var i,n=e.type||((i=c(t,(function(e){return!l[e.value]})))?i.value:"")||t[0].value;l[n]=e[n]||!!~a.indexOf(n)||""})),l},controls:[{type:"select",unique:!0,name:"type",options:t,columnClassName:"w-sm"},{type:"text",name:"equals",visibleOn:'data.type == "equals"',placeholder:"设置值",value:""},{type:"text",name:"equalsField",visibleOn:'data.type == "equalsField"',placeholder:"设置字段名",value:""},{type:"text",name:"matchRegexp",visibleOn:'data.type == "matchRegexp"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp1",visibleOn:'data.type == "matchRegexp1"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp2",visibleOn:'data.type == "matchRegexp2"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp3",visibleOn:'data.type == "matchRegexp3"',placeholder:"设置正则规则"},{type:"text",name:"matchRegexp4",visibleOn:'data.type == "matchRegexp4"',placeholder:"设置正则规则"}]}),function(){var e=[{label:"Url格式",value:"isUrl"},{label:"不为空",value:"notEmptyString"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],t={isRequired:"这是必填项",isUrl:"Url 格式不正确",isUrlPath:"只能输入字母、数字、`-` 和 `_`.",matchRegexp:"格式不正确, 请输入符合规则为 `$1` 的内容。",notEmptyString:"请不要全输入空白字符",equalsField:"输入的数据与 $1 值不一致",equals:"输入的数据与 $1 不一致"};return{type:"combo",syncDefaultValue:!1,name:"validationErrors",label:"自定义验证提示",description:"自带提示不满足时，可以自定义。",addButtonText:"新增提示",multiple:!0,pipeIn:function(e){if(!r.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){/^\$\$/.test(a)||t.push({type:a,msg:e[a]})})),t},pipeOut:function(a){if(!Array.isArray(a))return a;var l={};return a.forEach((function(a){var i,n=a.type||((i=c(e,(function(e){return!l[e.value]})))?i.value:"")||e[0].value;l[n]=a.msg||t[n]||""})),l},controls:[{type:"select",unique:!0,name:"type",options:e,columnClassName:"w-sm"},{type:"text",name:"msg",placeholder:"提示信息"},{type:"formula",name:"msg",initSet:!1,formula:"({\n                                            isRequired: '这是必填项',\n                                            isUrl: 'Url 格式不正确',\n                                            isUrlPath: '只能输入字母、数字、`-` 和 `_`.',\n                                            matchRegexp: '格式不正确, 请输入符合规则为 `$1` 的内容。',\n                                            notEmptyString: '请不要全输入空白字符',\n                                            equalsField: '输入的数据与 $1 值不一致',\n                                            equals: '输入的数据与 $1 不一致'\n                                        })[data.type] || ''"}]}}(),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},l}return l.__extends(t,e),t=l.__decorate([i.Editor("url-control",{name:"Url输入框",description:"Url输入框",type:"url",tags:["表单项"],previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},m)},scaffold:m})],t)}(o.TextControlEditor);t.UrlControlEditor=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"number",label:"数字",name:"number"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Number",t.$schema="https://houtai.baidu.com/v2/schemas/form/number.json#",t.settingsSchema={title:"文本框配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"number",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{type:"text",name:"min",label:"最小值",description:"请输入数字或使用 <code>\\${xxx}</code> 来获取变量，否则该配置不生效"},{type:"text",name:"max",label:"最大值",description:"请输入数字或使用 <code>\\${xxx}</code> 来获取变量，否则该配置不生效"},{type:"number",name:"step",label:"步长"},{type:"number",name:"percision",label:"小数点精度",min:0,max:100},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("number-control",{name:"数字框",description:"支持设定最大值和最小值，以及步长与精度",type:"number",tags:["表单项"],scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.NumberControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(12),r=a(7),s=a(6),p={type:"tag",label:"标签",name:"tag",options:["A","B","C"]},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Tag",t.$schema="https://houtai.baidu.com/v2/schemas/form/tag.json#",t.settingsSchema={title:"标签配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("hint"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("clearable")])},{title:"选项",controls:[n.getSchemaTplByName("options",{visibleOn:"data.autoComplete !== false",description:"设置选项后，输入时会下拉这些选项供用户参考。"}),n.getSchemaTplByName("api",{name:"source",label:"选项获取接口",description:"可以通过接口获取动态选项，一次拉取全部。",visibleOn:"data.autoComplete !== false"}),{type:"text",name:"optionsTip",label:"选项提示",value:"最近您使用的标签"},n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter"),n.getSchemaTplByName("extractValue")]},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validations"),n.getSchemaTplByName("validationErrors"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t.prototype.getSettingsValue=function(){var t=e.prototype.getSettingsValue.call(this);return l.__assign(l.__assign({},t),{formHorizontal:this.props.formHorizontal,$$formMode:this.props.formMode})},t.prototype.setSettingsValue=function(t){return e.prototype.setSettingsValue.call(this,o(t,["formHorizontal","$$formMode"]))},t=l.__decorate([i.Editor("tag-control",{name:"标签",description:"配置<code>options</code>可以实现选择选项",type:"tag",tags:["表单项"],scaffold:p,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},p)}})],t)}(r.FormItemEditor);t.TagControlEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"select",label:"选项",name:"select",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Select",t.$schema="https://houtai.baidu.com/v2/schemas/form/select.json#",t.settingsSchema={title:"选择框",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"select",name:"value",label:"默认值",source:"${options}",visibleOn:'!data.multiple && typeof this.value !== "undefined"'},{type:"select",name:"value",label:"默认值",source:"${options}",multiple:!0,visibleOn:' data.multiple && typeof this.value !== "undefined"'},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable"),{label:"可搜索？",name:"searchable",type:"switch",mode:"inline",className:"w-full"},{label:"可创建？",name:"creatable",type:"switch",mode:"inline",className:"w-full"}])},{title:"选项",controls:[n.getSchemaTplByName("multiple"),{label:"全选",name:"checkAll",type:"switch",mode:"inline",value:!1,className:"w-full"},{label:"默认全选",name:"defaultCheckAll",type:"switch",value:!1,visibleOn:"this.checkAll",mode:"inline",className:"w-full"},{type:"text",name:"checkAllLabel",label:'默认为 "全选" 的文字',visibleOn:"this.checkAll",value:"全选"},n.getSchemaTplByName("options"),n.getSchemaTplByName("api",{name:"source",label:"获取选项接口"}),n.getSchemaTplByName("api",{name:"autoComplete",label:"自动完成接口",description:"每次输入新内容后，将调用接口，根据接口返回更新选项。当前用户输入值在 <code>\\${term}</code> 中。"}),n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter"),n.getSchemaTplByName("extractValue")]},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validations"),n.getSchemaTplByName("validationErrors"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("select-control",{name:"下拉框",tags:["表单项"],description:"支持多选，输入提示，可使用<code>source</code>获取选项",type:"select",scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.SelectControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"checkbox",option:"勾选框",name:"checkbox"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Checkbox",t.$schema="https://houtai.baidu.com/v2/schemas/form/checkbox.json#",t.settingsSchema={title:"勾选框配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("switchDefaultValue",{pipeOut:function(e,t,a){return e?a.trueValue:void 0}}),{type:"switch",name:"value",label:"默认勾选",mode:"inline",className:"w-full",visibleOn:'typeof this.value !== "undefined"',pipeOut:function(e,t,a){return e?a.trueValue:a.falseValue}},{name:"option",type:"text",label:"选项说明"},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{type:"text",label:"勾选后的值",name:"trueValue",value:!0,pipeOut:n.valuePipeOut},{type:"text",label:"未勾选的值",name:"falseValue",value:!1,pipeOut:n.valuePipeOut},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("checkbox-control",{name:"勾选框",description:"勾选框",tags:["表单项"],type:"checkbox",scaffold:s,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({value:!0},s)}})],t)}(o.FormItemEditor);t.CheckboxControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s=function(e){try{return JSON.parse(e)}catch(t){return e}},p={type:"switch",option:"开关",name:"switch"},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Switch",t.$schema="https://houtai.baidu.com/v2/schemas/form/switch.json#",t.settingsSchema={title:"开关配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("switchDefaultValue",{pipeOut:function(e,t,a){return e?a.trueValue:void 0}}),{type:"switch",name:"value",label:"默认勾选",mode:"inline",className:"w-full",visibleOn:'typeof this.value !== "undefined"',pipeOut:function(e,t,a){return e?a.trueValue:a.falseValue}},{name:"option",type:"text",label:"选项说明"},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[{label:"选项位置",name:"optionAtLeft",type:"button-group",size:"sm",value:!1,options:[{label:"左",value:!0},{label:"右",value:!1}]},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{type:"text",label:"勾选后的值",name:"trueValue",value:!0,pipeOut:s},{type:"text",label:"未勾选的值",name:"falseValue",value:!1,pipeOut:s},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("switch-control",{name:"开关",description:"开关",tags:["表单项"],type:"switch",scaffold:p,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({value:!0},p)}})],t)}(o.FormItemEditor);t.SwitchControlEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxesControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"checkboxes",label:"复选框",name:"checkboxes",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Checkboxes",t.$schema="https://houtai.baidu.com/v2/schemas/form/checkboxes.json#",t.settingsSchema={title:"复选框配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("switchDefaultValue",{visibleOn:"!this.defaultCheckAll"}),{type:"checkboxes",name:"value",label:"默认值",source:"${options}",visibleOn:'typeof this.value !== "undefined"',multiple:!0},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"选项",controls:[n.getSchemaTplByName("options"),n.getSchemaTplByName("api",{name:"source",label:"获取选项接口"}),{name:"checkAll",label:"是否开启全选功能",type:"switch",mode:"inline",className:"w-full"},{name:"defaultCheckAll",label:"是否默认全选",type:"switch",mode:"inline",className:"w-full",description:"勾选后，默认值的配置将无效。",onChange:function(e,t,a,l){return e&&l.setValueByName("value",void 0)}},n.getSchemaTplByName("joinValues",{visibleOn:!0}),n.getSchemaTplByName("delimiter",{hiddenOn:"data.joinValues === false"}),n.getSchemaTplByName("extractValue")]},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),{label:"每行显示多少列",name:"columnsCount",hiddenOn:"data.inline === true",type:"range",min:1,max:6,pipeIn:n.defaultValue(1)},n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"单个 checkbox 类名",name:"itemClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("checkboxes-control",{name:"复选框",description:"通过<code>options</code>配置多个勾选框，也可以通过<code>source</code>拉取选项",type:"Checkboxes",scaffold:s,tags:["表单项"],previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({value:"A"},s)}})],t)}(o.FormItemEditor);t.CheckboxesControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadiosControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"radios",label:"单选框",name:"radios",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Radios",t.$schema="https://houtai.baidu.com/v2/schemas/form/radios.json#",t.settingsSchema={title:"单选框配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("switchDefaultValue"),{type:"radios",name:"value",label:"默认值",source:"${options}",visibleOn:'typeof this.value !== "undefined"',multiple:!0},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"选项",controls:[n.getSchemaTplByName("options"),n.getSchemaTplByName("api",{name:"source",label:"获取选项接口"}),n.getSchemaTplByName("joinValues",{visibleOn:!0}),n.getSchemaTplByName("extractValue")]},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),{name:"inline",type:"switch",mode:"inline",className:"w-full",label:"内联模式",pipeIn:n.defaultValue(!1)},{label:"每行显示多少列",name:"columnsCount",hiddenOn:"data.inline === true",type:"range",min:1,max:6,pipeIn:n.defaultValue(1)},n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"单个 Radio 类名",name:"itemClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("radios-control",{name:"单选框",tags:["表单项"],description:"通过<code>options</code>配置选项，可通过<code>source</code>拉取选项",type:"radios",scaffold:s,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({value:"A"},s)}})],t)}(o.FormItemEditor);t.RadiosControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(4),r=a(7),s=a(6),p=a(3),c=a(5),d=l.__importDefault(a(10)),m=a(12),u={type:"list",label:"列表",name:"list",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},h=function(e){function t(t,a){var i=e.call(this,t)||this;return i.tipName="List",i.$schema="https://houtai.baidu.com/v2/schemas/form/list.json#",i.settingsSchema={title:"列表选择配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("switchDefaultValue"),{type:"list",name:"value",label:"默认值",description:"请填入选项 Options 中 value 值",source:"${options}",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable",{label:"启用可清除",description:"关闭此选项后，一旦选中一个值，限制不可以被取消。"})])},{title:"选项",controls:[n.getSchemaTplByName("multiple"),n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter"),n.getSchemaTplByName("extractValue"),n.getSchemaTplByName("options"),n.getSchemaTplByName("api",{name:"source",label:"获取选项接口"})]},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"}),{name:"itemSchema",children:function(e){var t=e.onChange,a=e.value;return p.createElement("div",{className:"m-b"},p.createElement(c.Button,{size:"sm",level:a?"danger":"info",onClick:i.handleEditItemSchema.bind(i)},"定制单条内容形态"),a?p.createElement(c.Button,{size:"sm",level:"link",className:"m-l",onClick:function(){return t(void 0)}},"清空设置"):null)}}]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},i.state=l.__assign({},i.modifyProps(t,a)),i}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;o.anyChanged(["itemSchema"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.modifyProps=function(e,t){void 0===t&&(t=this.context);var a=e.itemSchema;return{itemSchema:a=a?o.JSONPipeOut(a):a}},t.prototype.handleEditItemSchema=function(){var e=this.context.editor,t=this.props.$$id,a=o.JSONPipeOut(e.get(t)),i=a.itemSchema||{type:"container",body:"<p>Label: ${label}</p>"},n=Array.isArray(a.options)&&a.options.length?a.options[0]:{label:"假数据",value:"mock"};e.openDialog("单条内容",{type:"form",mode:"normal",data:{itemSchema:i},controls:[{name:"itemSchema",children:function(t){var a=t.value,i=t.onChange;return p.createElement(d.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},a),{type:"container"}),onChange:i,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{itemSchema:m(o.JSONPipeIn(a.itemSchema),["$$edittingDialog"])})}),"xl")},t=l.__decorate([i.Editor("list-control",{name:"列表选择",description:"单选或者多选，支持<code>source</code>拉取选项，选项可配置图片，也可以自定义<code>HTML</code>配置",type:"list",icon:"fa fa-list",scaffold:u,tags:["表单项"],previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({value:"A"},u)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(r.FormItemEditor);t.ListControlEditor=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChainedSelectControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"chained-select",label:"级联选择",name:"chained-select"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Chained Select",t.$schema="https://houtai.baidu.com/v2/schemas/form/chained-select.json#",t.settingsSchema={title:"级联选择配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"',description:"请填入选项 Options 中 value 值"},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"选项",controls:[n.getSchemaTplByName("api",{name:"source",label:"获取选项接口",description:"<div>可用变量说明</div><ul>\n                                <li><code>value</code>当前值</li>\n                                <li><code>level</code>拉取级别，从 <code>1</code>开始。</li>\n                                <li><code>parentId</code>上一层选中的 <code>value</code> 值</li>\n                                <li><code>parent</code>上一层选中选项，包含 <code>label</code> 和 <code>value</code> 的值。</li>\n                            </ul>"}),n.getSchemaTplByName("joinValues",{visibleOn:!0}),n.getSchemaTplByName("delimiter",{visibleOn:"data.joinValues"}),n.getSchemaTplByName("extractValue")]},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("chained-select-control",{name:"级联下拉框",description:"通过<code>source</code>拉取选项，只要有返回结果，就可以无限级别增加",type:"chained-select",scaffold:s,tags:["表单项"],previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.ChainedSelectControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(5),s=a(6),p={type:"date",label:"日期",name:"date"},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Date",t.$schema="https://houtai.baidu.com/v2/schemas/form/date.json#",t.settingsSchema={title:"日期配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder",{pipeIn:n.defaultValue("请选择日期")}),{type:"text",name:"format",label:"值格式",description:'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。',pipeIn:n.defaultValue("X")},n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"',placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法"},{type:"fieldSet",title:"固定值选择",collapsed:!0,collapsable:!0,className:"fieldset",visibleOn:'typeof this.value !== "undefined"',controls:[{type:"date",name:"value",pipeIn:function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e}}]},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable",{pipeIn:n.defaultValue(!0)})])},{title:"外观",controls:[{type:"text",name:"inputFormat",label:"显示格式",description:'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。',pipeIn:n.defaultValue("YYYY-MM-DD")},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{type:"text",name:"minDate",label:"最小日期",placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法，同时支持变量如<code>\\${start_date}</code>"},{type:"fieldSet",title:"固定值选择",collapsed:!0,collapsable:!0,className:"fieldset",controls:[{type:"date",name:"minDate",pipeIn:function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e}}]},{type:"divider"},{type:"text",name:"maxDate",label:"最大日期",placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法，同时支持变量如<code>\\${start_date}</code>"},{type:"fieldSet",title:"固定值选择",collapsed:!0,collapsable:!0,className:"fieldset",controls:[{type:"date",name:"maxDate",pipeIn:function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e}}]},{type:"divider"},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t.prototype.setSettingsValue=function(t){e.prototype.setSettingsValue.call(this,t);var a=this.ref;a&&a.props.formStore&&t.name&&a.props.formStore.setValueByName(t.name,t.value?r.filterDate(t.value,t,t.format||"X").format(t.format||"X"):"")},t=l.__decorate([i.Editor("date-control",{name:"日期框",description:"年月日选择，支持相对值设定，如<code>+2days</code>两天后",type:"date",tags:["表单项"],icon:"fa fa-calendar",scaffold:p,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},p)}})],t)}(o.FormItemEditor);t.DateControlEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatetimeControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(5),s=a(6),p={type:"datetime",label:"日期时间",name:"datetime"},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Datetime",t.$schema="https://houtai.baidu.com/v2/schemas/form/datetime.json#",t.settingsSchema={title:"日期时间配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder",{pipeIn:n.defaultValue("请选择日期时间")}),{type:"text",name:"format",label:"值格式",description:'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。',pipeIn:n.defaultValue("X")},n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"',placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法"},{type:"fieldSet",title:"固定值选择",collapsed:!0,collapsable:!0,className:"fieldset",visibleOn:'typeof this.value !== "undefined"',controls:[{type:"datetime",name:"value",pipeIn:function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e}}]},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable",{pipeIn:n.defaultValue(!0)})])},{title:"外观",controls:[{type:"text",name:"inputFormat",label:"显示格式",description:'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。',pipeIn:n.defaultValue("YYYY-MM-DD HH:mm")},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{type:"text",name:"minDate",label:"最小日期",placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法，同时支持变量如<code>\\${start_date}</code>"},{type:"fieldSet",title:"固定值选择",collapsed:!0,collapsable:!0,className:"fieldset",controls:[{type:"date",name:"minDate",pipeIn:function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e}}]},{type:"divider"},{type:"text",name:"maxDate",label:"最大日期",placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法，同时支持变量如<code>\\${start_date}</code>"},{type:"fieldSet",title:"固定值选择",collapsed:!0,collapsable:!0,className:"fieldset",controls:[{type:"date",name:"maxDate",pipeIn:function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e}}]},{type:"divider"},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t.prototype.setSettingsValue=function(t){e.prototype.setSettingsValue.call(this,t);var a=this.ref;a&&a.props.formStore&&t.name&&a.props.formStore.setValueByName(t.name,t.value?r.filterDate(t.value,t,t.format||"X").format(t.format||"X"):"")},t=l.__decorate([i.Editor("datetime-control",{name:"日期时间框",description:"年月日时分选择",type:"datetime",tags:["表单项"],scaffold:p,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},p)}})],t)}(o.FormItemEditor);t.DatetimeControlEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(5),s=a(6),p={type:"time",label:"时间",name:"time"},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Time",t.$schema="https://houtai.baidu.com/v2/schemas/form/time.json#",t.settingsSchema={title:"时间框配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder",{pipeIn:n.defaultValue("请选择时间")}),{type:"text",name:"format",label:"值格式",description:'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。',pipeIn:n.defaultValue("X")},n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"',placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法"},{type:"fieldSet",title:"固定值选择",collapsed:!0,collapsable:!0,className:"fieldset",visibleOn:'typeof this.value !== "undefined"',controls:[{type:"time",name:"value",pipeIn:function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e}}]},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable",{pipeIn:n.defaultValue(!0)})])},{title:"外观",controls:[{type:"text",name:"inputFormat",label:"显示格式",description:'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。',pipeIn:n.defaultValue("HH:mm")},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t.prototype.setSettingsValue=function(t){e.prototype.setSettingsValue.call(this,t);var a=this.ref;a&&a.props.formStore&&t.name&&a.props.formStore.setValueByName(t.name,t.value?r.filterDate(t.value,t,t.format||"X").format(t.format||"X"):"")},t=l.__decorate([i.Editor("time-control",{name:"时间框",description:"时分输入",type:"time",tags:["表单项"],scaffold:p,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},p)}})],t)}(o.FormItemEditor);t.TimeControlEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(5),s=a(6),p={type:"date-range",label:"日期范围",name:"date-range"},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Date Range",t.$schema="https://houtai.baidu.com/v2/schemas/form/date-range.json#",t.settingsSchema={title:"日期范围配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder",{pipeIn:n.defaultValue("请选择日期范围")}),{type:"text",name:"format",label:"值格式",description:'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。',pipeIn:n.defaultValue("X")},n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"',placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法，由于包含开始和结束时间，请用逗号隔开。"},{type:"fieldSet",title:"固定值选择",visibleOn:'typeof this.value !== "undefined"',collapsed:!0,collapsable:!0,className:"fieldset",controls:[{type:"date-range",name:"value",pipeIn:function(e){return e?e.split(",").map((function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e})):""}}]},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable",{pipeIn:n.defaultValue(!0)}),n.getSchemaTplByName("joinValues",{visibleOn:!0}),n.getSchemaTplByName("delimiter",{hiddenOn:"this.joinValues === false"})])},{title:"外观",controls:[{type:"text",name:"inputFormat",label:"显示格式",description:'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。',pipeIn:n.defaultValue("YYYY-MM-DD")},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{type:"text",name:"minDate",label:"最小日期",placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法，同时支持变量如<code>\\${start_date}</code>"},{type:"fieldSet",title:"固定值选择",collapsed:!0,collapsable:!0,className:"fieldset",controls:[{type:"date",name:"minDate",pipeIn:function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e}}]},{type:"divider"},{type:"text",name:"maxDate",label:"最大日期",placeholder:"请输入相对值",description:"支持 <code>now、+1day、-2weeks</code>这种相对值用法，同时支持变量如<code>\\${start_date}</code>"},{type:"fieldSet",title:"固定值选择",collapsed:!0,collapsable:!0,className:"fieldset",controls:[{type:"date",name:"maxDate",pipeIn:function(e){return r.relativeValueRe.test(e)||~["now","today"].indexOf(e)?"":e}}]},{type:"divider"},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t.prototype.setSettingsValue=function(t){e.prototype.setSettingsValue.call(this,t);var a=this.ref;a&&a.props.formStore&&t.name&&a.props.formStore.setValueByName(t.name,t.value?t.value.split(",").map((function(e){return e?r.filterDate(e,t,t.format||"X").format(t.format||"X"):""})):"")},t=l.__decorate([i.Editor("date-range-control",{name:"日期范围",description:"日期范围选择，可通过<code>minDate</code>、<code>maxDate</code>设定最小、最大日期",type:"date-range",tags:["表单项"],scaffold:p,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},p)}})],t)}(o.FormItemEditor);t.DateControlEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"color",label:"颜色",name:"color"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Color",t.$schema="https://houtai.baidu.com/v2/schemas/form/color.json#",t.settingsSchema={title:"颜色框配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),{label:"格式",name:"format",type:"button-group",size:"sm",pipeIn:n.defaultValue("hex"),options:["hex","hls","rgb","rgba"]},n.getSchemaTplByName("switchDefaultValue"),{type:"color",name:"value",visibleOn:'typeof this.value !== "undefined"',label:"默认值"},n.getSchemaTplByName("switchDefaultValue",{name:"presetColors",label:"设置选择器中颜色默认值",description:"为空时不显示选择器中的默认值"}),{type:"array",name:"presetColors",label:"选择器中颜色默认值",addable:!0,removable:!0,visibleOn:'typeof this.presetColors !== "undefined"',items:{type:"color"},value:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("color-control",{name:"颜色框",description:"支持<code>hex、hls、rgb、rgba</code>格式，默认为<code>hex</code>格式",type:"color",tags:["表单项"],scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.TextControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextAreaControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"textarea",label:"多行文本",name:"textarea"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Textarea",t.$schema="https://houtai.baidu.com/v2/schemas/form/textarea.json#",t.settingsSchema={title:"多行文本配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"textarea",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("hint"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[{type:"number",name:"minRows",value:3,label:"最小行数"},{type:"number",name:"maxRows",value:20,label:"最大行数"},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),{type:"switch",name:"trimContents",label:"去除首尾空白",mode:"inline",className:"w-full",description:"开启后，将不允许用户输入前后空格"},n.getSchemaTplByName("validations"),n.getSchemaTplByName("validationErrors"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("textarea-control",{name:"多行文本框",description:"多行文本框",type:"textarea",tags:["表单项"],scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.TextAreaControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"rich-text",label:"富文本",name:"rich-text"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="RichText",t.$schema="https://houtai.baidu.com/v2/schemas/form/rich-text.json#",t.settingsSchema={title:"富文本配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"textarea",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[{type:"fieldSet",title:"配置栏",_name:"options",collapsable:!0,className:"fieldset",controls:[{type:"combo",name:"options",noBorder:!0,multiLine:!0,controls:[{type:"select",name:"language",label:"语言",labelRemark:"鼠标覆盖配置栏中配置时显示的提示语言",defaultValue:"zh_cn",options:[{label:"中文",value:"zh_cn"},{label:"英文",value:"en_us"}]},{type:"textarea",name:"toolbarButtons",label:"大屏时展示的配置项",labelRemark:"屏幕宽度 ≥ 1200px",description:'使用空格分开配置，使用<code>|</code>可将配置栏分组，<a target="_blank" href="https://www.froala.com/wysiwyg-editor/docs/options">参考文档</a>',minRows:5,pipeIn:function(e){return Array.isArray(e)?e.join(" "):""},pipeOut:function(e){return e.replace(/\s+/g," ").split(" ")}},{type:"textarea",name:"toolbarButtonsMD",label:"中屏时展示的配置项",labelRemark:"屏幕宽度 ≥ 992px",description:'使用空格分开配置，使用<code>|</code>可将配置栏分组，<a target="_blank" href="https://www.froala.com/wysiwyg-editor/docs/options">参考文档</a>',minRows:5,pipeIn:function(e){return Array.isArray(e)?e.join(" "):""},pipeOut:function(e){return e.replace(/\s+/g," ").split(" ")}},{type:"textarea",name:"toolbarButtonsSM",label:"小屏时展示的配置项",labelRemark:"屏幕宽度 ≥ 768px",description:'使用空格分开配置，使用<code>|</code>可将配置栏分组，<a target="_blank" href="https://www.froala.com/wysiwyg-editor/docs/options">参考文档</a>',minRows:5,pipeIn:function(e){return Array.isArray(e)?e.join(" "):""},pipeOut:function(e){return e.replace(/\s+/g," ").split(" ")}}]}]},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("api",{name:"reciever",label:"文件接收接口",value:"/api/upload/image"}),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("rich-text-control",{name:"富文本",tags:["表单项"],description:"可自定义富文本的配置栏",type:"rich-text",scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.RichTextControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"image",label:"图片上传",name:"image",imageClassName:"r w-full",src:"https://fex.bdstatic.com/n/static/amis/renderers/crud/field/placeholder_cfad9b1.png"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Image",t.$schema="https://houtai.baidu.com/v2/schemas/form/image.json#",t.settingsSchema={title:"图片上传配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("multiple",{value:!1}),n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter"),n.getSchemaTplByName("extractValue"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{name:"maxSize",type:"number",label:"图片最大体积",description:"超出大小不允许上传，单位字节"},{name:"maxLength",type:"number",label:"图片最大数量",visibleOn:"data.multiple",description:"超出数量不允许上传"},n.getSchemaTplByName("apiString",{label:"文件接收接口",name:"reciever",description:"文件接收接口，默认不填则上传到 hiphoto",value:"/api/upload"}),{type:"text",value:"image/jpeg, image/jpg, image/png, image/gif",name:"accept",label:"图片类型",description:"请填入图片的 <code>MimeType</code>，多个类型用<code>,</code>隔开。"},{type:"switch",name:"hideUploadButton",value:!1,label:"隐藏上传按钮",mode:"inline",className:"w-full"},{type:"switch",name:"autoUpload",value:!1,label:"自动上传",mode:"inline",className:"w-full"},{name:"compress",type:"switch",label:"开启压缩",value:!0,mode:"inline",className:"w-full",description:"由 hiphoto 实现，自定义接口将无效。"},{type:"combo",name:"compressOptions",multiLine:!0,label:"压缩配置",visibleOn:"data.compress",controls:[{type:"number",label:"最大宽度",name:"maxWidth"},{type:"number",label:"最大高度",name:"maxHeight"}]},{name:"showCompressOptions",type:"switch",label:"是否显示压缩选项",mode:"inline",className:"w-full"},{name:"crop",type:"switch",label:"是否开启裁剪",mode:"inline",className:"w-full",pipeIn:function(e){return!!e}},{name:"crop.aspectRatio",type:"text",label:"裁剪比率",visibleOn:"data.crop",pipeOut:n.valuePipeOut},{type:"fieldSet",title:"图片限制",collapsed:!0,collapsable:!0,className:"fieldset",controls:[{type:"number",name:"limit.width",label:"限制宽度"},{type:"number",name:"limit.height",label:"限制高度"},{type:"number",name:"limit.maxWidth",label:"限制最大宽度"},{type:"number",name:"limit.maxHeight",label:"限制最大高度"},{type:"number",name:"limit.minWidth",label:"限制最小宽度"},{type:"number",name:"limit.minHeight",label:"限制最小高度"},{type:"number",name:"limit.aspectRatio",label:"限制宽高比率"},{type:"text",name:"limit.限制最小高度",label:"宽高比描述",description:"当宽高比没有满足条件时，此描述将作为提示信息显示"}]},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("image-control",{name:"图片上传",description:"可以对图片实现裁剪，限制图片的宽高以及大小，支持自动上传及上传多张图片",type:"image",scaffold:s,tags:["表单项"],previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.FileControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"range",label:"范围",name:"range"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Range",t.$schema="https://houtai.baidu.com/v2/schemas/form/range.json#",t.settingsSchema={title:"范围配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("switchDefaultValue"),{type:"number",name:"value",label:"默认值",validations:"isNumeric",visibleOn:'typeof data.value !== "undefined" && !data.multiple',pipeIn:function(e){return"number"==typeof e?e:0},pipeOut:function(e,t,a){return e<a.min&&a.min||e>a.max&&a.max||e}},{type:"combo",name:"value",visibleOn:'typeof data.value !== "undefined" && this.multiple',controls:[{type:"number",validations:"isNumeric",name:"min",label:"小值"},{type:"number",validations:"isNumeric",name:"max",label:"大值"}]},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable"),n.getSchemaTplByName("multiple",{pipeIn:n.defaultValue(!1)}),n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter")])},{title:"外观",controls:[{type:"text",name:"unit",label:"单位",value:""},{type:"switch",name:"showInput",mode:"inline",label:"是否显示输入框",value:!1},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{label:"最小值",name:"min",type:"number",value:0},{label:"最大值",name:"max",type:"number",value:100},{label:"步伐",name:"step",type:"number",value:1},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("range-control",{name:"范围输入",tags:["表单项"],description:"选择某个值或者某个范围",type:"range",scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.RangeControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"file",label:"文件上传",name:"file"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="File",t.$schema="https://houtai.baidu.com/v2/schemas/form/file.json#",t.settingsSchema={title:"文件上传配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),{type:"text",name:"btnLabel",label:"上传按钮名称",value:"请选择文件"},n.getSchemaTplByName("description"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("apiString",{label:"文件接收器",name:"reciever",description:"默认不填写将上传到 bos，可以在系统配置中设置为自己的 bos 地址。",value:"/api/upload/file"}),{type:"fieldSet",title:"分块上传相关",collapsed:!0,collapsable:!0,className:"fieldset",controls:[{type:"button-group",name:"useChunk",label:"启用分块",size:"xs",pipeOut:n.valuePipeOut,value:"auto",options:[{label:"自动",value:"auto"},{label:"启用",value:!0},{label:"关闭",value:!1}]},{name:"chunkSize",type:"number",label:"分块大小",visibleOn:"data.useChunk != false",value:5242880},n.getSchemaTplByName("apiString",{name:"startChunkApi",label:"startChunkApi",value:"/api/upload/startChunk"}),n.getSchemaTplByName("apiString",{name:"chunkApi",label:"chunkApi",value:"/api/upload/chunk"}),n.getSchemaTplByName("apiString",{name:"finishChunkApi",label:"finishChunkApi",value:"/api/upload/finishChunk"})]},{type:"text",name:"accept",label:"文件类型",value:"text/plain",description:"请填写文件的 <code>mime-types</code>，参考 <code>input[type=file]</code> 的 <code>accept</code> 说明"},n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("multiple",{pipeIn:n.defaultValue(!1)}),n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter"),n.getSchemaTplByName("extractValue")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"}),n.getSchemaTplByName("className",{name:"btnClassName",label:"按钮 CSS 类名",pipeIn:n.defaultValue("btn-sm btn-info")}),n.getSchemaTplByName("className",{name:"btnUploadClassName",label:"上传按钮 CSS 类名",pipeIn:n.defaultValue("btn-sm btn-success")})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{name:"maxSize",type:"number",label:"文件最大体积",description:"超出大小不允许上传，单位字节"},{name:"maxLength",type:"number",label:"文件最大数量",description:"超出数量不允许上传"},{name:"fileField",type:"text",label:"文件域名称",value:"file"},{name:"asBase64",type:"switch",mode:"inline",className:"block",label:"作为 Base64 提交",description:"小文件时可以使用，默认给 Form 提交的是文件下载地址，设置后给 Form 提交文件内容的 base64 格式字符串。"},{name:"asBlob",type:"switch",mode:"inline",className:"block",label:"作为二进制提交",description:"File 控件不接管文件上传，直接由表单的保存接口完成。和 Base64 选项二选一。"},{name:"autoUpload",type:"switch",mode:"inline",className:"block",label:"是否自动上传"},{name:"hideUploadButton",type:"switch",mode:"inline",className:"block",label:"是否隐藏上传按钮",value:!1},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("file-control",{name:"文件上传",description:"可上传多个文件，可配置是否自动上传以及大文件分片上传",type:"file",scaffold:s,tags:["表单项"],previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.FileControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"tree",label:"树",name:"tree",options:[{label:"选项A",value:"A",children:[{label:"选项C",value:"C"},{label:"选项D",value:"D"}]},{label:"选项B",value:"B"}]},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Tree",t.$schema="https://houtai.baidu.com/v2/schemas/form/tree.json#",t.settingsSchema={definitions:{options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},controls:[{type:"group",controls:[{type:"text",name:"label",placeholder:"名称",required:!0},{type:"text",name:"value",placeholder:"值",unique:!0}]},{$ref:"options",label:"子选项",name:"children",addButtonText:"新增子选项"}]}},title:"树选择框配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"选项",controls:[{$ref:"options",name:"options"},n.getSchemaTplByName("api",{name:"source",label:"获取选项接口"}),{label:"隐藏顶级",name:"hideRoot",type:"switch",mode:"inline",className:"w-full"},{name:"showIcon",label:"是否显示图标",type:"switch",mode:"inline",className:"w-full",pipeIn:n.defaultValue(!0)},n.getSchemaTplByName("multiple"),{name:"cascade",visibleOn:"data.multiple",label:"不自动选中子节点？",type:"switch",description:"选中父级时，孩子节点是否自动选中",mode:"inline",className:"w-full"},{name:"withChildren",visibleOn:"data.cascade !== true && data.multiple",label:"数值是否携带子节点",type:"switch",disabledOn:"data.onlyChildren",mode:"inline",className:"w-full"},{name:"onlyChildren",visibleOn:"data.cascade !== true && data.multiple",label:"数值是否只包含子节点",disabledOn:"data.withChildren",type:"switch",mode:"inline",className:"w-full"},n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter"),n.getSchemaTplByName("extractValue")]},{title:"外观",controls:[{label:"顶级文字",name:"rootLabel",type:"text",pipeIn:n.defaultValue("顶级"),visibleOn:"data.hideRoot !== true"},{name:"showIcon",label:"是否显示图标",type:"switch",mode:"inline",className:"w-full",pipeIn:n.defaultValue(!0)},{label:"是否显示单选按钮",name:"showRadio",type:"switch",mode:"inline",className:"w-full",visibleOn:"!data.multiple"},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("tree-control",{name:"树选择框",description:"树型结构来选择，可通过<code>options</code>来配置选项，也可通过<code>source</code>拉取选项",type:"tree",tags:["表单项"],scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.TreeControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeSelectControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"tree-select",label:"树选择框",name:"tree-select",options:[{label:"选项A",value:"A",children:[{label:"选项C",value:"C"},{label:"选项D",value:"D"}]},{label:"选项B",value:"B"}]},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Tree Select",t.$schema="https://houtai.baidu.com/v2/schemas/form/tree-select.json#",t.settingsSchema={title:"树选择框配置",definitions:{options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},controls:[{type:"group",controls:[{type:"text",name:"label",placeholder:"名称",required:!0},{type:"text",name:"value",placeholder:"值",unique:!0}]},{$ref:"options",label:"子选项",name:"children",addButtonText:"新增子选项"}]}},controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("clearable")])},{title:"选项",controls:[{$ref:"options",name:"options"},n.getSchemaTplByName("api",{name:"source",label:"获取选项接口"}),n.getSchemaTplByName("api",{name:"autoComplete",label:"自动完成接口",description:"每次输入新内容后，将调用接口，根据接口返回更新选项。当前用户输入值在 `\\${term}` 中。<code>请不要与获取选项接口同时设置。</code>"}),{name:"initiallyOpen",label:"是否默认展开子选项",type:"switch",mode:"inline",className:"w-full",pipeIn:n.defaultValue(!0)},{type:"text",name:"unfoldedLevel",label:"选项默认展开级数",visibleOn:'typeof this.initiallyOpen !== "undefined" || !this.initiallyOpen'},{name:"showIcon",label:"是否显示图标",type:"switch",mode:"inline",className:"w-full",pipeIn:n.defaultValue(!0)},{label:"可搜索？",name:"searchable",type:"switch",mode:"inline",className:"w-full"},{label:"是否显示单选按钮",name:"showRadio",type:"switch",mode:"inline",className:"w-full",visibleOn:"!data.multiple"},n.getSchemaTplByName("multiple"),{name:"cascade",visibleOn:"data.multiple",label:"不自动选中子节点？",description:"选中父级时，孩子节点是否自动选中",type:"switch",mode:"inline",className:"w-full"},{name:"withChildren",visibleOn:"data.cascade !== true && data.multiple",label:"数值是否携带子节点",type:"switch",mode:"inline",className:"w-full"},n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter"),n.getSchemaTplByName("extractValue")]},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("tree-select-control",{name:"树型下拉框",description:"点击输入框，弹出树型选择框进行选择",type:"tree-select",tags:["表单项"],scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.TreeSelectControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenControlEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o={type:"hidden",name:"var1"},r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Hidden",t.placeholder="功能组件（隐藏字段）",t.$schema="https://houtai.baidu.com/v2/schemas/form/hidden.json#",t.settingsSchema={title:"隐藏字段配置",controls:[{label:"字段名",name:"name",type:"text",required:!0},{type:"text",name:"value",label:"默认值"}]},t}return l.__extends(t,e),t.prototype.renderRenderer=function(e){return this.renderPlaceholder(e)},t=l.__decorate([i.Editor("hidden-control",{name:"隐藏域",description:"隐藏表单项",type:"hidden",scaffold:o,tags:["表单项","功能"],previewSchema:{type:"tpl",tpl:"隐藏域"}})],t)}(n.default);t.HiddenControlEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormulaControlEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=a(6),s={type:"formula",name:"formula"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Formula",t.$schema="https://houtai.baidu.com/v2/schemas/form/formula.json#",t.placeholder="功能组件（公式）",t.settingsSchema={title:"公式配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:r([{label:"字段名",name:"name",type:"text",description:"公式计算结果会作用到此字段名对应的变量中。"},{type:"text",name:"value",label:"默认值"},{type:"text",name:"formula",label:"公式",description:"支持 JS 表达式，如： <code>data.var_a + 2</code>，即当表单项 <code>var_a</code> 变化的时候，会自动给当前表单项设置为 <code>var_a + 2</code> 的值。若设置为字符串，则需要加引号"},{type:"text",name:"condition",label:"作用条件",description:'支持如：<code>\\${xxx}</code>或者<code>data.xxx == "a"</code> 表达式来配置作用条件，当满足该作用条件时，会将计算结果设置到目标变量上。'},{name:"initSet",type:"switch",label:"是否初始应用",pipeIn:o.defaultValue(!0),description:"是否初始化的时候运行公式结果，并设置到目标变量上。",mode:"inline",className:"block"},{name:"autoSet",type:"switch",label:"是否自动应用",pipeIn:o.defaultValue(!0),mode:"inline",className:"block",description:"是否自动计算公式结果，有变化时自动设置到目标变量上。<br />关闭后，通过按钮也能触发运算。"}])},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("name",{name:"id"})]}])]},t}return l.__extends(t,e),t.prototype.renderRenderer=function(e){return this.renderPlaceholder(e)},t=l.__decorate([i.Editor("formula-control",{name:"公式表单项",description:"通过公式计算指定的变量值，并将其结果作用到指定的变量中",type:"formula",tags:["表单项","功能"],scaffold:s,previewSchema:{type:"tpl",tpl:"计算公式"}})],t)}(n.default);t.FormulaControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=l.__importDefault(a(10)),p=a(7),c=a(6),d=a(4),m={type:"array",label:"数组输入框",name:"array",items:{type:"text"}},u=function(e){function t(t){var a=e.call(this,t)||this;return a.tipName="Array",a.$schema="https://houtai.baidu.com/v2/schemas/form/array.json#",a.settingsSchema={title:"数组输入配置",controls:[r.getSchemaTplByName("tabs",[{title:"常规",controls:c([r.getSchemaTplByName("formItemName",{required:!0}),r.getSchemaTplByName("label"),r.getSchemaTplByName("description"),r.getSchemaTplByName("switchDefaultValue"),{type:"textarea",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"',pipeOut:r.valuePipeOut},{name:"items",value:{type:"text"},children:i.default.createElement(o.Button,{size:"sm",level:"danger",className:"m-b",block:!0,onClick:a.handleEditFormItem.bind(a)},"配置单项表单类型")},r.getSchemaTplByName("remark"),r.getSchemaTplByName("labelRemark"),{label:"是否可新增",type:"switch",name:"addable",mode:"inline",className:"w-full",pipeIn:r.defaultValue(!0)},{label:"新增按钮文字",name:"addButtonText",type:"text",visibleOn:"data.addable",pipeIn:r.defaultValue("新增")},{type:"textarea",name:"scaffold",label:"新增初始值",visibleOn:"this.addable !== false",pipeOut:r.valuePipeOut,pipeIn:r.defaultValue("")},{label:"是否可删除",type:"switch",name:"removable",mode:"inline",className:"w-full",pipeIn:r.defaultValue(!0)},r.getSchemaTplByName("api",{name:"deleteApi",label:"删除前的请求",visibleOn:"data.removable"}),{label:"删除确认提示",name:"deleteConfirmText",type:"text",visibleOn:"data.deleteApi",pipeIn:r.defaultValue("确认要删除")},{name:"draggable",label:"启用拖拽排序",type:"switch",mode:"inline",className:"w-full"},{label:"拖拽排序的提示文字",name:"draggableTip",type:"text",visibleOn:"data.draggable",pipeIn:r.defaultValue("可通过拖动每行中的【交换】按钮进行顺序调整")}])},{title:"外观",controls:[r.getSchemaTplByName("formItemMode"),r.getSchemaTplByName("horizontalMode"),r.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),r.getSchemaTplByName("formItemSize"),r.getSchemaTplByName("fontItemInline"),{name:"draggableTip",visibleOn:"data.draggable",type:"text",label:"可拖拽排序提示文字",pipeIn:r.defaultValue("可通过拖动每行中的【交换】按钮进行顺序调整")},{name:"addButtonText",type:"text",label:"新增按钮文字",pipeIn:r.defaultValue("新增")},r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),r.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),r.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("minLength"),r.getSchemaTplByName("maxLength"),r.getSchemaTplByName("required"),r.getSchemaTplByName("validateOnChange"),r.getSchemaTplByName("submitOnChange"),r.getSchemaTplByName("disabled"),r.getSchemaTplByName("visible")]}])]},a.toolbarBtns.push({icon:"fa fa-expand",tooltip:"配置单项表单类型",id:"edit-contents"}),a}return l.__extends(t,e),t.prototype.handleToolbarAction=function(t){return"edit-contents"===t?this.handleEditFormItem():e.prototype.handleToolbarAction.call(this,t)},t.prototype.handleEditFormItem=function(){var e=this.context.editor,t=this.props.$$id,a=d.JSONPipeOut(e.get(t).items);e.openDialog("配置单项表单类型",{type:"form",mode:"normal",data:{items:a},controls:[{name:"items",children:function(t){var a=t.value,n=t.onChange;return i.default.createElement(s.default,{previewClassName:"padder-md p-t-xs",pathPrefix:"/page/body/form/0/control",autoFocus:!0,value:l.__assign(l.__assign({},a),{$$replaceable:!0}),onChange:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{items:d.JSONPipeIn(a.items)})}),"xl")},t=l.__decorate([n.Editor("array-control",{name:"数组输入框",description:"多个表单项的集合，与<code>combo</code>的不同在于<code>array</code>只存储表单项的值而不是对象",type:"array",tags:["表单项"],scaffold:m,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:{type:"array",label:"数组输入框",name:"array",value:[""],items:{type:"text",name:"a"}}}}),l.__metadata("design:paramtypes",[Object])],t)}(p.FormItemEditor);t.ArrayControlEditor=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComboControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=l.__importDefault(a(10)),p=a(4),c=a(4),d=a(7),m=a(6),u={type:"combo",label:"组合输入",name:"combo",controls:[{type:"text",name:"text",placeholder:"文本"}]},h=function(e){function t(t,a){var n=e.call(this,t)||this;return n.tipName="Combo",n.$schema="https://houtai.baidu.com/v2/schemas/form/combo.json#",n.settingsSchema={title:"组合输入配置",controls:n.props.$$contentMode?[{children:i.default.createElement("div",null,i.default.createElement(o.Button,{level:"info",size:"sm",className:"m-b-sm",onClick:n.handleAdd.bind(n),block:!0},"新增表单项"))},{name:"controls",label:"各列 CSS 配置",hiddenOn:"this.multiLine",type:"combo",addable:!1,removable:!1,multiple:!0,controls:[{name:"columnClassName",placeholder:"CSS 类名",type:"text"}]}]:[r.getSchemaTplByName("tabs",[{title:"常规",controls:m([r.getSchemaTplByName("formItemName",{required:!0}),r.getSchemaTplByName("label"),r.getSchemaTplByName("description"),{name:"conditions",type:"button-group",size:"sm",mode:"inline",className:"block",options:[{label:"固定成员类型",value:"1"},{label:"多分支",value:"2"}],pipeIn:function(e){return e?"2":"1"},pipeOut:function(e){return 2==e?[{}]:void 0}},{visibleOn:"!this.conditions",children:i.default.createElement(o.Button,{size:"sm",level:"danger",className:"m-b",onClick:n.handleEditFormItem.bind(n),block:!0},"配置组合表单详情")},{name:"conditions",visibleOn:"this.conditions",type:"combo",label:"分支管理",multiple:!0,multiLine:!0,minLength:1,controls:[{label:"名称",name:"label",type:"text",required:!0},{label:"命中条件",name:"test",required:!0,type:"text",placeholder:'比如: this.type === "text"',description:"根据成员数据判断是否使用此分支"},{children:function(e){var t=e.index;return i.default.createElement(o.Button,{size:"sm",level:"danger",className:"m-b-sm",onClick:n.handleEditConditionFormItem.bind(n,t),block:!0},"配置组合表单详情")}},{type:"textarea",name:"scaffold",required:!0,label:"新增初始值",pipeOut:r.valuePipeOut,pipeIn:r.defaultValue({})}]},{name:"typeSwitchable",visibleOn:"this.conditions",label:"是否可切换类型",type:"switch",mode:"inline",className:"block",pipeIn:r.defaultValue(!0)},r.getSchemaTplByName("switchDefaultValue",{visibleOn:"!this.defaultCheckAll"}),{type:"textarea",name:"value",label:"默认值",pipeOut:r.valuePipeOut,visibleOn:'typeof this.value !== "undefined"'},r.getSchemaTplByName("remark"),r.getSchemaTplByName("labelRemark"),{label:"多行模式",name:"multiLine",type:"switch",mode:"inline",className:"w-full",value:!1,description:"即是否要换行"},r.getSchemaTplByName("multiple"),r.getSchemaTplByName("joinValues"),r.getSchemaTplByName("delimiter"),{type:"switch",name:"flat",mode:"inline",className:"w-full",label:"是否将值打平",visibleOn:"Array.isArray(data.controls) && data.controls.length === 1 && data.multiple",description:"默认数组内的数据结构为对象，如果只有一个表单项，可以配置将值打平，那么数组内放置的就是那个表单项的值"},{label:"是否可新增",type:"switch",name:"addable",mode:"inline",className:"w-full",visibleOn:"this.multiple",pipeIn:r.defaultValue(!0)},{type:"textarea",name:"scaffold",label:"新增初始值",visibleOn:"this.multiple && this.addable !== false",pipeOut:r.valuePipeOut,pipeIn:r.defaultValue({})},{label:"新增按钮文字",name:"addButtonText",type:"text",visibleOn:"data.addable",pipeIn:r.defaultValue("新增")},{label:"是否可删除",type:"switch",name:"removable",mode:"inline",className:"w-full",visibleOn:"this.multiple",pipeIn:r.defaultValue(!0)},r.getSchemaTplByName("api",{name:"deleteApi",label:"删除前的请求",hiddenOn:"!data.removable"}),{label:"删除确认提示",name:"deleteConfirmText",type:"text",visibleOn:"data.deleteApi",pipeIn:r.defaultValue("确认要删除")},{name:"draggable",label:"是否可拖拽排序",type:"switch",visibleOn:"this.multiple",mode:"inline",className:"w-full"},{label:"拖拽排序的提示文字",name:"draggableTip",type:"text",visibleOn:"data.draggable",pipeIn:r.defaultValue("可通过拖动每行中的【交换】按钮进行顺序调整")}])},{title:"外观",controls:[r.getSchemaTplByName("formItemMode"),r.getSchemaTplByName("horizontalMode"),r.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),r.getSchemaTplByName("formItemSize"),r.getSchemaTplByName("fontItemInline"),{name:"noBorder",label:"去掉边框",type:"switch",visibleOn:"this.multiLine",mode:"inline",className:"w-full"},r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),r.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),r.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),{name:"minLength",type:"number",label:"限制最小数量"},{name:"maxLength",type:"number",label:"限制最大数量"},r.getSchemaTplByName("required"),r.getSchemaTplByName("validateOnChange"),{label:"默认消息提示",type:"combo",name:"messages",multiLine:!0,description:"",controls:[{label:"有子表单项限制失败时提示",type:"text",name:"validateFailed"},{label:"最小长度验证失败时提示",type:"text",name:"minLengthValidateFailed"},{label:"最大长度验证失败时提示",type:"text",name:"maxLengthValidateFailed"}]},r.getSchemaTplByName("submitOnChange"),{name:"canAccessSuperData",label:"是否自动填充父级同名变量",type:"switch",pipeIn:r.defaultValue(!1),mode:"inline",className:"w-full"},{name:"strictMode",label:"严格模式",type:"switch",mode:"inline",className:"w-full",pipeIn:r.defaultValue(!0),description:"如果你希望环境变量的值实时透传到 Combo 中，请关闭此选项。"},r.getSchemaTplByName("disabled"),r.getSchemaTplByName("visible")]}])]},n.state=l.__assign({},n.modifyProps(t,a)),n.toolbarBtns.splice(-1,0,t.$$contentMode?{icon:"fa fa-plus",tooltip:"添加一列",id:"add"}:{icon:"fa fa-expand",tooltip:"配置组合表单",id:"edit-contents",test:function(e){return!e.conditions}}),n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;p.anyChanged(["controls","$$contentMode"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.handleToolbarAction=function(t){return"edit-contents"===t?this.handleEditFormItem():("add"===t?this.handleAdd():"paste"===t&&this.addChild("controls",this.props.clipboard),e.prototype.handleToolbarAction.call(this,t))},t.prototype.modifyProps=function(e,t){void 0===t&&(t=this.context);var a=e.controls,l=e.$$contentMode;t.editor;return!l&&Array.isArray(a)&&(a=a.map((function(e){return c.JSONPipeOut(e)}))),{controls:a}},t.prototype.handleAdd=function(){this.pickChild("control","controls",void 0,void 0,!0)},t.prototype.handleEditFormItem=function(){var e=this.context.editor,t=this.props,a=t.multiLine,l=t.$$id,n=c.JSONPipeOut(e.get(l).controls);e.openDialog("配置组合表单项",{type:"form",mode:"normal",data:{controls:n},controls:[{name:"controls",children:function(t){var l=t.value,n=t.onChange;return i.default.createElement(s.default,{autoFocus:!0,previewClassName:"padder-md p-t-xs",pathPrefix:"page/body/form/control",value:{type:"combo",multiLine:a,multiple:!1,formInited:!0,controls:l||[]},onChange:function(e){return n(e.controls)},$$contentMode:!0,$$codeEditable:!1,previewProps:{onChange:p.noop},schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(t){return e.update(l,{controls:p.JSONPipeIn(t.controls)})}),"xl")},t.prototype.handleEditConditionFormItem=function(e){var t=this.context.editor,a=this.props,n=a.multiLine,o=a.$$id,r=c.JSONPipeOut(t.get(o).conditions),d=(r=Array.isArray(r)?r:[])[e];t.openDialog("配置组合表单项",{type:"form",mode:"normal",data:{controls:d.controls},controls:[{name:"controls",children:function(e){var a=e.value,l=e.onChange;return i.default.createElement(s.default,{autoFocus:!0,previewClassName:"padder-md p-t-xs",pathPrefix:"page/body/form/control",value:{type:"combo",multiLine:n,multiple:!1,controls:a||[]},onChange:function(e){return l(e.controls)},$$contentMode:!0,$$codeEditable:!1,previewProps:{onChange:p.noop},schemaFilter:t.schemaFilter,theme:t.theme})}}]},(function(a){r.splice(e,1,l.__assign(l.__assign({},d),{controls:p.JSONPipeIn(a.controls)})),t.update(o,{conditions:r})}),"xl")},t.prototype.renderRenderer=function(t){return t.label||t.controls&&(!Array.isArray(t.controls)||t.controls.length)?e.prototype.renderRenderer.call(this,t):this.renderPlaceholder(t)},t=l.__decorate([n.Editor("combo-control",{name:"组合输入框",description:"多个表单项的组合，可配置是否增加和删除初始设定的模板",type:"combo",scaffold:u,tags:["表单项"],previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({multiple:!0,value:[{}]},u)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(d.FormItemEditor);t.ComboControlEditor=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PickerControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=a(7),p=l.__importDefault(a(10)),c=a(12),d=a(6),m=a(4),u=a(19),h={type:"picker",label:"列表选取",name:"picker",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},b=function(e){function t(t,a){var n=e.call(this,t)||this;return n.tipName="Picker",n.$schema="https://houtai.baidu.com/v2/schemas/form/picker.json#",n.settingsSchema={title:"列表选取配置",controls:[r.getSchemaTplByName("tabs",[{title:"常规",controls:d([r.getSchemaTplByName("formItemName",{required:!0}),r.getSchemaTplByName("label"),r.getSchemaTplByName("description"),{type:"switch",name:"embed",mode:"inline",className:"w-full",label:"开启内嵌模式"},r.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},r.getSchemaTplByName("remark")])},{title:"选项",controls:[r.getSchemaTplByName("options"),r.getSchemaTplByName("api",{name:"source",label:"获取选项接口"}),{children:i.default.createElement(o.Button,{size:"sm",level:"danger",className:"m-b",onClick:n.handleEditModal.bind(n),block:!0},"配置选框详情")},{label:"labelTpl",type:"textarea",name:"labelTpl",labelRemark:"已选定数据的展示样式",description:'支持使用 <code>\\${xxx}</code> 来获取变量，或者用 lodash.template 语法来写模板逻辑。<a target="_blank" href="/docs/renderers/Tpl">详情</a>'},{type:"button-group",name:"modalMode",label:"选框类型",value:"dialog",size:"xs",options:[{label:"弹框",value:"dialog"},{label:"抽出式弹框",value:"drawer"}]},r.getSchemaTplByName("multiple"),r.getSchemaTplByName("joinValues"),r.getSchemaTplByName("delimiter"),r.getSchemaTplByName("extractValue")]},{title:"外观",controls:[r.getSchemaTplByName("formItemMode"),r.getSchemaTplByName("horizontalMode"),r.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),r.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),r.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("required"),r.getSchemaTplByName("validateOnChange"),r.getSchemaTplByName("submitOnChange"),r.getSchemaTplByName("disabled"),r.getSchemaTplByName("visible")]}])]},n.toolbarBtns.push({icon:"fa fa-expand",tooltip:"配置选框详情",id:"edit-contents"}),n.state=l.__assign({},n.modifyProps(t,a)),n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;u.anyChanged(["pickerSchema"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.modifyProps=function(e,t){void 0===t&&(t=this.context);var a=this.props.pickerSchema;return{pickerSchema:m.JSONPipeOut(a)}},t.prototype.handleToolbarAction=function(t){return"edit-contents"===t?this.handleEditModal():e.prototype.handleToolbarAction.call(this,t)},t.prototype.handleEditModal=function(){var e=this,t=this.context.editor,a=this.props,n=a.$$id,o=a.valueField,r=a.multiple,s=this.ref,d=m.JSONPipeOut(t.get(n).pickerSchema);t.openDialog("配置选框详情",{type:"form",mode:"normal",data:{pickerSchema:d},controls:[{name:"pickerSchema",children:function(a){var n=a.value,c=a.onChange;return i.default.createElement(p.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({type:"crud",mode:"list"},n||{listItem:{title:"${label}"}}),{pickerMode:!0,multiple:r}),onChange:function(e){return c(l.__assign({},e))},previewProps:{value:s.props.formItem.selectedOptions,valueField:o,options:s.props.formItem.filteredOptions,multiple:r,pickerMode:!0,syncLocation:!1,api:e.props.source,bulkActions:r?n.bulkActions:[]},schemaFilter:t.schemaFilter,theme:t.theme})}}]},(function(e){return t.update(n,{pickerSchema:c(m.JSONPipeIn(e.pickerSchema),["pickMode","multiple","type"])})}),"xl")},t=l.__decorate([n.Editor("picker-control",{name:"列表选取",description:"通过<code>pickerSchema</code>配置可供选取的数据源进行选择需要的数据，支持多选",type:"picker",tags:["表单项"],scaffold:h,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({value:"A"},h)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(s.FormItemEditor);t.PickerControlEditor=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorControlEditor=void 0;var l=a(0),i=a(1),n=a(22),o=a(2),r=a(4),s=a(7),p=a(6),c={type:"editor",label:"编辑器",name:"editor"},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Editor",t.$schema="http://amis.baidu.com/v2/schemas/form/editor.json#",t.settingsSchema={title:"编辑器配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:p([o.getSchemaTplByName("formItemName",{required:!0}),o.getSchemaTplByName("label"),o.getSchemaTplByName("description"),{label:"语言",name:"language",type:"select",value:"javascript",searchable:!0,options:n.availableLanguages.concat()},o.getSchemaTplByName("switchDefaultValue"),{type:"textarea",name:"value",label:"默认值",pipeOut:o.valuePipeOut,visibleOn:'typeof this.value !== "undefined"'},o.getSchemaTplByName("remark"),o.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[o.getSchemaTplByName("formItemMode"),o.getSchemaTplByName("horizontalMode"),o.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),{name:"size",type:"button-group",size:"sm",pipeIn:o.defaultValue(""),className:"w-full",label:"控件尺寸",options:[{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"加大",value:"xl"},{label:"再加大",value:"xxl"}]},o.getSchemaTplByName("className"),o.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),o.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),o.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("required"),o.getSchemaTplByName("validateOnChange"),o.getSchemaTplByName("submitOnChange"),o.getSchemaTplByName("disabled"),o.getSchemaTplByName("visible")]}])]},t._settingsSchema={title:"编辑器配置",controls:l.__spreadArrays(r.omitControls(t.commonSettingsLeading,["size"]),[{type:"textarea",name:"value",label:"默认值",pipeOut:o.valuePipeOut},{label:"语言",name:"language",type:"select",value:"javascript",searchable:!0,options:n.availableLanguages.concat()},{name:"size",type:"button-group",size:"xs",pipeIn:o.defaultValue(""),options:[{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"加大",value:"xl"},{label:"加加大",value:"xxl"}]},o.getSchemaTplByName("required"),o.getSchemaTplByName("validations"),o.getSchemaTplByName("validateOnChange")],t.commonSettingsTrailing)},t}return l.__extends(t,e),t=l.__decorate([i.Editor("editor-control",{name:"代码编辑器",description:"多种类型的语言可供选择，支持的语言包括 bat/c/coffeescript/cpp/csharp/css/dockerfile/fsharp/go/handlebars/html/ini/java/javascript/json/less/lua/markdown/msdax/objective-c/php/plaintext/postiats/powershell/pug/python/r/razor/ruby/sb/scss/sol/sql/swift/typescript/vb/xml/yaml",type:"editor",tags:["表单项"],icon:"fa fa-cloud",scaffold:c,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},c)}})],t)}(s.FormItemEditor);t.EditorControlEditor=d,n.availableLanguages.forEach((function(e){}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiffEditorControlEditor=void 0;var l=a(0),i=a(1),n=a(22),o=a(2),r=a(7),s=a(6),p={type:"diff-editor",label:"diff编辑器",name:"diff"},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Diff Editor",t.$schema="https://houtai.baidu.com/v2/schemas/form/editor.json#",t.settingsSchema={title:"diff编辑器配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:s([o.getSchemaTplByName("formItemName",{required:!0}),o.getSchemaTplByName("label"),o.getSchemaTplByName("description"),{type:"textarea",name:"diffValue",label:"左侧值",pipeOut:o.valuePipeOut,description:"支持使用 <code>\\${xxx}</code> 来获取变量"},o.getSchemaTplByName("switchDefaultValue",{label:"设置右侧默认值"}),{type:"textarea",name:"value",label:"右侧默认值",pipeOut:o.valuePipeOut,visibleOn:'typeof this.value !== "undefined"'},{label:"语言",name:"language",type:"select",value:"javascript",searchable:!0,options:n.availableLanguages.concat()},o.getSchemaTplByName("remark"),o.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[o.getSchemaTplByName("formItemMode"),o.getSchemaTplByName("horizontalMode"),o.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),{name:"size",type:"button-group",size:"sm",pipeIn:o.defaultValue(""),className:"w-full",label:"控件尺寸",options:[{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"加大",value:"xl"},{label:"再加大",value:"xxl"}]},o.getSchemaTplByName("className"),o.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),o.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),o.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("required"),o.getSchemaTplByName("validateOnChange"),o.getSchemaTplByName("submitOnChange"),o.getSchemaTplByName("disabled"),o.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("diff-editor-control",{name:"代码diff编辑器",description:"左右两边的代码做对比，支持的语言包括 bat/c/coffeescript/cpp/csharp/css/dockerfile/fsharp/go/handlebars/html/ini/java/javascript/json/less/lua/markdown/msdax/objective-c/php/plaintext/postiats/powershell/pug/python/r/razor/ruby/sb/scss/sol/sql/swift/typescript/vb/xml/yaml",type:"diff-editor",tags:["表单项"],scaffold:p,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},p)}})],t)}(r.FormItemEditor);t.DiffEditorControlEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=a(4),p=a(7),c=l.__importDefault(a(10)),d=a(4),m=a(6),u={type:"table",label:"表格",name:"table",editable:!0,addable:!0,columns:[{name:"a",label:"列A"},{name:"b",label:"列B"}]},h=function(e){function t(t,a){var n=e.call(this,t)||this;return n.tipName="Table",n.$schema="https://houtai.baidu.com/v2/schemas/form/table.json#",n.handleAdd=function(){return n.pickChild("field","columns",void 0,["plain","tpl","image","progress","date","mapping","operation","status","list"])},n.settingsSchema={title:"表格配置",controls:n.props.$$contentMode?[{children:i.default.createElement("div",null,i.default.createElement(o.Button,{level:"info",size:"sm",className:"m-b-sm",onClick:n.handleAdd,block:!0},"新增一列"))},{children:i.default.createElement("div",null,i.default.createElement(o.Button,{level:"success",size:"sm",block:!0,onClick:n.handleColumnsQuickEdit.bind(n)},"快速编辑列信息"))}]:[r.getSchemaTplByName("tabs",[{title:"常规",controls:m([{children:i.default.createElement("div",{className:"m-b"},i.default.createElement(o.Button,{level:"success",size:"sm",block:!0,onClick:function(){return n.handleEditFormItem()}},"配置列信息"))},r.getSchemaTplByName("formItemName",{required:!0}),r.getSchemaTplByName("label"),r.getSchemaTplByName("description"),{label:"是否可新增",type:"switch",name:"addable",mode:"inline",className:"w-full"},{type:"text",name:"addBtnLabel",label:"增加按钮名称",visibleOn:"data.addable",pipeIn:r.defaultValue("")},{name:"addBtnIcon",label:"增加按钮图标",type:"icon-picker",visibleOn:"data.addable"},r.getSchemaTplByName("api",{name:"addApi",label:"新增时提交的 API",visibleOn:"data.addable"}),{label:"是否可删除",type:"switch",name:"removable",mode:"inline",className:"w-full"},{type:"text",name:"deleteBtnLabel",label:"删除按钮名称",visibleOn:"data.removable",pipeIn:r.defaultValue("")},{name:"deleteBtnIcon",label:"删除按钮图标",type:"icon-picker",visibleOn:"data.removable"},r.getSchemaTplByName("api",{name:"deleteApi",label:"删除时提交的 API",visibleOn:"data.removable"}),{label:"是否可修改",type:"switch",name:"editable",mode:"inline",className:"w-full"},{type:"text",name:"updateBtnLabel",label:"更新按钮名称",visibleOn:"data.editable",pipeIn:r.defaultValue("")},{name:"updateBtnIcon",label:"更新按钮图标",type:"icon-picker",visibleOn:"data.editable"},r.getSchemaTplByName("api",{name:"updateApi",label:"修改时提交的 API",visibleOn:"data.editable"}),{type:"text",name:"confirmBtnLabel",label:"确认编辑按钮名称",visibleOn:"data.editable",pipeIn:r.defaultValue("")},{name:"confirmBtnIcon",label:"确认编辑按钮图标",type:"icon-picker",visibleOn:"data.editable"},{type:"text",name:"cancelBtnLabel",label:"取消编辑按钮名称",visibleOn:"data.editable",pipeIn:r.defaultValue("")},{name:"cancelBtnIcon",label:"取消编辑按钮图标",type:"icon-picker",visibleOn:"data.editable"},{label:"是否可拖拽排序",type:"switch",name:"draggable",mode:"inline",className:"w-full"}])},{title:"外观",controls:[r.getSchemaTplByName("formItemMode"),r.getSchemaTplByName("horizontalMode"),r.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),r.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),r.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("required"),r.getSchemaTplByName("validateOnChange"),r.getSchemaTplByName("submitOnChange"),r.getSchemaTplByName("disabled"),r.getSchemaTplByName("visible")]}])]},n.state=l.__assign({},n.modifyProps(t,a)),n.toolbarBtns.splice(-1,0,{icon:"fa fa-paste",tooltip:"粘贴",id:"paste",test:function(e){var t=e.clipboard;return t&&n.acceptChild(t.type,"field")}},t.$$contentMode?{icon:"fa fa-plus",tooltip:"添加一列",id:"add"}:{icon:"fa fa-expand",tooltip:"配置列信息",id:"edit-contents"}),n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;s.anyChanged(["header","footer","columns"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.acceptChild=function(t,a,l){return!!~["plain","tpl","image","progress","date","mapping","operation","status","list"].indexOf(t)&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.handleToolbarAction=function(t){return"edit-contents"===t?this.handleEditFormItem():"add"===t?this.handleAdd():("paste"===t&&this.addChild("columns",this.props.clipboard),void e.prototype.handleToolbarAction.call(this,t))},t.prototype.modifyProps=function(e,t){var a=this;void 0===t&&(t=this.context);var l=e.header,i=e.footer,n=e.data,o=e.columns,r=e.clipboard,s=e.$$id,p=e.$$contentMode,c=t.editor.getActiveId();return p||(o=Array.isArray(o)?o.map((function(e){return d.JSONPipeOut(e)})):o),c!==s||p?{header:l,footer:i,data:n,columns:o}:{header:l=this.attachAddBtn(l,[r&&this.acceptChild(r.type,"header")?this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.addChild("header",r)}),"粘贴","fa fa-paste"):null,this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.pickChild("header")}),"在顶部新增内容")]),footer:i=this.attachAddBtn(i,[r&&this.acceptChild(r.type,"footer")?this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.addChild("footer",r)}),"粘贴","fa fa-paste"):null,this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.pickChild("footer")}),"在底部新增内容")]),data:n,columns:o}},t.prototype.handleEditFormItem=function(){var e=this.context.editor,t=this.props,a=t.$$id,l=t.value,n=d.JSONPipeOut(e.get(a).columns),o=[{}];Array.isArray(l)&&(o=[l[0]]);var r=function(e){"table"===e.props.$path&&(e.disabledContainers=["header","footer"])};e.openDialog("配置表格列信息",{type:"form",mode:"normal",data:{columns:n},controls:[{name:"columns",children:function(t){var a=t.value,l=t.onChange;return i.default.createElement(c.default,{previewClassName:"wrapper-xs",autoFocus:!0,value:{type:"table",affixHeader:!1,columns:a||[],columnsTogglable:!1},onChange:function(e){return l(e.columns)},onEditorMount:r,items:o,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(t){return e.update(a,{columns:d.JSONPipeIn(t.columns)})}),"xl")},t.prototype.handleColumnsQuickEdit=function(){var e=this.context.editor,t=this.props.$$id,a=d.JSONPipeOut(e.get(t).columns);e.openDialog("快速编辑列信息",{type:"form",mode:"normal",data:{columns:a},controls:[{name:"columns",type:"combo",multiple:!0,label:!1,addButtonText:"新增一列",draggable:!0,controls:[{type:"text",name:"label",placeholder:"标题"},{type:"text",name:"name",placeholder:"绑定字段名"},{type:"select",name:"type",placeholder:"类型",value:"text",options:[{value:"text",label:"纯文本"},{value:"tpl",label:"模板"},{value:"image",label:"图片"},{value:"date",label:"日期"},{value:"progress",label:"进度"},{value:"status",label:"状态"},{value:"mapping",label:"映射"},{value:"operation",label:"操作栏"}]}]}]},(function(a){return e.update(t,d.JSONPipeIn({columns:d.JSONPipeIn(a.columns)}))}))},t=l.__decorate([n.Editor("table-control",{name:"表格编辑框",description:"可以用来展现数据的,可以用来展示数组类型的数据，比如 <code>multiple</code> 的子 <code>form</code>",type:"table",tags:["表单项"],scaffold:u,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:{type:"table",value:[{color:"green",name:"绿色"}],name:"table",columns:[{label:"color",name:"color",quickEdit:{type:"color"}},{label:"说明文字",name:"name",quickEdit:{type:"text",mode:"inline"}}]}}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(p.FormItemEditor);t.TableControlEditor=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubFormControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(7),s=l.__importDefault(a(10)),p=a(12),c=a(17),d=a(6),m=a(4),u=["title","actions","name","size","closeOnEsc","showCloseButton","bodyClassName","body"],h={type:"form",name:"subform",label:"子表单",controls:[{type:"text",label:"文本",name:"text"}]},b=function(e){function t(t){var a=e.call(this,t)||this;return a.tipName="SubForm",a.$schema="https://houtai.baidu.com/v2/schemas/form/sub-form.json#",a.settingsSchema={title:"子表单项配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:d([o.getSchemaTplByName("formItemName"),o.getSchemaTplByName("label"),o.getSchemaTplByName("description"),o.getSchemaTplByName("placeholder"),o.getSchemaTplByName("remark"),o.getSchemaTplByName("multiple")])},{title:"外观",controls:[{name:"btnLabel",label:"按钮默认名称",value:"设置",type:"text"},o.getSchemaTplByName("formItemMode"),o.getSchemaTplByName("horizontalMode"),o.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),o.getSchemaTplByName("formItemSize"),o.getSchemaTplByName("fontItemInline"),o.getSchemaTplByName("className"),o.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),o.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),o.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[o.getSchemaTplByName("ref"),{name:"minLength",visibleOn:"data.multiple",label:"允许最少个数",type:"number"},{name:"maxLength",visibleOn:"data.multiple",label:"允许最多个数",type:"number"},{name:"labelField",type:"text",value:"label",label:"名称字段名",description:"当值中存在这个字段，则按钮名称将使用此字段的值来展示。"},o.getSchemaTplByName("required"),o.getSchemaTplByName("validations"),o.getSchemaTplByName("validationErrors"),o.getSchemaTplByName("validateOnChange"),o.getSchemaTplByName("submitOnChange"),o.getSchemaTplByName("disabled"),o.getSchemaTplByName("visible")]}])]},a.toolbarBtns.push({icon:"fa fa-expand",tooltip:"配置子表单详情",id:"edit-contents"}),a}return l.__extends(t,e),t.prototype.handleToolbarAction=function(t){return"edit-contents"===t?this.handleEditFormItem():e.prototype.handleToolbarAction.call(this,t)},t.prototype.handleEditFormItem=function(){var e=this.context.editor,t=this.props.$$id,a=m.JSONPipeOut(e.get(t).form);function n(e){"dialog"===e.props.$path?(e.tipName="子表单弹框",e.disabledContainers=["body","actions"]):"dialog/body/form"===e.props.$path&&(e.duplicatable=!1,e.removable=!1,e.draggable=!1)}e.openDialog("配置子表单详情",{type:"form",mode:"normal",data:{form:a},controls:[{name:"form",children:function(t){var a=t.value,o=t.onChange,r=p(a,u);return i.default.createElement(s.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},c(a,u)),{type:"dialog",body:[l.__assign(l.__assign({},r),{title:"",type:"form"})]}),onChange:function(e){return o(l.__assign(l.__assign({},e.body[0]),p(e,["body"])))},onEditorMount:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{form:m.JSONPipeIn(a.form)})}),"xl")},t=l.__decorate([n.Editor("form-control",{name:"子表单项",tags:["表单项"],description:"配置一个子<code>form</code>作为当前的表单项",type:"form",scaffold:h,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({},h)}}),l.__metadata("design:paramtypes",[Object])],t)}(r.FormItemEditor);t.SubFormControlEditor=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"matrix",name:"matrix",label:"矩阵开关",rowLabel:"行标题说明",columns:[{label:"列1"},{label:"列2"}],rows:[{label:"行1"},{label:"行2"}]},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Matrix",t.$schema="https://houtai.baidu.com/v2/schemas/form/matrix.json#",t.settingsSchema={title:"矩阵开关配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"选项",controls:[n.getSchemaTplByName("api",{name:"source",label:"获取矩阵数据接口"}),n.getSchemaTplByName("multiple",{value:!0}),{type:"button-group",name:"singleSelectMode",label:"单选模式",description:"行级、列级或者单个单元单选",size:"xs",mode:"inline",className:"w-full",visibleOn:"!this.multiple",options:[{label:"行级",value:"row"},{label:"列级",value:"column"},{label:"单个单元",value:"cell"}],pipeIn:n.defaultValue("column")}]},{title:"外观",controls:[{label:"列配置",name:"columns",type:"combo",multiple:!0,addButtonText:"添加一列",scaffold:{label:"列说明"},controls:[{type:"text",name:"label",placeholder:"列说明"}]},{name:"rowLabel",label:"行标题文字",type:"text"},{label:"行配置",name:"rows",type:"combo",multiple:!0,scaffold:{label:"行说明"},addButtonText:"添加一行",controls:[{type:"text",name:"label",placeholder:"行说明"}]},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("matrix-control",{name:"矩阵开关",description:"可配置行单选，列单选，以及全部选项只能单选或者全部选项多选",type:"matrix",tags:["表单项"],scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({value:[[{label:"列1",checked:!0},{label:"列1",checked:!1}],[{label:"列2",checked:!1},{label:"列2",checked:!1}]]},s)}})],t)}(o.FormItemEditor);t.MatrixControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RepeatControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"repeat",label:"周期",name:"repeat"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Repeat",t.$schema="https://houtai.baidu.com/v2/schemas/form/repeat.json#",t.settingsSchema={title:"周期输入配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),{name:"options",type:"select",label:"启用单位",options:"secondly,minutely,hourly,daily,weekdays,weekly,monthly,yearly".split(","),value:"hourly,daily,weekly,monthly",multiple:!0}])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("repeat-control",{name:"周期输入框",tags:["表单项"],description:"选择重复的频率，如每时、每天、每周等",type:"repeat",scaffold:s,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.RepeatControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubmitEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=a(6),s={type:"submit",label:"提交",level:"primary"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Submit",t.$schema="https://houtai.baidu.com/v2/schemas/form/submit.json#",t.isInDialog=/(?:\/|^)dialog\/.+$/.test(t.props.$path),t.settingsSchema={title:"提交按钮配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:r([{label:"名称",type:"text",name:"label"},{name:"confirmText",type:"textarea",label:"确认信息"},{type:"text",name:"tooltip",label:"提示信息",description:"鼠标停留时弹出该段文字"},{type:"button-group",name:"tooltipPlacement",visibleOn:"data.tooltip",label:"提示信息位置",size:"sm",mode:"inline",className:"w-full",value:"bottom",options:[{label:"上",value:"top"},{label:"右",value:"right"},{label:"下",value:"bottom"},{label:"左",value:"left"}]},o.getSchemaTplByName("api",{label:"保存API",description:"如果不配置将使用 <code>Form</code> 中 <code>API</code>"}),{type:"text",name:"reload",label:"指定刷新目标",description:"可以指定目标组件的 <code>name</code> 属性值，表示这个动作完成后刷新目标组件。"},t.isInDialog?{name:"close",type:"switch",mode:"inline",className:"w-full",pipeIn:o.defaultValue(!0),label:"是否关闭当前弹框"}:null])},{title:"外观",controls:r([o.getSchemaTplByName("icon"),o.getSchemaTplByName("size"),{label:"展示样式",type:"select",name:"level",clearable:!1,btnActiveLevel:"",options:[{label:"默认",value:"default",level:"default"},{label:"链接",value:"link",level:"link"},{label:"主色",value:"primary",level:"primary"},{label:"淡色",value:"light",level:"light"},{label:"深色",value:"dark",level:"dark"},{label:"提示",value:"info",level:"info"},{label:"成功",value:"success",level:"success"},{label:"警告",value:"warning",level:"warning"},{label:"严重",value:"danger",level:"danger"}]},o.getSchemaTplByName("className",{label:"按钮 CSS 类名",name:"inputClassName"})])},{title:"其他",controls:r([o.getSchemaTplByName("ref"),o.getSchemaTplByName("disabled"),o.getSchemaTplByName("visible")])}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("submit-control",{name:"提交按钮",description:"提交按钮，可配置是否确认提交",type:"submit",scaffold:s,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(n.default);t.SubmitEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputGroupEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=a(6),s={type:"reset",label:"重置"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Reset",t.$schema="https://houtai.baidu.com/v2/schemas/form/reset.json#",t.settingsSchema={title:"重置按钮配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:r([{label:"名称",type:"text",name:"label"},{name:"confirmText",type:"textarea",label:"确认信息"},{type:"text",name:"tooltip",label:"提示信息",description:"鼠标停留时弹出该段文字"},{type:"button-group",name:"tooltipPlacement",visibleOn:"data.tooltip",label:"提示信息位置",size:"sm",mode:"inline",className:"w-full",value:"bottom",options:[{label:"上",value:"top"},{label:"右",value:"right"},{label:"下",value:"bottom"},{label:"左",value:"left"}]}])},{title:"外观",controls:r([o.getSchemaTplByName("icon"),o.getSchemaTplByName("size"),{label:"展示样式",type:"select",name:"level",clearable:!1,btnActiveLevel:"",options:[{label:"默认",value:"default",level:"default"},{label:"链接",value:"link",level:"link"},{label:"主色",value:"primary",level:"primary"},{label:"淡色",value:"light",level:"light"},{label:"深色",value:"dark",level:"dark"},{label:"提示",value:"info",level:"info"},{label:"成功",value:"success",level:"success"},{label:"警告",value:"warning",level:"warning"},{label:"严重",value:"danger",level:"danger"}]},o.getSchemaTplByName("className",{label:"按钮 CSS 类名",name:"inputClassName"})])},{title:"其他",controls:r([o.getSchemaTplByName("ref"),o.getSchemaTplByName("disabled"),o.getSchemaTplByName("visible")])}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("reset-control",{name:"重置按钮",tags:["表单项"],description:"表单的重置按钮，支持重置前确认是否需要重置",type:"reset",scaffold:s,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(n.default);t.InputGroupEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(4),s=a(7),p=a(6),c={type:"button-group",name:"button-group",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},d=function(e){function t(t,a){var i=e.call(this,t)||this;i.tipName="按钮组",i.$schema="https://houtai.baidu.com/v2/schemas/form/button-group.json#",i.settingsSchema={title:"按钮组配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:p([o.getSchemaTplByName("formItemName",{required:!0}),o.getSchemaTplByName("label"),o.getSchemaTplByName("description"),o.getSchemaTplByName("switchDefaultValue"),{type:"select",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"',source:"${options}",clearable:!0},o.getSchemaTplByName("remark"),o.getSchemaTplByName("clearable",{label:"启用可清除"}),o.getSchemaTplByName("labelRemark")])},{title:"选项",controls:p([{label:"展现形式",name:"$$mode",type:"button-group",size:"xs",options:[{label:"按钮集合",value:"buttons"},{label:"表单选项",value:"options"}]},o.getSchemaTplByName("options",{visibleOn:'data.$$mode == "options"'}),o.getSchemaTplByName("api",{name:"source",label:"获取选项接口",visibleOn:'data.$$mode == "options"'}),o.getSchemaTplByName("multiple",{pipeIn:o.defaultValue(!1)}),o.getSchemaTplByName("joinValues"),o.getSchemaTplByName("delimiter"),o.getSchemaTplByName("extractValue")])},{title:"外观",controls:[o.getSchemaTplByName("formItemMode"),o.getSchemaTplByName("horizontalMode"),{type:"switch",name:"vertical",mode:"inline",className:"w-full",label:"选项垂直排列",pipeIn:o.defaultValue(!0)},o.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),o.getSchemaTplByName("size"),o.getSchemaTplByName("className"),o.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),o.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),o.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("required",{visibleOn:'data.$$mode == "options"'}),o.getSchemaTplByName("validateOnChange",{visibleOn:'data.$$mode == "options"'}),o.getSchemaTplByName("submitOnChange",{visibleOn:'data.$$mode == "options"'}),o.getSchemaTplByName("disabled"),o.getSchemaTplByName("visible")]}])]};var n=t.buttons?"buttons":"options";return i.state=l.__assign(l.__assign({},i.modifyProps(t,a,n)),{$$mode:n}),i}return l.__extends(t,e),t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.modifyProps=function(e,t,a){var l=this;void 0===t&&(t=this.context),void 0===a&&(a=this.state.$$mode);var n=e.buttons,o=e.$$id,r=e.clipboard,s=t.editor,p=s.getActiveId(),c=s.getDropId();if(p!==o&&c!==o||"options"===a)return{buttons:n};var d=c===o;return{buttons:n=this.attachAddBtn(n,d?i.default.createElement("span",null):[r&&this.acceptChild(r.type,"buttons")?this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),l.addChild("buttons",r)}),"粘贴按钮","fa fa-paste"):null,this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),l.pickChild("buttons","buttons",void 0,l.acceptChild)}),"新增按钮")])}},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),!(!~["button","submit","reset"].indexOf(t)||!e.prototype.acceptChild.call(this,t,a,l))},t.prototype.setSettingsValue=function(e){var t=this.props.$$id,a=this.context.editor,i=l.__assign(l.__assign({},a.get(t)),e),n=i.$$mode;return delete i.$$mode,delete i.formHorizontal,delete i.$$formMode,"options"===n?(delete i.buttons,this.state.$$mode!==n&&(i.options=[{label:"选项A",value:"a"}])):(delete i.options,this.state.$$mode!==n&&(i.buttons=[r.JSONPipeIn({type:"button",label:"按钮",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}})])),this.setState({$$mode:n}),a.update(t,i,!0,"form")},t.prototype.getSettingsValue=function(){var e=this.props.$$id,t=this.context.editor.get(e);return l.__assign(l.__assign({},t),{$$mode:this.state.$$mode,formHorizontal:this.props.formHorizontal,$$formMode:this.props.formMode})},t=l.__decorate([n.Editor("button-group-control",{name:"按钮组",description:"多个按钮的集合，也可以配置<code>options</code>组合成单选的形式",type:"button-group",tags:["表单项"],icon:"fa fa-stop-circle",scaffold:c,previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({},c)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(s.FormItemEditor);t.ButtonGroupControlEditor=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(4),s=a(6),p=l.__importDefault(a(9)),c=l.__importDefault(a(11)),d={type:"container",controls:[{placeholder:"文本1",type:"text",name:"a",mode:"inline"},{placeholder:"文本2",type:"text",name:"b",mode:"inline"}]},m=function(e){function t(t,a){var i=e.call(this,t,a)||this;i.tipName="Container",i.$schema="https://houtai.baidu.com/v2/schemas/form/container.json#",i.dropable=!0,i.settingsSchema={title:"容器配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:s([o.getSchemaTplByName("label"),o.getSchemaTplByName("description"),{label:"内容形式",name:"$$mode",type:"button-group",size:"xs",value:"form",description:"如果选择表单，内容默认为表单项，如果选择其他则可以放其他类型渲染器",options:[{label:"表单",value:"form"},{label:"其他",value:"other"}]},o.getSchemaTplByName("remark"),o.getSchemaTplByName("labelRemark")])},{title:"外观",controls:s([o.getSchemaTplByName("formItemMode"),o.getSchemaTplByName("horizontalMode"),o.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),o.getSchemaTplByName("className"),o.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),o.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),o.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})])},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])]},i.schemaCaches={},i.containers=["body","controls"],i.containerLabels=["内容区","子表单"];var n=t.controls?"form":"other";return i.disabledContainers="form"===n?["body"]:["controls"],i.state=l.__assign(l.__assign({},i.modifyProps(t,a)),{$$mode:n}),i}return l.__extends(t,e),t.prototype.renderRenderer=function(t){return t.body&&(!Array.isArray(t.body)||t.body.length)||t.controls&&(!Array.isArray(t.controls)||t.controls.length)||t.schemaApi?e.prototype.renderRenderer.call(this,t):this.renderPlaceholder(t)},t.prototype.setSettingsValue=function(e){var t=this.props.$$id,a=this.context.editor,i=l.__assign(l.__assign({},a.get(t)),e),n=i.$$mode;return delete i.$$mode,delete i.$$formMode,delete i.formHorizontal,"form"===n?(this.schemaCaches.other=i.body,delete i.body,this.state.$$mode!==n&&(i.controls=this.schemaCaches[n]||[{type:"text",label:"文本",name:"var1"}])):(this.schemaCaches.form=i.controls,delete i.controls,this.state.$$mode!==n&&(i.body=this.schemaCaches[n]||[{type:"tpl",tpl:"内容",inline:!1}])),this.disabledContainers="form"===n?["body"]:["controls"],this.mounted&&this.setState({$$mode:n}),a.update(t,r.JSONPipeIn(i),!0,"form")},t.prototype.getSettingsValue=function(){var e=this.props.$$id,t=this.context.editor.get(e);return l.__assign(l.__assign({},t),{formHorizontal:this.props.formHorizontal,$$mode:this.state.$$mode||"form",$$formMode:this.props.formMode})},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),a="controls"===a?"control":a,e.prototype.acceptChild.call(this,t,a,l)},t.prototype.renderChild=function(e,t,a){return(0,this.props.render)(e,t,l.__assign(l.__assign({},a),{$editor:this,regionRef:this.regionRef}))},t.prototype.pickChild=function(t){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return"controls"===t?e.prototype.pickChild.call(this,"control","controls"):e.prototype.pickChild.apply(this,l.__spreadArrays([t],a))},t=l.__decorate([n.Editor("container-control",{name:"容器",tags:["表单项"],icon:"fa fa-tablet",description:"可渲染多种类型，如<code>HTML</code>片段，指定的<code>AMis</code>渲染器或者数组包含的多个渲染器",type:"container",scaffold:d,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},d)}},{renderBody:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a)return this.super.apply(this,e);var l=this.props.controls,n=this.super.apply(this,e),o=this.props.regionRef;return i.default.createElement(c.default,{key:l?"controls":"body",ref:function(e){return o(l?"controls":"body",e)},name:l?"controls":"body",label:l?"子表单":"内容",hostId:a.props.$$id},n)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(p.default);t.ContainerEditor=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(8)),r={type:"control",control:{type:"text",label:"文本",name:"var1"}},s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Control",t.settingsSchema={title:"表单项配置",controls:[{type:"plain",text:"暂无任何配置",className:"text-muted"}]},t}return l.__extends(t,e),t.prototype.renderRenderer=function(t){return i.default.createElement("div",{key:t.key,"data-editor-id":this.props.$$id},e.prototype.renderRenderer.call(this,t))},t=l.__decorate([n.Editor("control",{name:"表单项",description:"表单项",type:"control",scaffold:r,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},r)}})],t)}(o.default);t.FormControlEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldSetControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=a(4),p=a(6),c=l.__importDefault(a(11)),d=l.__importDefault(a(9)),m={type:"fieldset",title:"标题",controls:[{type:"text",label:"文本",name:"text"}]},u=function(e){function t(t,a){var n=e.call(this,t,a)||this;n.tipName="Fieldset",n.containers=["body","controls"],n.containerLabels=["内容区","子表单区域"],n.$schema="https://houtai.baidu.com/v2/schemas/form/fieldSet.json#",n.schemaCaches={},n.settingsSchema={title:"FieldSet框配置",controls:[r.getSchemaTplByName("tabs",[{title:"常规",controls:p([{children:i.default.createElement("div",null,i.default.createElement(o.Button,{level:"info",size:"sm",className:"m-b-sm",onClick:n.handleAdd.bind(n),block:!0},"新增一列"))},{label:"标题",name:"title",type:"text"},{label:"内容形式",name:"$$mode",type:"button-group",size:"xs",value:"form",description:"如果选择表单，内容默认为表单项，如果选择其他则可以放其他类型渲染器",options:[{label:"表单",value:"form"},{label:"其他",value:"other"}]},{name:"collapsable",label:"是否可折叠",type:"switch",mode:"inline",className:"w-full",pipeIn:r.defaultValue(!1)},{name:"collapsed",label:"默认是否折叠",type:"switch",mode:"inline",visibleOn:"this.collapsable",className:"w-full"}])},{title:"外观",controls:[{name:"mode",label:"展示模式",type:"button-group",size:"sm",className:"w-full",visibleOn:'data.$$mode == "form"',clearable:!0,pipeIn:r.defaultValue(""),options:[{label:"继承",value:""},{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},r.getSchemaTplByName("horizontal",{visibleOn:'(data.mode || data.$$formMode) == "horizontal" && data.$$mode == "form"'}),{name:"className",type:"button-group",clearable:!0,size:"sm",label:"控件尺寸",className:"w-full",options:[{value:"Collapse--xs",label:"极小"},{value:"Collapse--sm",label:"小"},{value:"Collapse--base",label:"正常"},{value:"Collapse--md",label:"大"},{value:"Collapse--lg",label:"超大"}]},r.getSchemaTplByName("className",{autoComplete:!1}),r.getSchemaTplByName("className",{name:"headingClassName",label:"标题 CSS 类名"}),r.getSchemaTplByName("className",{name:"bodyClassName",label:"内容区域 CSS 类名"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("visible")]}])]},n.dropable=!0;var s=t.controls?"form":"other";return n.disabledContainers="form"===s?["body"]:["controls"],n.state=l.__assign(l.__assign({},n.modifyProps(t,a)),{$$mode:s}),n}return l.__extends(t,e),t.prototype.handleAdd=function(){"form"===this.state.$$mode?this.pickChild("controls"):this.pickChild("body")},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),a="controls"===a?"control":a,e.prototype.acceptChild.call(this,t,a,l)},t.prototype.setSettingsValue=function(e){var t=this.props.$$id,a=this.context.editor,i=l.__assign(l.__assign({},a.get(t)),e),n=i.$$mode;return delete i.$$mode,delete i.$$formMode,"form"===n?(this.schemaCaches.other=i.body,delete i.body,this.state.$$mode!==n&&(i.controls=this.schemaCaches[n]||[{type:"text",label:"文本",name:"var1"}])):(this.schemaCaches.form=i.controls,delete i.controls,this.state.$$mode!==n&&(i.body=this.schemaCaches[n]||[{type:"tpl",tpl:"内容",inline:!1}])),this.disabledContainers="form"===n?["body"]:["controls"],this.mounted&&this.setState({$$mode:n}),a.update(t,s.JSONPipeIn(i),!0,"form")},t.prototype.getSettingsValue=function(){var e=this.props.$$id,t=this.context.editor.get(e);return l.__assign(l.__assign({},t),{$$mode:this.state.$$mode||"form",$$formMode:this.props.formMode})},t.prototype.pickChild=function(t){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return"actions"===t?e.prototype.pickChild.call(this,"action","actions",void 0,["button","reset","submit","button-group","dropdown-button"],!0):"controls"===t?e.prototype.pickChild.call(this,"control","controls"):e.prototype.pickChild.apply(this,l.__spreadArrays([t],a))},t.prototype.renderChild=function(e,t,a){return(0,this.props.render)(e,t,l.__assign(l.__assign({},a),{$editor:this,regionRef:this.regionRef}))},t=l.__decorate([n.Editor("fieldset",{name:"表单集合",tags:["表单项"],description:"多个表单项的组合，可配置是否折叠",type:"fieldset",scaffold:m,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},m)}},{renderBody:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a)return this.super.apply(this,e);var l=this.props.controls,n=this.super.apply(this,e),o=this.props.regionRef;return l?i.default.createElement(c.default,{ref:function(e){return o("controls",e)},name:"controls",label:"子表单区域",hostId:a.props.$$id},n):i.default.createElement(c.default,{ref:function(e){return o("body",e)},name:"body",label:"内容区",hostId:a.props.$$id},n)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(d.default);t.FieldSetControlEditor=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabsControlEditor=void 0;var l=a(0),i=a(1),n=a(3),o=a(89),r=a(31),s={type:"tabs",tabs:[{title:"选项卡1",controls:[{label:"文本",name:"text1",type:"text"}]},{title:"选项卡2",controls:[{label:"文本",name:"text1",type:"text"}]}]},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t=l.__decorate([i.Editor("tabs-control",{name:"选项卡(Tabs)",description:"选项卡(Tabs)",tags:["表单项"],type:"tabs",scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}},{renderTabs:function(){var e=this,t=this.super(),a=t.props.children,i=this.props.tabs;return this.props.$editor&&Array.isArray(a)&&Array.isArray(i)&&(a=a.map((function(t,a){return t?n.cloneElement(t,{children:n.createElement(o.TabEditor,l.__assign({},i[a],{$path:e.props.$path,$$replaceable:!1,eventKey:t.props.eventKey,index:a,key:"outter-"+a}),t.props.children)}):null})),t=n.cloneElement(t,{children:a})),t}})],t)}(r.TabsEditor);t.TabsControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabEditor=void 0;var l=a(0),i=a(3),n=a(2),o=l.__importDefault(a(11)),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.containers=["body","controls"],t.containerLabels=["内容区","子表单"],t.settingsSchema={title:"选项卡配置",controls:n.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"title",type:"text",placeholder:"名称",required:!0},n.getSchemaTplByName("icon"),{label:"Hash",name:"hash",type:"text",description:"设置后，会同步更新地址栏的 Hash。"},{label:"内容形式",name:"$$mode",type:"button-group",size:"sm",pipeIn:n.defaultValue("form"),description:"如果选择表单，内容默认为表单项，如果选择其他则可以放其他类型渲染器",options:[{label:"表单",value:"form"},{label:"其他",value:"other"}],onChange:function(e,t,a,l){e!==t&&("form"===e?(l.deleteValueByName("body"),l.setValueByName("controls",[{type:"text",label:"文本",name:"var1"}])):(l.deleteValueByName("controls"),l.setValueByName("body",[{type:"tpl",tpl:"内容",inline:!1}])))}}]},{title:"外观",controls:[n.getSchemaTplByName("className")]},{title:"其他",controls:[{type:"switch",name:"unmountOnExit",label:"隐藏时是否销毁",mode:"inline",className:"block",description:"设置以后该tab每次都会重新渲染，对于crud的重新拉取很有用"},{type:"switch",name:"unmountOnExit",label:"隐藏时是否销毁",mode:"inline",className:"block",description:"设置以后所有子tab每次切换时都会重新渲染"},n.getSchemaTplByName("visible"),n.getSchemaTplByName("disabled")]}])},t}return l.__extends(t,e),t.prototype.renderRenderer=function(e){var t=this,a=e.controls;return i.createElement("div",{key:e.key,ref:this.childRef,"data-editor-id":this.props.$$id},i.createElement(o.default,{key:a?"controls":"body",name:a?"controls":"body",ref:function(e){return t.regionRef(a?"controls":"body",e)},label:a?"子表单":"内容区",hostId:this.props.$$id},e.children))},t.prototype.pickChild=function(t){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return"controls"===t?e.prototype.pickChild.call(this,"control","controls"):e.prototype.pickChild.apply(this,l.__spreadArrays([t],a))},t}(a(30).TabEditor);t.TabEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputGroupEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=a(4),p=a(12),c=a(6),d=l.__importDefault(a(9)),m=l.__importDefault(a(11)),u={type:"group",controls:[{type:"text",label:"文本",name:"var1"},{type:"text",label:"文本",name:"var2"}]},h=function(e){function t(t,a){var l=e.call(this,t,a)||this;return l.tipName="Group",l.handleAdd=function(){return l.pickChild("controls")},l.$schema="https://houtai.baidu.com/v2/schemas/form/group.json#",l.dropable=!0,l.containers=["controls"],l.containerLabels=["子表单"],l.settingsSchema={title:"表单组配置",controls:[r.getSchemaTplByName("tabs",[{title:"常规",controls:c([{label:"Label",name:"label",type:"text"},r.getSchemaTplByName("description",{visible:"this.label"}),{children:i.default.createElement(o.Button,{className:"m-b",onClick:l.handleAdd,level:"danger",tooltip:"插入一个新的元素",size:"sm",block:!0},"新增元素")},r.getSchemaTplByName("remark"),r.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[r.getSchemaTplByName("formItemMode"),r.getSchemaTplByName("horizontalMode"),r.getSchemaTplByName("horizontal",{visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal',pipeIn:function(e,t){return{leftRate:(e=e||t.formHorizontal&&s.makeHorizontalDeeper(t.formHorizontal,t.controls.length))&&"number"==typeof e.left?e.left:e&&/\bcol\-(?:xs|sm|md|lg)\-(\d+)\b/.test(e.left)?parseInt(RegExp.$1,10):2,leftFixed:e&&e.leftFixed||""}}}),{name:"controls",type:"combo",label:"列宽度配置",multiple:!0,removable:!1,addable:!1,multiLine:!0,visibleOn:'data.$$formMode != "inline"',controls:[{type:"switch",name:"columnRatio",label:"自动分配",disabledOn:'this.mode === "inline"',mode:"inline",className:"block",pipeIn:function(e,t){return"number"!=typeof e&&(!t.columnClassName||!/\bcol\-(?:xs|sm|md|lg)\-(\d+)\b/.test(t.columnClassName))},pipeOut:function(e){return e?void 0:4},onChange:function(e,t,a,l){return!e&&l.getValueByName("columnClassName")&&l.setValueByName("columnClassName",l.getValueByName("columnClassName").replace(/\bcol\-(?:xs|sm|md|lg)\-(\d+)\b/g,""))},columnClassName:"w-xs v-middle"},{label:"宽度占比",type:"range",name:"columnRatio",visibleOn:'typeof this.columnRatio !== "undefined" || this.columnClassName && /\\bcol\\-(?:xs|sm|md|lg)\\-(\\d+)\\b/.test(this.columnClassName)',pipeIn:function(e,t){return"number"==typeof e?e:t.columnClassName&&/\bcol\-(?:xs|sm|md|lg)\-(\d+)\b/.test(t.columnClassName)&&parseInt(RegExp.$1,10)||2},min:1,max:12,step:1}]},{type:"button-group",name:"gap",label:"间隔大小",pipeIn:r.defaultValue(""),size:"xs",options:[{value:"xs",label:"极小"},{value:"sm",label:"小"},{value:"",label:"正常"}]},r.getSchemaTplByName("className"),{name:"controls",type:"combo",label:"列 CSS 类名配置",multiple:!0,removable:!1,addable:!1,controls:[{type:"text",name:"columnClassName"}]}]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("visible")]}])]},l.toolbarBtns.splice(-1,0,{icon:"fa fa-plus",tooltip:"添加",id:"add"}),l}return l.__extends(t,e),t.prototype.handleToolbarAction=function(t){if("add"===t)return this.handleAdd();"paste"===t&&this.addChild("controls",this.props.clipboard),e.prototype.handleToolbarAction.call(this,t)},t.prototype.renderRenderer=function(t){return t.controls&&Array.isArray(t.controls)&&t.controls.length?e.prototype.renderRenderer.call(this,t):this.renderPlaceholder(t)},t.prototype.getSettingsValue=function(){var t=e.prototype.getSettingsValue.call(this);return l.__assign(l.__assign({},t),{formHorizontal:this.props.formHorizontal,$$formMode:t.mode||this.props.formMode})},t.prototype.setSettingsValue=function(t){return e.prototype.setSettingsValue.call(this,p(t,["formHorizontal","$$formMode"]))},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),a="controls"===a?"control":a,e.prototype.acceptChild.call(this,t,a,l)},t.prototype.pickChild=function(t){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return"actions"===t?e.prototype.pickChild.call(this,"action","actions",void 0,["button","reset","submit","button-group","dropdown-button"],!0):"controls"===t?e.prototype.pickChild.call(this,"control","controls"):e.prototype.pickChild.apply(this,l.__spreadArrays([t],a))},t=l.__decorate([n.Editor("group-control",{name:"一行多个",tags:["表单项"],description:"水平展示多个表单项",type:"group",scaffold:u,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},u)}},{renderInput:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a||!this.dropable)return this.super.apply(this,e);var l=this.props.regionRef;return i.default.createElement(m.default,{ref:function(e){return l("controls",e)},name:"controls",label:"子表单",hostId:a.props.$$id},this.super.apply(this,e))}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(d.default);t.InputGroupEditor=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PanelControlEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(4),s=a(5),p=l.__importDefault(a(11)),c=l.__importDefault(a(9)),d={type:"panel",title:"标题",body:"内容"},m=function(e){function t(t,a){var n=e.call(this,t,a)||this;n.tipName="Panel",n.schemaCaches={},n.$schema="https://houtai.baidu.com/v2/schemas/form/panel.json#",n.dropable=!0,n.isFormItem=/\/control\/\w+$/.test(n.props.$path),n.containers=["body","controls","actions"],n.containerLabels=["内容区","子表单","按钮栏"],n.settingsSchema={title:"面板配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{label:"标题",name:"title",type:"text"},n.isFormItem?{label:"内容形式",name:"$$mode",type:"button-group",size:"sm",pipeIn:o.defaultValue("form"),description:"如果选择表单，内容默认为表单项，如果选择其他则可以放其他类型渲染器",options:[{label:"表单",value:"form"},{label:"其他",value:"other"}]}:null,{children:i.default.createElement(s.Button,{size:"sm",level:"info",className:"m-b",onClick:function(){return"form"===n.state.$$mode?n.pickChild("controls","controls"):n.pickChild("body")},block:!0},"内容区新增内容")}]},{title:"外观",controls:[{name:"affixFooter",label:"固定底部",type:"switch",value:!1,mode:"inline",className:"block"},{name:"mode",label:"表单展示模式",type:"button-group",size:"xs",visibleOn:'data.$$mode == "form"',clearable:!0,pipeIn:o.defaultValue(""),options:[{label:"继承",value:""},{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},o.getSchemaTplByName("horizontal",{visibleOn:'(data.mode || data.$$formMode) == "horizontal" && data.$$mode == "form"'}),{name:"className",label:"样式",type:"button-group",size:"sm",pipeIn:function(e){return"string"==typeof e&&/(?:^|\s)(Panel\-\-(\w+))(?:$|\s)/.test(e)?RegExp.$1:""},pipeOut:function(e,t){return t?(t.replace(/(?:^|\s)(Panel\-\-(\w+))(?=($|\s))/g,"")+" "+e).replace(/\s+/g," ").trim():e},options:[{label:"默认",value:"Panel--default"},{label:"主色",value:"Panel--primary"},{label:"提示",value:"Panel--info"},{label:"成功",value:"Panel--success"},{label:"警告",value:"Panel--warning"},{label:"危险",value:"Panel--danger"}]},o.getSchemaTplByName("className",{pipeIn:o.defaultValue("Panel--default")}),o.getSchemaTplByName("className",{name:"headerClassName",label:"头部区域 CSS 类名"}),o.getSchemaTplByName("className",{name:"bodyClassName",label:"内容区域 CSS 类名"}),o.getSchemaTplByName("className",{name:"footerClassName",label:"底部区域 CSS 类名"}),o.getSchemaTplByName("className",{name:"actionsClassName",label:"按钮外层 CSS 类名"})]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])};var r=t.controls?"form":"other";return n.disabledContainers="form"===r?["body"]:["controls"],n.state=l.__assign(l.__assign({},n.modifyProps(t,a)),{$$mode:r}),n}return l.__extends(t,e),t.prototype.setSettingsValue=function(e){var t=this.props.$$id,a=this.context.editor,i=l.__assign(l.__assign({},a.get(t)),e),n=i.$$mode;return delete i.$$mode,delete i.$$formMode,"form"===n?(this.schemaCaches.other=i.body,delete i.body,this.state.$$mode!==n&&(i.controls=this.schemaCaches[n]||[{type:"text",label:"文本",name:"var1"}])):(this.schemaCaches.form=i.controls,delete i.controls,this.state.$$mode!==n&&(i.body=this.schemaCaches[n]||[{type:"tpl",tpl:"内容",inline:!1}])),this.disabledContainers="form"===n?["body"]:["controls"],this.mounted&&this.setState({$$mode:n}),a.update(t,r.JSONPipeIn(i),!0,"form")},t.prototype.getSettingsValue=function(){var e=this.props.$$id,t=this.context.editor.get(e);return l.__assign(l.__assign({},t),{$$mode:this.state.$$mode||"form",$$formMode:this.props.formMode})},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),"actions"===(a="controls"===a?"control":a)?!!~["submit","button","reset"].indexOf(t):e.prototype.acceptChild.call(this,t,a,l)},t.prototype.renderChild=function(e,t,a){return(0,this.props.render)(e,t,l.__assign(l.__assign({},a),{$editor:this,regionRef:this.regionRef}))},t.prototype.pickChild=function(t){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return"actions"===t?e.prototype.pickChild.call(this,"action","actions",void 0,["button","reset","submit","button-group","dropdown-button"],!0):"controls"===t?e.prototype.pickChild.call(this,"control","controls"):e.prototype.pickChild.apply(this,l.__spreadArrays([t],a))},t=l.__decorate([n.Editor("panel-control",{name:"面板(Panel)",description:"集合多个表单项进行展示，可以配置标题和底部",type:"panel",tags:["表单项"],scaffold:d,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},d)}},{renderActions:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a)return this.super.apply(this,e);var l=this.props.regionRef;return i.default.createElement(p.default,{ref:function(e){return l("actions",e)},name:"actions",label:"按钮集合",hostId:a.props.$$id},this.super.apply(this,e))},renderBody:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a||this.props.children)return this.super.apply(this,e);var l=this.props.controls,n=this.super.apply(this,e),o=this.props.regionRef;return i.default.createElement(p.default,{key:l?"controls":"body",ref:function(e){return o(l?"controls":"body",e)},name:l?"controls":"body",label:l?"子表单":"内容",hostId:a.props.$$id},n)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(c.default);t.PanelControlEditor=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HBoxControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(4),r=a(4),s=a(6),p=l.__importDefault(a(9)),c={type:"hbox",label:"HBox",columns:[{controls:[{label:"文本",name:"var1",type:"text"}]},{controls:[{label:"文本2",name:"var2",type:"text"}]}]},d=function(e){function t(t,a){var i=e.call(this,t,a)||this;i.tipName="HBox",i.$schema="https://houtai.baidu.com/v2/schemas/form/hbox.json#",i.schemaCaches={},i.settingsSchema={title:"HBox配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),{label:"内容形式",name:"$$mode",type:"button-group",size:"xs",mode:"inline",value:"form",description:"如果选择表单，内容默认为表单项，如果选择其他则可以放其他类型渲染器",options:[{label:"表单",value:"form"},{label:"其他",value:"other"}]},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[{type:"combo",name:"columns",label:"列设置",multiple:!0,multiLine:!0,minLength:1,draggable:!0,addButtonText:"新增一列",scaffold:{controls:[{label:"文本",name:"var",type:"text"}]},strictMode:!1,controls:[{name:"mode",label:"展示模式",type:"button-group",size:"xs",pipeIn:n.defaultValue("normal",!1),hiddenOn:'this.$$mode === "other"',options:[{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},n.getSchemaTplByName("horizontal",{visibleOn:'this.mode == "horizontal"'}),n.getSchemaTplByName("className",{name:"columnClassName",label:"列 CSS 类名",description:"可配置  <code>w 、w-xxs、w-xs、w-sm、w-md、w-lg、w-xl、w-xxl</code> 来固定列的宽度。"})]},n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),{type:"button-group",name:"gap",label:"间隔大小",pipeIn:n.defaultValue(""),size:"xs",options:[{value:"xs",label:"极小"},{value:"sm",label:"小"},{value:"",label:"正常"}]},n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("visible")]}])]};var o=Array.isArray(t.columns)&&t.columns[0]&&t.columns[0].body?"other":"form";return i.state=l.__assign(l.__assign({},i.modifyProps(t,a,o)),{$$mode:o}),i}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;o.anyChanged(["columns"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.renderRenderer=function(t){return e.prototype.renderRenderer.call(this,l.__assign(l.__assign({},t),{unmountOnExit:!0}))},t.prototype.modifyProps=function(e,t,a){var i=this;void 0===t&&(t=this.context),void 0===a&&(a=this.state.$$mode);var n=e.columns,o=e.clipboard,s=e.$$id;return t.editor.getActiveId()!==s?{columns:n}:{columns:n=n.map((function(e,t){var n=e.controls,p=e.body,c={};return"form"===a?c.controls=i.attachAddBtn(n,[o&&i.acceptChild(o.type,"control")?i.renderButton((function(e){e.stopPropagation(),e.preventDefault();var a=i.context.editor,l=a.get(s).columns.concat(),n=l[t].controls;(n=Array.isArray(n)?n.concat():n?[n]:[]).push(r.JSONPipeIn(o)),l[t].controls=n,a.update(s,{columns:l})}),"粘贴","fa fa-paste"):null,i.renderButton((function(e){e.stopPropagation(),e.preventDefault(),i.pickChild("control","columns",(function(e){var a=i.context.editor,l=a.get(s).columns.concat(),n=l[t].controls;(n=Array.isArray(n)?n.concat():n?[n]:[]).push(r.JSONPipeIn(e)),l[t].controls=n,a.update(s,{columns:l})}))}),"在内容区新增内容")]):c.body=i.attachAddBtn(p,[o&&i.acceptChild(o.type,"body")?i.renderButton((function(e){e.stopPropagation(),e.preventDefault();var a=i.context.editor,l=a.get(s).columns.concat(),n=l[t].body;(n=Array.isArray(n)?n.concat():n?[n]:[]).push(r.JSONPipeIn(o)),l[t].body=n,a.update(s,{columns:l})}),"粘贴","fa fa-paste"):null,i.renderButton((function(e){e.stopPropagation(),e.preventDefault(),i.pickChild("body","body",(function(e){var a=i.context.editor,l=a.get(s).columns.concat(),n=l[t].body;(n=Array.isArray(n)?n.concat():n?[n]:[]).push(r.JSONPipeIn(e)),l[t].body=n,a.update(s,{columns:l})}))}),"在内容区新增内容")]),l.__assign(l.__assign({},e),c)}))}},t.prototype.setSettingsValue=function(e){var t=this,a=this.props.$$id,i=this.context.editor,n=l.__assign(l.__assign({},i.get(a)),e),o=n.$$mode;return delete n.$$mode,delete n.$$formMode,delete n.formHorizontal,Array.isArray(n.columns)&&(n.columns=n.columns.map((function(e,a){return e=l.__assign({},e),"form"===o?(t.schemaCaches["other_"+a]=e.body,delete e.body,t.state.$$mode!==o&&(e.controls=t.schemaCaches[o+"_"+a]||[{type:"text",label:"文本",name:"var1"}])):(t.schemaCaches["form_"+a]=e.controls,delete e.controls,t.state.$$mode!==o&&(e.body=t.schemaCaches[o+"_"+a]||[{type:"tpl",tpl:"内容",inline:!1}])),e}))),this.mounted&&this.setState({$$mode:o}),i.update(a,r.JSONPipeIn(n),!0,"form")},t.prototype.getSettingsValue=function(){var e=this.props.$$id,t=this.context.editor.get(e);return l.__assign(l.__assign({},t),{$$mode:this.state.$$mode||"form",$$formMode:this.props.formMode,formHorizontal:this.props.formHorizontal})},t=l.__decorate([i.Editor("hbox-control",{name:"HBox",tags:["表单项"],description:"HBox布局，实现表单项左右排列",type:"hbox",scaffold:c,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},c)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(p.default);t.HBoxControlEditor=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(4),r=a(4),s=a(6),p=l.__importDefault(a(9)),c={type:"grid",label:"Grid",columns:[{controls:[{label:"文本",name:"var1",type:"text"}]},{controls:[{label:"文本2",name:"var2",type:"text"}]}]},d=function(e){function t(t,a){var i=e.call(this,t,a)||this;i.tipName="Grid",i.$schema="https://houtai.baidu.com/v2/schemas/form/grid.json#",i.schemaCaches={},i.settingsSchema={title:"Grid配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),{label:"内容形式",name:"$$mode",type:"button-group",size:"xs",mode:"inline",className:"w-full",value:"form",description:"如果选择表单，内容默认为表单项，如果选择其他则可以放其他类型渲染器",options:[{label:"表单",value:"form"},{label:"其他",value:"other"}]},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[n.getSchemaTplByName("horizontal",{label:"",visibleOn:'data.$$formMode == "horizontal" && data.label !== false && data.horizontal'}),{type:"combo",name:"columns",label:"列设置",multiple:!0,multiLine:!0,minLength:1,draggable:!0,addButtonText:"新增一列",scaffold:{controls:[{label:"文本",name:"var",type:"text"}]},controls:[{name:"mode",label:"展示模式",type:"button-group",size:"xs",pipeIn:n.defaultValue("normal",!1),options:[{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},n.getSchemaTplByName("horizontal",{visibleOn:'data.mode == "horizontal"'}),{type:"switch",name:"sm",label:"宽度平均分配",mode:"inline",className:"block",pipeIn:function(e){return!e},pipeOut:function(e){return e?void 0:6},columnClassName:"w-xs v-middle"},{label:"宽度占比",type:"range",name:"sm",visibleOn:"data.sm",min:1,max:12,step:1}]},n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("visible")]}])]};var o=Array.isArray(t.columns)&&t.columns[0]&&t.columns[0].body?"other":"form";return i.state=l.__assign(l.__assign({},i.modifyProps(t,a,o)),{$$mode:o}),i}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;o.anyChanged(["columns"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.renderRenderer=function(t){return e.prototype.renderRenderer.call(this,l.__assign(l.__assign({},t),{unmountOnExit:!0}))},t.prototype.modifyProps=function(e,t,a){var i=this;void 0===t&&(t=this.context),void 0===a&&(a=this.state.$$mode);var n=e.columns,o=e.clipboard,s=e.$$id;return t.editor.getActiveId()!==s?{columns:n}:{columns:n=n.map((function(e,t){var n=e.controls,p=e.body,c={};return"form"===a?c.controls=i.attachAddBtn(n,[o&&i.acceptChild(o.type,"control")?i.renderButton((function(e){e.stopPropagation(),e.preventDefault();var a=i.context.editor,l=a.get(s).columns.concat(),n=l[t].controls;(n=Array.isArray(n)?n.concat():n?[n]:[]).push(r.JSONPipeIn(o)),l[t].controls=n,a.update(s,{columns:l})}),"在 FiledSet 中粘贴内容","fa fa-paste"):null,i.renderButton((function(e){e.stopPropagation(),e.preventDefault(),i.pickChild("control","columns",(function(e){var a=i.context.editor,l=a.get(s).columns.concat(),n=l[t].controls;(n=Array.isArray(n)?n.concat():n?[n]:[]).push(r.JSONPipeIn(e)),l[t].controls=n,a.update(s,{columns:l})}))}),"在内容区新增内容")]):c.body=i.attachAddBtn(p,[o&&i.acceptChild(o.type,"body")?i.renderButton((function(e){e.stopPropagation(),e.preventDefault();var a=i.context.editor,l=a.get(s).columns.concat(),n=l[t].body;(n=Array.isArray(n)?n.concat():n?[n]:[]).push(r.JSONPipeIn(o)),l[t].body=n,a.update(s,{columns:l})}),"在 FiledSet 中粘贴内容","fa fa-paste"):null,i.renderButton((function(e){e.stopPropagation(),e.preventDefault(),i.pickChild("body","body",(function(e){var a=i.context.editor,l=a.get(s).columns.concat(),n=l[t].body;(n=Array.isArray(n)?n.concat():n?[n]:[]).push(r.JSONPipeIn(e)),l[t].body=n,a.update(s,{columns:l})}))}),"在内容区新增内容","fa fa-plus")]),l.__assign(l.__assign({},e),c)}))}},t.prototype.setSettingsValue=function(e){var t=this,a=this.props.$$id,i=this.context.editor,n=l.__assign(l.__assign({},i.get(a)),e),o=n.$$mode;return delete n.$$mode,delete n.$$formMode,delete n.formHorizontal,Array.isArray(n.columns)&&(n.columns=n.columns.map((function(e,a){return e=l.__assign({},e),"form"===o?(t.schemaCaches["other_"+a]=e.body,delete e.body,t.state.$$mode!==o&&(e.controls=t.schemaCaches[o+"_"+a]||[{type:"text",label:"文本",name:"var1"}])):(t.schemaCaches["form_"+a]=e.controls,delete e.controls,t.state.$$mode!==o&&(e.body=t.schemaCaches[o+"_"+a]||[{type:"tpl",tpl:"内容",inline:!1}])),e}))),this.mounted&&this.setState({$$mode:o}),i.update(a,r.JSONPipeIn(n),!0,"form")},t.prototype.getSettingsValue=function(){var e=this.props.$$id,t=this.context.editor.get(e);return l.__assign(l.__assign({},t),{$$mode:this.state.$$mode||"form",$$formMode:this.props.formMode,formHorizontal:this.props.formHorizontal})},t=l.__decorate([i.Editor("grid-control",{name:"Grid",description:"页面布局",tags:["表单项"],type:"grid",icon:"fa fa-columns",scaffold:c,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},c)}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(p.default);t.GridControlEditor=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodeEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"qr-code",label:"二维码",name:"qrcode",value:"AMis"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="QRCode",t.settingsSchema={title:"二维码配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{name:"value",type:"text",label:"二维码默认值",description:"支持使用 <code>\\${xxx}</code> 来获取变量",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),{name:"codeSize",type:"number",label:"宽高值",pipeIn:n.defaultValue(128)},{name:"backgroundColor",type:"color",label:"背景色",pipeIn:n.defaultValue("#fff")},{name:"foregroundColor",type:"color",label:"前景色",pipeIn:n.defaultValue("#000")},{name:"level",type:"select",label:"复杂度",pipeIn:n.defaultValue("L"),options:[{label:"L",value:"L"},{label:"M",value:"M"},{label:"Q",value:"Q"},{label:"H",value:"H"}]},n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("qr-code-control",{name:"二维码",description:"支持配置宽高，前景色和背景色以及复杂度",type:"qr-code",scaffold:s,tags:["表单项"],previewSchema:{type:"form",wrapWithPanel:!1,controls:{type:"qr-code",name:"qrcode",value:"AMis"}}})],t)}(o.FormItemEditor);t.QRCodeEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestedSelectControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"nested-select",label:"嵌套下拉框",name:"nestedSelect",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B",children:[{label:"选项C",value:"C"},{label:"选项D",value:"D"}]}]},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Nested Select",t.$schema="https://houtai.baidu.com/v2/schemas/form/nested-select.json#",t.settingsSchema={title:"嵌套选择配置",definitions:{options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},controls:[{type:"group",controls:[{type:"text",name:"label",placeholder:"名称",required:!0},{type:"text",name:"value",placeholder:"值",unique:!0}]},{$ref:"options",label:"子选项",name:"children",addButtonText:"新增子选项"}]}},controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("placeholder"),n.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"选项",controls:[{$ref:"options",name:"options"},n.getSchemaTplByName("api",{name:"source",label:"获取选项接口"}),n.getSchemaTplByName("multiple"),n.getSchemaTplByName("joinValues"),n.getSchemaTplByName("delimiter"),,n.getSchemaTplByName("extractValue")]},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validations"),n.getSchemaTplByName("validationErrors"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("nested-select-control",{name:"嵌套选择框",description:"适用于选项中含有子项，可通过<code>source</code>拉取选项，支持多选",type:"nested-select",scaffold:s,tags:["表单项"],previewSchema:{type:"form",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.NestedSelectControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RatingControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"rating",label:"评分",name:"rating"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Rating",t.$schema="https://houtai.baidu.com/v2/schemas/form/rating.json#",t.settingsSchema={title:"评分选择配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("switchDefaultValue"),{type:"number",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},{type:"switch",name:"half",mode:"inline",className:"w-full",label:"允许半星",value:!1},{type:"switch",name:"readOnly",mode:"inline",className:"w-full",label:"只读",value:!1},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),{label:"最大值",name:"count",type:"number",value:5},n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("rating-control",{name:"评分",tags:["表单项"],description:"支持只读、半星选择",icon:"fa fa-star",type:"rating",scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.RatingControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(7),r=a(6),s={type:"city",label:"城市选择",name:"city"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="city",t.$schema="http://amis.baidu.com/v2/schemas/form/city.json#",t.settingsSchema={title:"城市选择配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:r([n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),{type:"switch",name:"allowDistrict",label:"允许选择区域",mode:"inline",className:"w-full",pipeIn:n.defaultValue(!0)},{type:"switch",name:"allowCity",label:"允许选择城市",mode:"inline",className:"w-full",pipeIn:n.defaultValue(!0)},n.getSchemaTplByName("switchDefaultValue"),{name:"value",type:"text",label:"默认值",visibleOn:'typeof data.value !== "undefined"',validations:"isNumeric",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"城市编码",placement:"right"}},n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark"),n.getSchemaTplByName("extractValue")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("city-control",{name:"城市选择",description:"可配置是否选择区域或者城市",type:"city",tags:["表单项"],scaffold:s,previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},s)}})],t)}(o.FormItemEditor);t.CheckboxControlEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputGroupControlEditor=void 0;var l=a(0),i=a(1),n=a(2),o=a(12),r=a(7),s=a(6),p=a(5),c=a(3),d={type:"input-group",size:"sm",name:"input-group",inline:!0,label:"input 组合",controls:[{type:"text",placeholder:"搜索作业ID/名称",inputClassName:"b-r-none p-r-none",name:"input-group"},{type:"submit",label:"提交",level:"primary"}]},m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Input Group",t.handleAdd=function(){return t.pickChild("control","controls",void 0,["text","url","email","password","select","date","time","date-time","date-range","formula","color","city","icon","plain","tpl","button","submit","reset"],!0)},t.containers=["controls"],t.$schema="https://houtai.baidu.com/v2/schemas/form/input-group.json#",t.settingsSchema={title:"文本组合配置",controls:[n.getSchemaTplByName("tabs",[{title:"常规",controls:s([{name:"controls",type:"combo",multiple:!0,addable:!1,draggable:!0,draggableTip:"可排序、可移除、如要编辑请在预览区选中编辑",editable:!1,visibleOn:"this.controls && this.controls.length",controls:[{type:"tpl",inline:!1,className:"p-t-xs",tpl:'<%= data.label %><% if (data.icon) { %><i class="<%= data.icon %>"/><% }%>'}]},{children:c.createElement(p.Button,{className:"m-b",onClick:t.handleAdd,level:"danger",tooltip:"插入一个新的元素",size:"sm",block:!0},"新增元素")},n.getSchemaTplByName("formItemName",{required:!0}),n.getSchemaTplByName("label"),n.getSchemaTplByName("description"),n.getSchemaTplByName("remark"),n.getSchemaTplByName("labelRemark")])},{title:"外观",controls:[n.getSchemaTplByName("formItemMode"),n.getSchemaTplByName("horizontalMode"),n.getSchemaTplByName("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),n.getSchemaTplByName("formItemSize"),n.getSchemaTplByName("fontItemInline"),n.getSchemaTplByName("className"),n.getSchemaTplByName("className",{label:"Label CSS 类名",name:"labelClassName"}),n.getSchemaTplByName("className",{label:"Input CSS 类名",name:"inputClassName"}),n.getSchemaTplByName("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("required"),n.getSchemaTplByName("validateOnChange"),n.getSchemaTplByName("submitOnChange"),n.getSchemaTplByName("disabled"),n.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t.prototype.getSettingsValue=function(){var t=e.prototype.getSettingsValue.call(this);return l.__assign(l.__assign({},t),{formHorizontal:this.props.formHorizontal,$$formMode:this.props.formMode})},t.prototype.setSettingsValue=function(t){return e.prototype.setSettingsValue.call(this,o(t,["formHorizontal","$$formMode"]))},t=l.__decorate([i.Editor("input-group-control",{name:"文本框组合",description:"<code>text</code>与其他组件组合",type:"input-group",scaffold:d,tags:["表单项","容器"],previewSchema:{type:"form",className:"text-left",wrapWithPanel:!1,controls:l.__assign({},d)}})],t)}(r.FormItemEditor);t.InputGroupControlEditor=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResetEditor=t.SubmitEditor=t.ActionEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(28),r=a(5),s=a(2),p=a(6),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="按钮",t.$schema="https://houtai.baidu.com/v2/schemas/action.json#",t.settingsSchema={title:"按钮配置",controls:[s.getSchemaTplByName("tabs",[{title:"常规",controls:p([{label:"名称",type:"text",name:"label"},{label:"类型",type:"button-group",name:"type",size:"sm",className:"block",options:[{label:"按钮",value:"button"},{label:"提交",value:"submit"},{label:"重置",value:"reset"}]},{name:"confirmText",type:"textarea",label:"确认文字",description:"点击后会弹出此内容，等用户确认后才继续操作。"},{label:"行为",type:"select",name:"actionType",clearable:!0,options:[{label:"弹框",value:"dialog"},{label:"抽出式弹框（Drawer）",value:"drawer"},{label:"发送请求",value:"ajax"},{label:"页面跳转(单页模式)",value:"link"},{label:"页面跳转",value:"url"},{label:"刷新目标",value:"reload"},{label:"复制内容",value:"copy"},{label:"提交",value:"submit"},{label:"重置",value:"reset"},{label:"确认",value:"confirm"},{label:"取消",value:"cancel"},{label:"跳转下一条",value:"next"},{label:"跳转上一条",value:"prev"}]},{type:"text",name:"content",visibleOn:'data.actionType == "copy"',label:"复制内容模板"},{type:"text",name:"target",visibleOn:'data.actionType == "reload"',label:"指定刷新目标",required:!0},{visibleOn:'data.actionType == "dialog"',name:"dialog",value:{title:"弹框标题",body:"<p>对，你刚刚点击了</p>"},children:i.default.createElement(r.Button,{size:"sm",level:"danger",className:"m-b",block:!0,onClick:t.handleEditDialog.bind(t)},"配置弹框内容")},{visibleOn:'data.actionType == "drawer"',name:"drawer",value:{title:"弹框标题",body:"<p>对，你刚刚点击了</p>"},children:i.default.createElement(r.Button,{size:"sm",level:"danger",className:"m-b",block:!0,onClick:t.handleEditDrawer.bind(t)},"配置抽出式弹框内容")},{type:"switch",label:"合并弹窗数据",visibleOn:'this.actionType == "dialog" || this.actionType == "drawer"',description:"是否将弹框数据合并到按钮所在组件。",mode:"inline",className:"block",name:"mergeData"},s.getSchemaTplByName("api",{label:"接口信息",visibleOn:'data.actionType == "ajax"'}),{visibleOn:'data.actionType == "ajax"',name:"feedback",children:function(e){var a=e.onChange,l=e.value;return i.default.createElement("div",{className:"m-b"},i.default.createElement(r.Button,{size:"sm",level:l?"danger":"info",onClick:t.handleEditFeedback.bind(t)},"配置反馈弹框内容"),l?i.default.createElement(r.Button,{size:"sm",level:"link",className:"m-l",onClick:function(){return a("")}},"清空设置"):null)}},{name:"feedback.visibleOn",label:"是否弹出表达式",type:"text",visibleOn:"this.feedback",autoComplete:!1,description:"请使用 JS 表达式如：`this.xxx == 1`"},{label:"跳转",name:"redirect",type:"text",description:"当设置此值后，提交完请求后跳转到目标地址。",visibleOn:'data.actionType == "ajax"'},{type:"text",label:"目标地址",name:"link",visibleOn:'data.actionType == "link"'},{type:"text",label:"目标地址",name:"url",visibleOn:'data.actionType == "url"',placeholder:"http://"},{type:"switch",name:"blank",visibleOn:'data.actionType == "url"',mode:"inline",className:"block",label:"是否用新窗口打开",pipeIn:s.defaultValue(!0)},t.isInDialog?{visibleOn:'data.actionType == "submit" || data.type == "submit"',name:"close",type:"switch",mode:"inline",className:"block",pipeIn:s.defaultValue(!0),label:"是否关闭当前弹框"}:null,{type:"switch",label:"验证字段",mode:"inline",className:"block",name:"required",visibleOn:'this.type !== "submit"',pipeIn:function(e){return void 0!==e},pipeOut:function(e,t,a){return e?"":void 0},description:"点击后是否要求部分字段通过验证，开启后可以指定哪些字段需要通过验证。"},{type:"array",addable:!0,removable:!0,visibleOn:'typeof this.required !== "undefined"',name:"required",items:{type:"text",required:!0,placeholder:"请输入字段名"},addButtonText:"新增字段",minLength:1,inline:!0},{type:"text",name:"reload",label:"刷新目标",visibleOn:'data.actionType != "link" && data.actionType != "url"',description:"可以指定目标组件的 `name` 属性值，表示这个动作完成后刷新目标组件。"},{type:"text",name:"target",visibleOn:'data.actionType != "reload"',label:"指定响应组件",description:"默认为当前组件所在容器组件。"}])},{title:"外观",controls:[{name:"block",type:"switch",mode:"inline",className:"block",label:"块状模式",pipeIn:s.defaultValue(!1)},s.getSchemaTplByName("icon"),{label:"图标排列",type:"button-group",name:"iconClassName",size:"sm",visibleOn:'this.label && typeof this.icon === "string"',pipeIn:function(e){return"string"==typeof e?/(pull\-left|pull\-right)/i.test(e)?RegExp.$1:"":e},pipeOut:function(e,t){return((t=t?t.replace(/(pull\-left|pull\-right)/i,""):"")?t+" ":"").replace(/\s+/g," ")+e},options:[{label:"默认",value:""},{label:"左",value:"pull-left"},{label:"右",value:"pull-right"}]},{type:"textarea",name:"tooltip",label:"提示信息",description:"鼠标停留时弹出该段文字"},{type:"button-group",name:"tooltipPlacement",visibleOn:"data.tooltip || data.disabledTip",label:"提示信息位置",size:"sm",value:"bottom",mode:"inline",className:"block",options:[{label:"上",value:"top"},{label:"右",value:"right"},{label:"下",value:"bottom"},{label:"左",value:"left"}]},s.getSchemaTplByName("className",{label:"图标 CSS 类名",name:"iconClassName",autoComplete:!1}),s.getSchemaTplByName("size"),{label:"展示样式",type:"select",name:"level",clearable:!1,btnActiveLevel:"",options:[{label:"默认",value:"default",level:"default"},{label:"链接",value:"link",level:"link"},{label:"主色",value:"primary",level:"primary"},{label:"淡色",value:"light",level:"light"},{label:"深色",value:"dark",level:"dark"},{label:"提示",value:"info",level:"info"},{label:"成功",value:"success",level:"success"},{label:"警告",value:"warning",level:"warning"},{label:"严重",value:"danger",level:"danger"}]},s.getSchemaTplByName("className",{label:"按钮 CSS 类名",name:"className"})]},{title:"其他",controls:[s.getSchemaTplByName("ref"),s.getSchemaTplByName("disabled"),{type:"textarea",visibleOn:"this.disabled || this.disabledOn",name:"disabledTip",label:"禁用提示信息",description:"按钮被禁用时，鼠标停留弹出该段文字"},s.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([n.Editor("button",{name:"按钮",type:"button",tags:["按钮"],icon:"fa fa-stop-circle",description:"用来展示一个按钮，你可以配置不同的展示样式，配置不同的点击行为。",previewSchema:{type:"button",label:"按钮"},scaffold:{type:"button",label:"按钮",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}}})],t)}(o.ButtonEditor);t.ActionEditor=c;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Submit",t.$schema="https://houtai.baidu.com/v2/schemas/action.json#",t}return l.__extends(t,e),t=l.__decorate([n.Editor("submit",{name:"提交",type:"submit",description:"展示一个按钮，用来触发所在表单提交操作。",tags:["按钮"],icon:"fa fa-stop-circle",previewSchema:{type:"button",label:"提交",level:"primary"},scaffold:{type:"submit",label:"提交",level:"primary"}})],t)}(c);t.SubmitEditor=d;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Reset",t.$schema="https://houtai.baidu.com/v2/schemas/action.json#",t}return l.__extends(t,e),t=l.__decorate([n.Editor("reset",{name:"重置",type:"reset",tags:["按钮"],icon:"fa fa-stop-circle",description:"用来展示一个按钮，重置所在表单的数据。",previewSchema:{type:"reset",label:"重置"},scaffold:{type:"reset",label:"重置"}})],t)}(c);t.ResetEditor=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertEditor=void 0;var l=a(0),i=a(1),n=a(2),o=l.__importDefault(a(9)),r={type:"alert",body:{type:"tpl",tpl:"提示内容"},level:"info"},s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Alert",t.$schema="https://houtai.baidu.com/v2/schemas/alert.json#",t.settingsSchema={title:"提示配置",controls:n.getSchemaTplByName("tabs",[{title:"常规",controls:[{type:"switch",name:"showCloseButton",mode:"inline",className:"w-full",label:"显示关闭按钮"}]},{title:"外观",controls:[{label:"样式",name:"level",type:"select",options:[{label:"提示",value:"info"},{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"严重",value:"danger"}]},n.getSchemaTplByName("className")]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("visible")]}])},t.containers=["body"],t.dropable=!0,t.containerLabels=["内容区"],t}return l.__extends(t,e),t=l.__decorate([i.Editor("alert",{name:"提示",description:"用来做文字特殊提示，分为四类：提示类、成功类、警告类和危险类。可结合 <code>visibleOn</code> 用来做错误信息提示。",type:"alert",icon:"fa fa-exclamation-circle",previewSchema:l.__assign(l.__assign({},r),{className:"text-left",showCloseButton:!0}),scaffold:r})],t)}(o.default);t.AlertEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.$schema="https://houtai.baidu.com/v2/schemas/audio.json#",t.tipName="Audio",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"音频配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{name:"src",type:"text",label:"音频地址",description:"支持获取变量如：<code>\\${audioSrc}</code>"},{type:"select",name:"rates",label:"音频倍速",description:"加速范围在0.1到16之间",multiple:!0,pipeIn:function(e){return Array.isArray(e)?e.join(","):[]},pipeOut:function(e){if(e&&e.length){var t=e.split(",");return t=t.filter((function(e){return Number(e)&&Number(e)>0&&Number(e)<=16})).map((function(e){return Number(Number(e).toFixed(1))})),Array.from(new Set(t))}return[]},options:["0.5","1","1.5","2","2.5","3","3.5","4"]},{name:"autoPlay",type:"switch",mode:"inline",className:"w-full",label:"自动播放"},{name:"loop",type:"switch",mode:"inline",className:"w-full",label:"循环播放"}]},{title:"外观",controls:[o.getSchemaTplByName("className"),{name:"inline",type:"switch",mode:"inline",className:"w-full",label:"内联模式",pipeIn:o.defaultValue(!0)},{name:"controls",type:"select",label:"内部控件",multiple:!0,extractValue:!0,joinValues:!1,options:[{label:"倍速",value:"rates"},{label:"播放",value:"play"},{label:"时间",value:"time"},{label:"进度",value:"process"},{label:"音量",value:"volume"}],pipeIn:o.defaultValue(["rates","play","time","process","volume"]),labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"选择倍速后，还需要在常规选择栏中配置倍速",placement:"right"}}]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("audio",{name:"音频",type:"audio",icon:"fa fa-music",description:"音频控件，可以用来播放各种音频文件。",previewSchema:{type:"audio",autoPlay:!1},scaffold:{type:"audio",autoPlay:!1,src:""}})],t)}(n.default);t.AudioEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(8)),r=a(5),s=a(2),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.settingsSchema={title:"按钮组配置",controls:s.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"buttons",type:"combo",multiple:!0,addable:!1,draggable:!0,draggableTip:"可排序、可移除、如要编辑请在预览区选中编辑",editable:!1,visibleOn:"this.buttons && this.buttons.length",controls:[{type:"tpl",inline:!1,className:"p-t-xs",tpl:'<%= data.label %><% if (data.icon) { %><i class="<%= data.icon %>"/><% }%>'}]},{children:i.default.createElement("div",null,i.default.createElement(r.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:t.handleAdd.bind(t)},"添加按钮"))}]},{title:"外观",controls:[s.getSchemaTplByName("size"),s.getSchemaTplByName("className"),s.getSchemaTplByName("className",{name:"btnClassName",label:"按钮 CSS 类名"})]},{title:"其他",controls:[s.getSchemaTplByName("ref"),s.getSchemaTplByName("disabled"),s.getSchemaTplByName("visible")]}])},t.tipName="按钮组",t.$schema="https://houtai.baidu.com/v2/schemas/button-group.json#",t.containers=["buttons"],t.containerLabels=["按钮集合"],t}return l.__extends(t,e),t.prototype.handleAdd=function(){this.pickChild("buttons")},t.prototype.acceptChild=function(t,a,l){return!!~["button","submit","reset"].indexOf(t)&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.renderRenderer=function(t){return t.buttons&&t.buttons.length?e.prototype.renderRenderer.call(this,t):this.renderPlaceholder(t)},t.prototype.getContextMenus=function(){var t=e.prototype.getContextMenus.call(this);return t.push({label:"添加按钮",onSelect:this.handleAdd.bind(this)}),t},t=l.__decorate([n.Editor("button-group",{name:"按钮组",tags:["按钮"],icon:"fa fa-stop-circle",type:"button-group",description:"用来展示多个按钮，视觉上会作为一个整体呈现。",previewSchema:{type:"button-group",buttons:[{type:"button",label:"按钮1",level:"info"},{type:"button",label:"按钮2",level:"success"}]},scaffold:{type:"button-group",buttons:[{type:"button",label:"按钮1",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}},{type:"button",label:"按钮2",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}}]}})],t)}(o.default);t.ButtonGroupEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupEditor=void 0;var l=a(0),i=a(1),n=a(29),o=a(2),r=a(3),s=a(5),p={type:"button-toolbar",buttons:[{type:"button",label:"按钮1",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}},{type:"button",label:"按钮2",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}}]},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.settingsSchema={title:"工具栏配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"buttons",type:"combo",label:"按钮管理",multiple:!0,addable:!1,draggable:!0,draggableTip:"可排序、可移除、如要编辑请在预览区选中编辑",editable:!1,visibleOn:"this.buttons && this.buttons.length",controls:[{type:"tpl",inline:!1,className:"p-t-xs",tpl:'<span class="label label-default"><% if (data.type === "button-group") { %> 按钮组 <% } else { %><%= data.label %><% if (data.icon) { %><i class="<%= data.icon %>"/><% }%><% } %></span>'}]},{children:r.createElement("div",null,r.createElement(s.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:t.handleAdd.bind(t)},"添加按钮"))}]},{title:"外观",controls:[o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("button-toolbar",{name:"按钮工具栏",type:"button-toolbar",tags:["按钮"],icon:"fa fa-stop-circle",description:"可以用来放置多个按钮或者按钮组，按钮之间会存在一定的间隔",previewSchema:{type:"button-toolbar",className:"text-left",buttons:[{label:"按钮A",type:"button"},{type:"button-group",buttons:[{label:"按钮B",type:"button"},{label:"按钮C",type:"button"}]}]},scaffold:p})],t)}(n.ButtonToolbarControlEditor);t.ButtonGroupEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CardItemEditor=t.CardEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(8)),r=a(5),s=a(2),p=a(4),c=l.__importDefault(a(10)),d=a(12),m=a(33),u=a(6),h=a(17),b=l.__importDefault(a(9)),f=l.__importDefault(a(11)),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Card",t.containers=["body","actions"],t.$schema="https://houtai.baidu.com/v2/schemas/cards.json#/definitions/card",t.regions2path={body:"field"},t.childrenSortList={body:["plain","mapping","operation","date","status","switch","image","operation","tpl","container"]},t.settingsSchema={title:"卡片配置",controls:[s.getSchemaTplByName("tabs",[{title:"常规",controls:u([{children:i.default.createElement(r.Button,{size:"sm",className:"m-b-sm",level:"info",block:!0,onClick:function(){return t.pickChild("actions")}},"新增按钮")},{children:i.default.createElement("div",null,i.default.createElement(r.Button,{block:!0,level:"primary",size:"sm",onClick:function(){return t.pickChild("body")}},"新增内容"))},{type:"divider"},{name:"header.title",type:"text",label:"标题",description:"支持模板语法如： <code>\\${xxx}</code>"},{name:"header.subTitle",type:"text",label:"副标题",description:"支持模板语法如： <code>\\${xxx}</code>"},{name:"header.avatar",type:"text",label:"图片地址",description:"支持模板语法如： <code>\\${xxx}</code>"},{name:"header.desc",type:"textarea",label:"描述",description:"支持模板语法如： <code>\\${xxx}</code>"},{name:"header.highlight",type:"text",label:"是否高亮表达式",description:"如： <code>this.isOwner</code>"}])},{title:"外观",controls:[{type:"range",name:"actionsCount",pipeIn:s.defaultValue(4),min:1,max:10,step:1,label:"卡片一行最多能放按钮个数"},s.getSchemaTplByName("className",{name:"titleClassName",label:"标题 CSS 类名"}),s.getSchemaTplByName("className",{name:"highlightClassName",label:"高亮 CSS 类名"}),s.getSchemaTplByName("className",{name:"subTitleClassName",label:"副标题 CSS 类名"}),s.getSchemaTplByName("className",{name:"descClassName",label:"描述 CSS 类名"}),s.getSchemaTplByName("className",{name:"avatarClassName",label:"图片外层 CSS 类名"}),s.getSchemaTplByName("className",{name:"imageClassName",label:"图片 CSS 类名"}),s.getSchemaTplByName("className",{name:"bodyClassName",label:"内容区 CSS 类名"}),s.getSchemaTplByName("className")]},{title:"其他",controls:[s.getSchemaTplByName("ref"),s.getSchemaTplByName("visible")]}])]},t}return l.__extends(t,e),t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),("body"===a?!~["form","button","submit","reset","table","crud","divider","page","wizard"].indexOf(t):!!~["button"].indexOf(t))&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.getContextMenus=function(){var t=this,a=e.prototype.getContextMenus.call(this);return a.push({label:"添加按钮",onSelect:function(){return t.pickChild("actions")}}),a},t.prototype.onAddNode=function(e,t){if("body"===e)return l.__assign(l.__assign({},t),{label:"字段说明"})},t=l.__decorate([n.Editor("card",{name:"卡片",type:"card",description:"展示单个卡片。",previewSchema:{type:"card",className:"text-left m-b-none",header:{title:"标题",subTitle:"副标题"},body:"卡片内容",actions:[{label:"详情",type:"button"}]},scaffold:{type:"card",header:{title:"标题",subTitle:"副标题",avatar:"https://fex.bdstatic.com/n/static/amis/renderers/crud/field/placeholder_cfad9b1.png"},body:"内容",actions:[{type:"button",label:"按钮",actionType:"dialog",dialog:{title:"标题",body:"内容"}}]}},{renderBody:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a||this.props.children)return this.super.apply(this,e);var l=this.super.apply(this,e),n=this.props.regionRef;return i.default.createElement(f.default,{key:"body",ref:function(e){return n("body",e)},name:"body",label:"内容",hostId:a.props.$$id},l)}})],t)}(b.default);t.CardEditor=y;var g=function(e){function t(t,a){var n=e.call(this,t)||this;return n.tipName="Field",n.replaceable=!1,n.settingsSchema={title:"字段配置",controls:[s.getSchemaTplByName("tabs",[{title:"常规",controls:[{type:"tpl",className:"text-info text-sm",tpl:"<p>注意：当前面板只能配置当前字段相关的信息，如需配置具体的内容，请在预览区或者在导航中选择子内容再进行编辑。</p>"},{name:"label",label:"名称（Label）",type:"text"},{name:"name",type:"text",label:"绑定字段名"},{name:"value",label:"调试值",type:"text",pipeOut:s.valuePipeOut},{name:"placeholder",type:"text",label:"占位符",pipeIn:s.defaultValue("-"),description:"当没有值时用这个来替代展示"}]},{title:"高级",controls:[{name:"quickEdit",label:"启用快速编辑",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{visibleOn:"data.quickEdit",name:"quickEdit.mode",type:"button-group",value:"popOver",label:"快速编辑模式",size:"xs",mode:"inline",className:"w-full",options:[{label:"下拉",value:"popOver"},{label:"内嵌",value:"inline"}]},{visibleOn:"data.quickEdit",name:"quickEdit.saveImmediately",label:"是否立即保存",type:"switch",mode:"inline",className:"w-full",description:"开启后修改即提交，而不是标记修改批量提交。",descriptionClassName:"help-block m-b-none",pipeIn:function(e){return!!e}},s.getSchemaTplByName("api",{label:"立即保存接口",description:"是否单独给立即保存配置接口，如果不配置，则默认使用quickSaveItemApi。",name:"quickEdit.saveImmediately.api",visibleOn:"quickEdit.saveImmediately"}),{visibleOn:"data.quickEdit",children:i.default.createElement(r.Button,{level:"info",className:"m-b",block:!0,size:"sm",onClick:n.handleQuickEditSetting.bind(n)},"配置快速编辑方式")},{name:"popOver",label:"启用查看更多展示",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{name:"popOver.mode",label:"查看更多弹出模式",type:"select",visibleOn:"data.popOver",pipeIn:s.defaultValue("popOver"),options:[{label:"默认",value:"popOver"},{label:"弹框",value:"dialog"},{label:"抽出式弹框",value:"drawer"}]},{name:"popOver.position",label:"查看更多弹出模式",type:"select",visibleOn:'!data.popOver.mode || data.popOver.mode === "popOver"',pipeIn:s.defaultValue("center"),options:[{label:"目标中部",value:"center"},{label:"目标左上角",value:"left-top"},{label:"目标右上角",value:"right-top"},{label:"目标左下角",value:"left-bottom"},{label:"目标右下角",value:"right-bottom"},{label:"页面左上角",value:"fixed-left-top"},{label:"页面右上角",value:"fixed-right-top"},{label:"页面左下角",value:"fixed-left-bottom"},{label:"页面右下角",value:"fixed-right-bottom"}]},{visibleOn:"data.popOver",children:i.default.createElement(r.Button,{level:"info",className:"m-b",block:!0,onClick:n.handlePopOverSetting.bind(n)},"查看更多内容配置")},{name:"copyable",label:"启用内容复制功能",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{visibleOn:"data.copyable",name:"copyable.content",type:"textarea",label:"复制内容模板",description:"默认为当前字段值，可定制。"}]},{title:"外观",controls:[s.getSchemaTplByName("className",{name:"labelClassName",label:"Label 的 CSS 类名",pipeIn:s.defaultValue("pull-left w-xxs text-muted")}),s.getSchemaTplByName("className"),s.getSchemaTplByName("className",{name:"innerClassName",label:"内部 CSS 类名"})]}])]},n.childrenOrder=["plain","mapping","operation","date","status","switch","image","operation","tpl","container"],n.state=l.__assign(l.__assign({},n.modifyProps(t,a)),{value:m.mockValue(t.value,t.field.type),onQuickChange:p.noop}),n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;p.anyChanged(["quickEdit","popOver"],t,e)&&this.setState(l.__assign({},this.modifyProps(e))),t.value===e.value&&t.field.type===e.field.type||this.setState({value:m.mockValue(e.value,e.field.type)})},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.modifyProps=function(e,t){void 0===t&&(t=this.context);var a=e.quickEdit,l=e.popOver;t.editor;return{quickEdit:a=p.JSONPipeOut(a),popOver:l=p.JSONPipeOut(l)}},t.prototype.deleteSelf=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-field$/,""),a=e.getActiveId();e.delete(t),a===t&&e.unSelectEditor()},t.prototype.onChildSettingsGet=function(e,t){return l.__assign(l.__assign({},t),{className:t.innerClassName})},t.prototype.onChildSettingsSet=function(e,t,a,i){return i?l.__assign(l.__assign({},h(a,["label","name","sortable","quickEdit","toggled","copyable","popOver","width","breakpoint"])),t):l.__assign(l.__assign({},t),{innerClassName:t.className,className:a.className})},t.prototype.getSettingsValue=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-field$/,"");return l.__assign(l.__assign({},e.get(t)),{value:this.state.value})},t.prototype.setSettingsValue=function(e){var t=this.context.editor,a=this.props.$$id.replace(/\-field$/,""),i=(e=l.__assign({},e)).value;delete e.value,this.mounted&&this.setState({value:i}),t.update(a,e,void 0,"form")},t.prototype.handleQuickEditSetting=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-field$/,""),a=p.JSONPipeOut(e.get(t).quickEdit),n=this.props.data;!0===a&&(a={}),a=l.__assign({type:"text",name:this.props.name},a),e.openDialog("配置快速编辑类型",{mode:"normal",type:"form",data:{quickEdit:a},controls:[{name:"quickEdit",children:function(t){var a=t.value,o=t.onChange;return i.default.createElement(c.default,{previewClassName:"padder-md p-t-xs",pathPrefix:"/page/body/form/0/control",autoFocus:!0,value:l.__assign(l.__assign({},a),{$$replaceable:!0}),onChange:o,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{quickEdit:d(p.JSONPipeIn(a.quickEdit),["$$replaceable"])})}),"xl")},t.prototype.handlePopOverSetting=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-column$/,""),a=p.JSONPipeOut(e.get(t).popOver),n=this.props.data;!0===a&&(a={}),a=l.__assign({title:"查看详情",body:"内容详情"},a),e.openDialog("配置查看更多展示内容",{mode:"normal",type:"form",data:{popOver:a},controls:[{name:"popOver",children:function(t){var a=t.value,o=t.onChange;return i.default.createElement(c.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},a),{type:"panel",$$replaceable:!0}),onChange:o,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{popOver:d(p.JSONPipeIn(a.popOver),["$$replaceable","type"])})}),"xl")},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),!~["form","button","submit","reset","table","crud","divider","page","wizard"].indexOf(t)&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.renderRenderer=function(t){return e.prototype.renderRenderer.call(this,l.__assign(l.__assign({},t),{$$movable:!1}))},t=l.__decorate([n.Editor("card-item"),l.__metadata("design:paramtypes",[Object,Object])],t)}(o.default);t.CardItemEditor=g},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableCellEditor=void 0;var l=a(0),i=a(2),n=a(3),o=a(5),r=a(12),s=a(17),p=l.__importDefault(a(10)),c=l.__importDefault(a(9)),d=a(4),m=function(e){function t(t,a){var l=e.call(this,t,a)||this;return l.tipName="第"+(l.props.index-2)+"列",l.replaceable=!1,l.codeEditable=!1,l.draggable=!1,l.settingsSchema={title:"列配置",controls:[i.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"label",label:"列名称",type:"text"},{name:"name",type:"text",label:"绑定字段名"},{children:n.createElement("div",null,n.createElement(o.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:l.handleEditDetail.bind(l)},"配置列详情"))},{name:"remark",label:"提示",type:"text",description:"显示一个提示图标，鼠标放上去会提示该内容。"},{name:"placeholder",type:"text",label:"占位符",value:"-",description:"当没有值时用这个来替代展示"},{name:"sortable",type:"switch",label:"是否可排序",mode:"inline",className:"w-full",description:"开启后可以根据当前列排序(后端排序)。"}]},{title:"高级",controls:[{name:"groupName",label:"列分组名称",type:"text",description:'当多列的分组名称设置一致时，表格会在显示表头的上层显示超级表头，<a href="https://baidu.github.io/amis/crud/header-group" target="_blank">示例</a>'},{name:"quickEdit",label:"启用快速编辑",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{visibleOn:"data.quickEdit",name:"quickEdit.mode",type:"button-group",value:"popOver",label:"快速编辑模式",size:"xs",mode:"inline",className:"w-full",options:[{label:"下拉",value:"popOver"},{label:"内嵌",value:"inline"}]},{visibleOn:"data.quickEdit",name:"quickEdit.saveImmediately",label:"是否立即保存",type:"switch",mode:"inline",className:"w-full",description:"开启后修改即提交，而不是标记修改批量提交。",descriptionClassName:"help-block m-b-none",pipeIn:function(e){return!!e}},i.getSchemaTplByName("api",{label:"立即保存接口",description:"是否单独给立即保存配置接口，如果不配置，则默认使用quickSaveItemApi。",name:"quickEdit.saveImmediately.api",visibleOn:"this.quickEdit && this.quickEdit.saveImmediately"}),{visibleOn:"data.quickEdit",children:n.createElement(o.Button,{level:"info",className:"m-b",size:"sm",block:!0,onClick:l.handleQuickEditSetting.bind(l)},"配置快速编辑方式")},{name:"popOver",label:"启用查看更多展示",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{name:"popOver.mode",label:"查看更多弹出模式",type:"select",visibleOn:"data.popOver",pipeIn:i.defaultValue("popOver"),options:[{label:"默认",value:"popOver"},{label:"弹框",value:"dialog"},{label:"抽出式弹框",value:"drawer"}]},{name:"popOver.position",label:"查看更多弹出模式",type:"select",visibleOn:'!data.popOver || !data.popOver.mode || data.popOver.mode === "popOver"',pipeIn:i.defaultValue("center"),options:[{label:"目标中部",value:"center"},{label:"目标左上角",value:"left-top"},{label:"目标右上角",value:"right-top"},{label:"目标左下角",value:"left-bottom"},{label:"目标右下角",value:"right-bottom"},{label:"页面左上角",value:"fixed-left-top"},{label:"页面右上角",value:"fixed-right-top"},{label:"页面左下角",value:"fixed-left-bottom"},{label:"页面右下角",value:"fixed-right-bottom"}]},{visibleOn:"data.popOver",children:n.createElement(o.Button,{level:"info",className:"m-b",block:!0,onClick:l.handlePopOverSetting.bind(l)},"查看更多内容配置")},{name:"copyable",label:"启用内容复制功能",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{visibleOn:"data.copyable",name:"copyable.content",type:"textarea",label:"复制内容模板",description:"默认为当前字段值，可定制。"}]},{title:"外观",controls:[{name:"fixed",type:"button-group",label:"固定位置",pipeIn:i.defaultValue(""),size:"xs",mode:"inline",className:"w-full",options:[{value:"",label:"不固定"},{value:"left",label:"左侧"},{value:"right",label:"右侧"}]},{name:"toggled",type:"switch",label:"默认展示",mode:"inline",className:"w-full",pipeIn:i.defaultValue(!0)},{name:"breakpoint",type:"button-group",label:"触发底部显示条件",visibleOn:"data.tableFootableEnabled",size:"xs",multiple:!0,options:[{label:"总是",value:"*"},{label:"手机端",value:"xs"},{label:"平板",value:"sm"},{label:"PC小屏",value:"md"},{label:"PC大屏",value:"lg"}],pipeIn:function(e){return e?"string"==typeof e?e:"*":""},pipeOut:function(e){return"string"==typeof e&&~e.indexOf("*")&&/xs|sm|md|lg/.test(e)?e.replace(/\*\s*,\s*|\s*,\s*\*/g,""):e}},{type:"switch",name:"className",label:"内容强制换行",mode:"inline",className:"w-full",pipeIn:function(e){return"string"==typeof e&&/\word\-break\b/.test(e)},pipeOut:function(e,t){return(e?"word-break ":"")+(t||"").replace(/\bword\-break\b/g,"").trim()}},i.getSchemaTplByName("className"),i.getSchemaTplByName("className",{name:"innerClassName",label:"内部 CSS 类名"}),{name:"width",type:"number",label:"列宽",description:"固定列的宽度，不推荐设置。"}]}])]},l.childrenOrder=["plain","mapping","operation","date","status","switch","image","operation","tpl","container"],a.editor.isMini||l.toolbarBtns.splice(-1,0,{icon:"fa fa-expand",tooltip:"配置列详情",placement:"bottom",id:"edit-detail"}),l}return l.__extends(t,e),t.prototype.getContextMenus=function(){var t=this,a=e.prototype.getContextMenus.call(this);return this.context.editor.isMini||a.push({label:"配置列详情",onSelect:function(){return t.handleEditDetail()}}),a},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),!~["form","button","submit","reset","table","crud","divider","grid","hbox","page","wizard"].indexOf(t)&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.getSettingsValue=function(){var e=this.context.editor,t=this.props.$$id,a=e.getParent(t,!0);return l.__assign(l.__assign({},e.get(t)),{tableFootableEnabled:null==a?void 0:a.tableFootableEnabled})},t.prototype.onChildSettingsGet=function(e,t){return l.__assign(l.__assign({},r(t,["tableFootableEnabled"])),{className:t.innerClassName})},t.prototype.onChildSettingsSet=function(e,t,a,i){return i?l.__assign(l.__assign({},s(a,["label","name","sortable","quickEdit","toggled","copyable","popOver","width","breakpoint"])),t):l.__assign(l.__assign({},t),{innerClassName:t.className,className:a.className})},t.prototype.setSettingsValue=function(e){var t=this.context.editor,a=this.props.$$id.replace(/\-column$/,""),i=(e=l.__assign({},e)).value;delete e.value,this.mounted&&this.setState({value:i}),t.update(a,e,void 0,"form")},t.prototype.handleToolbarAction=function(t){if("edit-detail"===t)return this.handleEditDetail();e.prototype.handleToolbarAction.call(this,t)},t.prototype.handleQuickEditSetting=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-column$/,""),a=(this.props.schemaFilter,d.JSONPipeOut(e.get(t).quickEdit)),i=this.props.data;!0===a&&(a={}),a=l.__assign({type:"text",name:this.props.name},a),e.openDialog("配置快速编辑类型",{type:"form",mode:"normal",data:{quickEdit:a},controls:[{name:"quickEdit",children:function(t){var a=t.value,o=t.onChange;return n.createElement(p.default,{previewClassName:"padder-md p-t-xs",pathPrefix:"/page/body/form/0/control",autoFocus:!0,value:l.__assign(l.__assign({},a),{$$replaceable:!0}),onChange:o,data:i,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{quickEdit:r(d.JSONPipeIn(a.quickEdit),["$$replaceable"])})}),"xl")},t.prototype.handlePopOverSetting=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-column$/,""),a=(this.props.schemaFilter,d.JSONPipeOut(e.get(t).popOver)),i=this.props.data;!0===a&&(a={}),a=l.__assign({title:"查看详情",body:"内容详情"},a),e.openDialog("配置查看更多展示内容",{type:"form",mode:"normal",data:{popOver:a},controls:[{name:"popOver",children:function(t){var a=t.value,o=t.onChange;return n.createElement(p.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},a),{type:"panel",$$replaceable:!0}),onChange:o,data:i,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{popOver:r(d.JSONPipeIn(a.popOver),["$$replaceable","type"])})}),"xl")},t.prototype.handleEditDetail=function(){var e=this,t=this.context.editor,a=this.props,i=a.store,r=a.$$id,s={};i&&i.rows.length&&(s=i.rows[0].data);var c=d.JSONPipeOut(t.get(r));t.openDialog("配置列详情",{type:"form",mode:"normal",data:{detail:c},controls:[{name:"detail",children:function(a){var i=a.value,r=a.onChange;return n.createElement(p.default,{autoFocus:!0,previewClassName:"padder-md p-t-xs",pathPrefix:"page/body/crud/table/0/0/field",value:l.__assign({type:"plain"},i),onChange:function(e){return r(e)},previewProps:{value:o.resolveVariable(i.name,s),data:s,$$replaceable:!0,$$acceptChild:e.acceptChild.bind(e),$$childenOrder:e.childrenOrder},schemaFilter:t.schemaFilter,theme:t.theme})}}]},(function(e){t.update(r,d.JSONPipeIn(e.detail))}),"xl")},t.prototype.renderRenderer=function(e){return n.cloneElement(e.th,{"data-editor-id":this.props.$$id})},t}(c.default);t.TableCellEditor=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(107)),n=a(15),o=a(14),r=a(34),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.getContextMenus=function(){var e=this,t=this.context.editorNode,a=this.context.editor,l=t.component,i=l.props.clipboard,n=[];return n.push({label:"添加一列",onSelect:function(){return l.pickChild(e.props.name)}}),n.push({label:"快速编辑列",onSelect:function(){return l.handleColumnsQuickEdit()}}),i&&n.push({label:"清空剪切板",onSelect:function(){return a.clearClipBoard()}}),n.push({label:"粘贴",disabled:!(i&&l.acceptChild(i.type,this.props.name)),onSelect:function(){return l.addChild(e.props.name,i)}}),n},t.prototype.handleDragOver=function(e,t){var a=n.findDOMNode(this),l=a.querySelector("table"),i=a.querySelector("thead").lastChild,s=[];r(i.children,(function(e){if(e!==t&&!e.matches(".region-tip")&&!/Table\-checkCell/.test(e.className)){var a=e.getBoundingClientRect();a.width&&a.height&&s.push(a)}}));var p=o(s,(function(t,a,l){var i=l[a-1];return e.clientX<t.left+t.width/2&&(!i||e.clientX>i.left+i.width/2)}));t.classList.add("is-horizontal");var c=l.getBoundingClientRect();if(p)t.style.cssText="height: "+c.height+"px;top: 0;left: "+(p.left-c.left)+"px;",this.dropPosition=s.indexOf(p);else{var d=s[s.length-1];t.style.cssText="height: "+c.height+"px;top: 0;left: "+(d.right-c.left-5)+"px;",this.dropPosition=s.length}a.appendChild(t)},t}(i.default);t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(11)),n=a(34),o=a(14),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.handleDragEnter=function(e,t){t.innerHTML="",t.classList.add("use-position")},t.prototype.handleDragLeave=function(e,t){t.innerHTML="",t.removeAttribute("style"),t.classList.remove("use-position")},t.prototype.handleDragOver=function(e,t){var a=this.getWrapper(),l=a.querySelector("[data-editor-id]"),i=l?l.parentElement:a,r=i.getBoundingClientRect(),s=[];n(i.children,(function(e){if(e!==t){var a=e.getBoundingClientRect();a.width&&a.height&&s.push(a)}}));var p=!1;(s.length>1&&s[1].left>s[0].left+10||s.length&&s[0].width/r.width<.8&&s[0].height/r.height>.8)&&(p=!0),p?t.classList.add("is-horizontal"):t.classList.remove("is-horizontal");var c=o(s,p?function(t,a,l){var i=l[a-1];return e.clientX<t.left+t.width/2&&(!i||e.clientX>i.left+i.width/2)}:function(t,a,l){var i=l[a-1];return e.clientY<t.top+t.height/2&&(!i||e.clientY>i.top+i.height/2)});if(p)if(c)t.style.cssText="height: "+r.height+"px;top: 0;left: "+(c.left-r.left)+"px;",this.dropPosition=s.indexOf(c);else if(s.length){var d=s[s.length-1]||r;t.style.cssText="height: "+r.height+"px;top: 0;left: "+(d.right-r.left-5)+"px;",this.dropPosition=s.length}else this.dropPosition=0,t.style.cssText="height: "+r.height+"px;top: 0;left: 0px;";else if(c)t.style.cssText="width: "+r.width+"px;left: 0;top: "+(c.top-r.top)+"px;",this.dropPosition=s.indexOf(c);else if(s.length){d=s[s.length-1]||r;t.style.cssText="width: "+r.width+"px;left: 0;top: "+(d.bottom-r.top-5)+"px;",this.dropPosition=s.length}else this.dropPosition=0,t.style.cssText="width: "+r.width+"px;left: 0;top: 0px;";t.classList.add("use-position"),i.appendChild(t)},t}(i.default);t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CardsEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(4),s=l.__importDefault(a(10)),p=a(5),c=function(e){function t(t,a){var n=e.call(this,t,a)||this;return n.tipName="Cards",n.$schema="https://houtai.baidu.com/v2/schemas/cards.json#",n.isCRUDBody=/\/crud\/body\/(?:cards|grid)$/.test(n.props.$path),n.dropable=!0,n.containers=["header","footer"],n.containerLabels=["顶部","底部"],n.settingsSchema={title:"卡片列表配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[n.isCRUDBody?{type:"tpl",className:"text-info text-sm",tpl:"<p>当前选中为 CRUD 中的 Cards 部分，选中父级 CRUD 还有更多配置，可以在导航中切换，也可以在 Cards 右顶工具栏点击【选择上层】或者按快捷键【shift + ↑】切换。</p>"}:null,{type:"divider"},{children:i.default.createElement("div",{className:"m-b"},i.default.createElement(p.Button,{level:"success",size:"sm",block:!0,onClick:function(){return n.handleEditCard()}},"配置单项信息"))},{type:"divider"},{name:"title",type:"text",label:"标题"},n.isCRUDBody?null:{name:"source",type:"text",label:"数据源",pipeIn:o.defaultValue("${items}"),description:"绑定当前环境变量",test:!n.isCRUDBody},{name:"placeholder",value:"暂无数据",type:"text",label:"无数据提示"}]},{title:"外观",controls:[{name:"showHeader",type:"switch",mode:"inline",className:"block",label:"是否显示头部",pipeIn:o.defaultValue(!0)},{name:"showFooter",type:"switch",mode:"inline",className:"block",label:"是否显示底部",pipeIn:o.defaultValue(!0)},o.getSchemaTplByName("className",{label:"CSS 类名"}),o.getSchemaTplByName("className",{name:"headerClassName",label:"头部 CSS 类名"}),o.getSchemaTplByName("className",{name:"footerClassName",label:"底部 CSS 类名"}),o.getSchemaTplByName("className",{name:"itemsClassName",label:"内容 CSS 类名"}),o.getSchemaTplByName("className",{pipeIn:o.defaultValue("Grid-col--sm6 Grid-col--md4 Grid-col--lg3"),name:"itemClassName",label:"卡片 CSS 类名"}),{name:"columnsCount",type:"range",visibleOn:"!this.leftFixed",min:0,max:12,step:1,label:"每行显示个数",description:"不设置时，由卡片 CSS 类名决定"},{name:"masonryLayout",type:"switch",mode:"inline",label:"启用瀑布流"}]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},n.state=l.__assign({},n.modifyProps(t,a)),t.$$contentMode||n.toolbarBtns.splice(-1,0,{icon:"fa fa-expand",tooltip:"配置卡片信息",placement:"left",id:"edit-contents"}),n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;r.anyChanged(["header","footer","card"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.modifyProps=function(t,a){void 0===a&&(a=this.context);var i=t.card;return t.$$contentMode||(i=r.JSONPipeOut(i)),l.__assign(l.__assign({},e.prototype.modifyProps.call(this,t,a)),{card:i})},t.prototype.getContextMenus=function(){var t=this,a=e.prototype.getContextMenus.call(this);return a.push({label:"配置卡片信息",onSelect:function(){return t.handleEditCard()}}),a},t.prototype.handleToolbarAction=function(t){if("edit-contents"===t)return this.handleEditCard();e.prototype.handleToolbarAction.call(this,t)},t.prototype.handleEditCard=function(){var e,t=this.context.editor,a=this.props.$$id,n=r.JSONPipeOut(t.get(a).card),o={};this.ref&&(e=this.ref.props.store)&&e.items[0]&&(o=e.items[0].data),t.openDialog("配置卡片信息",{mode:"normal",type:"form",data:{card:n},controls:[{name:"card",children:function(e){var a=e.value,n=e.onChange;return i.default.createElement(s.default,{previewClassName:"wrapper-xs",autoFocus:!0,value:l.__assign(l.__assign({},a),{type:"card"}),onChange:function(e){return n(e)},$$contentMode:!0,data:o,schemaFilter:t.schemaFilter,theme:t.theme})}}]},(function(e){return t.update(a,{card:r.JSONPipeIn(e.card)})}),"xl")},t=l.__decorate([n.Editor("cards",{name:"卡片列表",type:"cards",description:"功能类似于表格，但是用一个个小卡片来展示数据。当前组件需要配置数据源，不自带数据拉取，请优先使用 「CRUD」 组件。",previewSchema:{type:"cards",className:"text-left ",columnsCount:2,items:[{a:1,b:2},{a:3,b:4}],card:{className:"m-b-none",header:{title:"标题",subTitle:"副标题"},body:[{name:"a",label:"A"},{name:"b",label:"B"}],actions:[{label:"详情",type:"button"}]}},scaffold:{type:"cards",card:{title:"标题"}}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(l.__importDefault(a(9)).default);t.CardsEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Carousel",t.$schema="https://houtai.baidu.com/v2/schemas/carousel.json#",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"轮播图配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{type:"formula",name:"__mode",autoSet:!1,formula:'typeof this.name === "string" ? 1 : 2'},{label:"数据源",name:"__mode",type:"button-group",size:"xs",mode:"inline",className:"w-full",options:[{label:"关联字段",value:1},{label:"静态设置",value:2}]},{label:"字段名",name:"name",type:"text",description:"设置字段名，关联当前数据作用域中的数据。",visibleOn:"this.__mode == 1"},{type:"combo",name:"options",visibleOn:"this.__mode == 2",label:"轮播选项内容",multiple:!0,multiLine:!0,addable:!0,removable:!0,controls:[{type:"group",controls:[{type:"text",label:"内容",name:"content",size:"full"},{type:"select",label:"类型",name:"type",options:[{label:"html",value:"html"},{label:"image",value:"image"}],value:"image"}]},{type:"group",controls:[{type:"text",label:"图片标题",name:"title",visibleOn:'this.type == "image"'},{type:"text",label:"图片标题类名",name:"titleClassName",visibleOn:'this.type == "image"'}]},{type:"group",controls:[{type:"text",label:"图片描述",name:"description",visibleOn:'this.type == "image"'},{type:"text",label:"图片描述类名",name:"descriptionClassName",visibleOn:'this.type == "image"'}]}],pipeIn:function(e){return Array.isArray(e)&&e.length?e.map((function(e){return e.html?{type:"html",content:e.html}:{type:"image",content:e.image,title:e.title,titleClassName:e.titleClassName,description:e.description,descriptionClassName:e.descriptionClassName}})):[]},pipeOut:function(e,t,a){return Array.isArray(e)&&e.length?e.map((function(e){return"html"===e.type?{html:e.content}:{image:e.content,title:e.title,titleClassName:e.titleClassName,description:e.description,descriptionClassName:e.descriptionClassName}})):[]}}]},{title:"外观",controls:[{name:"auto",type:"switch",mode:"inline",className:"w-full",label:"自动轮播"},{name:"interval",type:"range",label:"动画间隔",min:1,max:10,step:1,value:3e3,unit:"ms",pipeIn:function(e){return e/1e3},pipeOut:function(e,t,a){return 1e3*e}},{name:"duration",type:"range",label:"动画时长",min:100,max:1e3,step:10,value:500,unit:"ms"},{name:"animation",label:"动画效果",type:"button-group",mode:"inline",className:"w-full",size:"sm",value:"fade",options:[{label:"fade",value:"fade"},{label:"slide",value:"slide"}]},{name:"controlsTheme",label:"控制按钮主题",type:"button-group",size:"sm",value:"light",mode:"inline",className:"w-full",options:[{label:"light",value:"light"},{label:"dark",value:"dark"}]},{name:"controls",label:"控制显示",type:"button-group",size:"sm",mode:"inline",className:"w-full",value:"dots,arrows",multiple:!0,options:[{label:"底部圆点",value:"dots"},{label:"左右箭头",value:"arrows"}]},{name:"width",type:"text",label:"宽度",validations:"isNumeric",addOn:{type:"button",label:"px"}},{name:"height",type:"text",label:"高度",validations:"isNumeric",addOn:{type:"button",label:"px"}},o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("carousel",{name:"轮播图",type:"carousel",description:"用来渲染轮播图，可以配置每一页的内容（不只是图片），可以配置过渡动画。",previewSchema:{type:"carousel",className:"text-left",options:[{image:"https://internal-amis-res.cdn.bcebos.com/images/2019-12/1577157239810/da6376bf988c.png"},{html:'<div style="width: 100%; height: 300px; background: #e3e3e3; text-align: center; line-height: 300px;">carousel data</div>'},{image:"https://internal-amis-res.cdn.bcebos.com/images/2019-12/1577157239810/da6376bf988c.png"}]},scaffold:{type:"carousel",options:[{image:"https://internal-amis-res.cdn.bcebos.com/images/2019-12/1577157239810/da6376bf988c.png"},{html:'<div style="width: 100%; height: 300px; background: #e3e3e3; text-align: center; line-height: 300px;">carousel data</div>'},{image:"https://internal-amis-res.cdn.bcebos.com/images/2019-12/1577157239810/da6376bf988c.png"}]}})],t)}(n.default);t.CarouselEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=a(5),s=a(3),p=l.__importDefault(a(10)),c=a(12),d=a(4),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Chart",t.$schema="https://houtai.baidu.com/v2/schemas/chart.json#",t.settingsSchema={title:"图表配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{type:"formula",name:"_mode",formula:'typeof this.config === "undefined" ? "2" : "1"'},{name:"_mode",type:"button-group",label:"数据设置方式",size:"xs",options:[{label:"静态",value:"1"},{label:"接口获取",value:"2"}]},{name:"config",visibleOn:"this._mode != 2",type:"json-editor",label:"Echarts 静态配置",size:"lg",pipeIn:function(e){return e?JSON.stringify(e,null,2):""},pipeOut:function(e){try{return e?JSON.parse(e):null}catch(e){}return null}},o.getSchemaTplByName("api",{visibleOn:"this._mode == 2",label:"获取配置接口",description:"通过此配置可以获取动态配置"}),{label:"初始是否拉取",type:"switch",name:"initFetch",visibleOn:"data.api",pipeIn:o.defaultValue(!0),mode:"inline",className:"block"},{name:"interval",label:"定时刷新间隔",type:"number",step:500,visibleOn:"this._mode == 2 && data.api",description:"设置后将自动定时刷新，最小3000, 单位 ms"},{name:"dataFilter",type:"js-editor",label:"数据加工",size:"lg",description:"\n            如果后端没有直接返回 Echart 配置，可以自己写一段函数来包装。\n\n            <p>签名：(config, echarts) => config</p>\n\n            <p>参数说明</p>\n            <ul>\n            <li><code>config</code> 原始数据</li>\n            <li><code>echarts</code> echarts 对象</li>\n            </ul>\n\n            <p>示例</p>\n            <pre>debugger; // 可以浏览器中断点调试\n\n// 查看原始数据\nconsole.log(config)\n\n// 返回新的结果 \nreturn {}</pre>\n            "},{label:"Chart 配置完全替换？",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"默认为追加模式，新的配置会跟旧的配置合并，如果勾选将直接完全覆盖。",placement:"right"},name:"replaceChartOption",type:"switch",mode:"inline",className:"block"},{name:"clickAction",children:function(e){var a=e.onChange,l=e.value;return s.createElement("div",{className:"m-b"},s.createElement(r.Button,{size:"sm",level:l?"danger":"info",onClick:t.handleEditDrillDown.bind(t)},"配置 DrillDown"),l?s.createElement(r.Button,{size:"sm",level:"link",className:"m-l",onClick:function(){return a("")}},"删除 DrillDown"):null)}}]},{title:"外观",controls:[o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("name"),o.getSchemaTplByName("visible")]}])},t.state={onAction:t.handleChildAction.bind(t)},t}return l.__extends(t,e),t.prototype.handleChildAction=function(e,t,a){this.handleEditDrillDown(e,a)},t.prototype.handleEditDrillDown=function(e,t){void 0===t&&(t={});var a=this.context.editor,i=this.props.$$id,n=d.JSONPipeOut(a.get(i)),o=n.clickAction&&n.clickAction.dialog||{title:"标题",body:["<p>内容 <code>${value|json}</code></p>"]};a.openDialog("配置 DrillDown 详情",{type:"form",mode:"normal",data:{dialog:o},controls:[{name:"dialog",children:function(e){var i=e.value,n=e.onChange;return s.createElement(p.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},i),{type:"dialog"}),onChange:n,data:t,schemaFilter:a.schemaFilter,theme:a.theme})}}]},(function(e){return a.update(i,{clickAction:{actionType:"dialog",dialog:c(d.JSONPipeIn(e.dialog),["$$edittingDialog","type"])}})}),"xl")},t=l.__decorate([i.Editor("chart",{name:"图表",type:"chart",description:"用来渲染图表，基于 echarts 图表库，理论上 echarts 所有图表类型都支持。",previewSchema:{type:"chart",config:{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]}},icon:"fa fa-bar-chart",scaffold:{type:"chart",config:{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]}}})],t)}(n.default);t.ChartEditor=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollapseEditor=void 0;var l=a(0),i=a(1),n=a(2),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Collapse",t.containers=["body"],t.containerLabels=["内容区"],t.dropable=!0,t.$schema="https://houtai.baidu.com/v2/schemas/collapse.json#",t.settingsSchema={title:"折叠器配置",controls:n.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"title",label:"标题",type:"text",required:!0},{name:"collapsable",type:"switch",mode:"inline",className:"w-full",label:"是否可折叠",pipeIn:n.defaultValue(!0)},{name:"collapsed",type:"switch",mode:"inline",className:"w-full",label:"默认折叠？"}]},{title:"外观",controls:[n.getSchemaTplByName("className",{pipeIn:n.defaultValue("bg-white wrapper")}),n.getSchemaTplByName("className",{name:"headingClassName",label:"标题 CSS 类名",pipeIn:n.defaultValue("font-thin b-b b-light text-lg p-b-xs")}),n.getSchemaTplByName("className",{name:"bodyClassName",label:"内容 CSS 类名"})]},{title:"其他",controls:[n.getSchemaTplByName("ref"),n.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t.prototype.renderRenderer=function(t){return e.prototype.renderRenderer.call(this,l.__assign(l.__assign({},t),{collapsed:!1}))},t=l.__decorate([i.Editor("collapse",{name:"折叠器",type:"collapse",description:"折叠器，用户可以觉得是否将内容区展开或者收缩。",tags:["功能"],icon:"fa fa-folder-open",previewSchema:{type:"collapse",className:"text-left",body:"内容",title:"标题"},scaffold:{type:"collapse",body:"内容",title:"标题"}})],t)}(l.__importDefault(a(9)).default);t.CollapseEditor=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrapperEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(5),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Container",t.$schema="https://houtai.baidu.com/v2/schemas/container.json#",t.containers=["body"],t.containerLabels=["内容区"],t.dropable=!0,t.settingsSchema={title:"容器配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:[{children:i.default.createElement(r.Button,{size:"sm",className:"m-b-sm",level:"info",block:!0,onClick:function(){t.pickChild("body")}},"新增内容")}]},{title:"外观",controls:[o.getSchemaTplByName("className")]}])]},t}return l.__extends(t,e),t.prototype.renderRenderer=function(t){return t.body&&t.body.length?e.prototype.renderRenderer.call(this,t):this.renderPlaceholder(t)},t=l.__decorate([n.Editor("container",{name:"容器",description:"一个简单的容器，可以将多个渲染器放置在一起。",type:"container",tags:["容器"],icon:"fa fa-tablet",previewSchema:{type:"container",body:"容器",className:"b-a b-light"},scaffold:{type:"container",body:"内容"}})],t)}(l.__importDefault(a(9)).default);t.WrapperEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CRUDEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(8)),r=a(2),s=a(4),p=a(12),c=a(4),d=l.__importDefault(a(10)),m=a(6),u=a(17),h=l.__importDefault(a(11)),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="增删改查",t.$schema="https://houtai.baidu.com/v2/schemas/crud.json#",t.settingsSchema={title:"增删改查配置",controls:[r.getSchemaTplByName("tabs",[{title:"常规",controls:m([{type:"alert",body:"当前选则为 CRUD 部分，还有更多配置请切换到子节点进行配置。请留意大纲中组件的层级关系。"},{name:"filter",type:"switch",mode:"inline",className:"block",label:"启用查询条件",pipeIn:function(e){return!!e},pipeOut:function(e,a){return e?t.oldFilter||s.JSONPipeIn({title:"查询条件",controls:[{type:"text",name:"keywords",label:"关键字"}]}):(t.oldFilter=a,null)}},{type:"divider"},{label:"批量操作",name:"bulkActions",type:"combo",hiddenOn:"data.pickerMode && data.multiple",inputClassName:"ae-BulkActions-control",multiple:!0,draggable:!0,scaffold:{label:"按钮",type:"button"},labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"通过此可以管理批量操作按钮，只有设置了批量操作按钮才会出现选择框，可在外观中配置批量操作按钮位置。",placement:"right"},controls:[{type:"tpl",tpl:'<span class="label label-success">${label}</span>',columnClassName:"p-t-xs"},{columnClassName:"p-t-xs col-edit",children:function(e){var a=e.index;return i.default.createElement("button",{onClick:t.handleBulkActionEdit.bind(t,a),"data-tooltip":"修改","data-position":"bottom",className:"text-muted"},i.default.createElement("i",{className:"fa fa-pencil"}))}}]},{type:"divider"},{label:"单条操作",name:"itemActions",type:"combo",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"设置后，当鼠标悬停行数据上，会出现该操作按钮，同时顶部操作栏也会显示该按钮，勾选成员时与批量按钮智能切换。",placement:"right"},hiddenOn:'this.mode && this.mode !== "table" || this.pickerMode',inputClassName:"ae-BulkActions-control",multiple:!0,draggable:!0,scaffold:{label:"按钮",type:"button"},controls:[{type:"tpl",tpl:'<span class="label label-success">${label}</span>',columnClassName:"p-t-xs"},{type:"checkbox",className:"text-xs",option:"悬停隐藏",name:"hiddenOnHover"},{columnClassName:"p-t-xs col-edit",children:function(e){var a=e.index;return i.default.createElement("button",{onClick:t.handleItemActionEdit.bind(t,a),"data-tooltip":"修改","data-position":"bottom",className:"text-muted"},i.default.createElement("i",{className:"fa fa-pencil"}))}}]},{type:"divider",hiddenOn:'this.mode && this.mode !== "table" || this.pickerMode'},{name:"syncLocation",label:"同步地址栏",type:"switch",mode:"inline",className:"block",pipeIn:r.defaultValue(!0),labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启后会把查询条件数据和分页信息同步到地址栏中，页面中出现多个时，建议只保留一个同步地址栏，否则会相互影响。",placement:"right"}},{label:"默认参数",type:"combo",name:"defaultParams",multiple:!0,labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"可以用来设置默认参数，比如 <code>perPage:20</code>",placement:"right"},pipeIn:function(e){if(!c.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){"$$id"!=a&&t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",l=e.value;try{l=JSON.parse(l)}catch(e){}t[a]=l})),t},controls:[{placeholder:"Key",type:"text",unique:!0,name:"key",required:!0},{placeholder:"Value",type:"text",name:"value"}]},{type:"divider"},{name:"keepItemSelectionOnPageChange",label:"保留条目选择",type:"switch",mode:"inline",className:"block",visbileOn:"this.bulkActions && this.bulkActions.length || this.itemActions && this.itemActions.length",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"默认分页、搜索后，用户选择条目会被清空，开启此选项后会保留用户选择，可以实现跨页面批量操作。",placement:"right"}},{name:"labelTpl",type:"text",label:"单条描述模板",visibleOn:"this.keepItemSelectionOnPageChange",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启【保留条目选择】后会把所有已选择条目列出来，此选项可以用来定制条目展示文案。",placement:"right"}},{name:"primaryField",label:"指定主键",type:"text",pipeIn:r.defaultValue("id"),description:"默认<code>id</code>，用于批量操作获取行级数据"}])},{title:"接口",controls:m([r.getSchemaTplByName("api",{label:"数据拉取接口"}),{name:"initFetch",type:"radios",label:"是否初始拉取",pipeIn:function(e){return"boolean"==typeof e&&e||"boolean"!=typeof e&&""},inline:!0,options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"initFetch",autoComplete:!1,visibleOn:'typeof this.initFetch !== "boolean"',type:"text",placeholder:"用 JS 表达式来决定",className:"m-t-n-sm"},{name:"loadDataOnce",label:"一次性拉取",type:"switch",mode:"inline",className:"block",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启后，数据只会在初始的时候拉取，后续分页、排序不再请求接口，都由前端直接完成。",placement:"right"}},{label:"开启定时刷新",type:"switch",name:"interval",visibleOn:"data.api",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0},mode:"inline",className:"block"},{name:"interval",type:"number",visibleOn:'typeof data.interval === "number"',step:500,className:"m-t-n-sm",description:"设置后将自动定时刷新，单位 ms"},{name:"silentPolling",label:"静默刷新",type:"switch",mode:"inline",visibleOn:"!!data.interval",description:"设置自动定时刷新时是否显示loading"},{name:"stopAutoRefreshWhen",label:"停止定时刷新检测表达式",type:"text",visibleOn:"!!data.interval",description:"定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则不刷新了。"},{name:"stopAutoRefreshWhenModalIsOpen",label:"当有弹框时关闭自动刷新",type:"switch",visibleOn:"!!data.interval",mode:"inline",className:"block",description:"弹框打开关闭自动刷新，关闭弹框又恢复！"},{type:"divider"},r.getSchemaTplByName("api",{label:"顺序保存接口",name:"saveOrderApi",visibleOn:"data.draggable"}),{type:"divider"},r.getSchemaTplByName("api",{label:"快速保存接口",name:"quickSaveApi",description:"当 column 中设置了快速编辑后将使用此接口批量保存数据。"}),{type:"divider"},r.getSchemaTplByName("api",{label:"快速保存单条接口",name:"quickSaveItemApi",description:"当 column 中设置了快速编辑且设置了立即保存，将使用此接口保存数据。"}),{type:"divider"},{label:"默认消息提示",type:"combo",name:"messages",multiLine:!0,description:"覆盖消息提示，如果不指定，将采用 api 返回的 message",controls:[{label:"获取成功提示",type:"text",name:"fetchSuccess"},{label:"获取失败提示",type:"text",name:"fetchFailed"},{label:"保存顺序成功提示",type:"text",name:"saveOrderSuccess"},{label:"保存顺序失败提示",type:"text",name:"saveOrderFailed"},{label:"快速保存成功提示",type:"text",name:"quickSaveSuccess"},{label:"快速保存失败提示",type:"text",name:"quickSaveFailed"}]}])},{title:"外观",controls:m([{name:"mode",type:"button-group",size:"xs",label:"内容展示模式",value:"table",mode:"inline",className:"block",options:[{value:"table",label:"表格"},{value:"cards",label:"卡片"},{value:"list",label:"列表"}]},{name:"headerToolbar",type:"combo",draggable:!0,draggableTip:"",descrition:"非内建内容请在预览区选中后编辑",label:"顶部工具栏配置",pipeIn:function(e){return Array.isArray(e)||(e=e?[e]:["bulkActions","pagination"]),e.map((function(e){var t=e.type;return"string"==typeof e&&~["bulkActions","bulk-actions","pagination","statistics","switch-per-page","filter-toggler"].indexOf(e)?e={type:t="bulkActions"===e?"bulk-actions":e}:"string"==typeof e&&(t="tpl",e="string"==typeof e?{type:"tpl",tpl:e}:e),l.__assign({type:t},e)}))},pipeOut:function(e){return Array.isArray(e)?e.map((function(e){return"button"===e.type?s.JSONPipeIn(l.__assign({label:"按钮",type:"button"},e)):"tpl"===e.type?s.JSONPipeIn(l.__assign({type:"tpl",tpl:"内容"},e)):e})):[]},scaffold:{type:"tpl",tpl:"内容"},multiple:!0,controls:[{type:"select",name:"type",options:[{value:"bulk-actions",label:"操作栏"},{value:"pagination",label:"分页"},{value:"statistics",label:"统计数据"},{value:"switch-per-page",label:"切换页码"},{value:"columns-toggler",label:"列选择器",visibleOn:'!this.mode || this.mode === "table"'},{value:"filter-toggler",label:"查询条件切换"},{value:"drag-toggler",label:"拖拽切换"},{value:"check-all",label:"全选",hiddenOn:'!this.mode || this.mode === "table"'},{value:"tpl",label:"文本"},{value:"button",label:"按钮"}]},{name:"align",placeholder:"对齐方式",type:"select",size:"xs",options:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"}]},{type:"remark",content:"详情请在预览区域选中后进行编辑。",trigger:["click"],rootClose:!0,placement:"right",visibleOn:'!~["bulkActions", "drag-toggler", "check-all", "bulk-actions", "pagination", "statistics", "switch-per-page", "filter-toggler", "load-more"].indexOf(this.type)',columnClassName:"no-grow w-3x p-t-xs",className:"m-l-none"}]},{name:"footerToolbar",type:"combo",draggable:!0,draggableTip:"",descrition:"非内建内容请在预览区选中后编辑",label:"底部工具栏配置",pipeIn:function(e){return Array.isArray(e)||(e=e?[e]:["bulkActions","pagination"]),e.map((function(e){var t=e.type;return"string"==typeof e&&~["bulkActions","bulk-actions","pagination","statistics","switch-per-page","filter-toggler"].indexOf(e)?e={type:t="bulkActions"===e?"bulk-actions":e}:"string"==typeof e&&(t="tpl",e="string"==typeof e?{type:"tpl",tpl:e}:e),l.__assign({type:t},e)}))},pipeOut:function(e){return Array.isArray(e)?e.map((function(e){return"button"===e.type?s.JSONPipeIn(l.__assign({label:"按钮",type:"button"},e)):"tpl"===e.type?s.JSONPipeIn(l.__assign({type:"tpl",tpl:"内容"},e)):e})):[]},scaffold:{type:"tpl",tpl:"内容"},multiple:!0,controls:[{type:"select",name:"type",options:[{value:"bulk-actions",label:"操作栏"},{value:"pagination",label:"分页"},{value:"statistics",label:"统计数据"},{value:"switch-per-page",label:"切换页码"},{value:"columns-toggler",label:"列选择器",hiddenOn:'["grid", "cards", "list"].indexOf(this.mode)'},{value:"filter-toggler",label:"查询条件切换"},{value:"drag-toggler",label:"拖拽切换"},{value:"check-all",label:"全选",hiddenOn:'!this.mode || this.mode === "table"'},{value:"tpl",label:"文本"},{value:"button",label:"按钮"}]},{name:"align",placeholder:"对齐方式",size:"xs",type:"select",options:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"}]},{type:"remark",content:"详情请在预览区域选中后进行编辑。",trigger:["click"],rootClose:!0,placement:"right",visibleOn:'!~["bulkActions", "drag-toggler", "check-all", "bulk-actions", "pagination", "statistics", "switch-per-page", "filter-toggler", "load-more"].indexOf(this.type)',columnClassName:"no-grow w-3x p-t-xs",className:"m-l-none"}]},{name:"filterTogglable",type:"switch",label:"是否可显隐查询条件",mode:"inline",className:"block",visibleOn:"data.filter"},{name:"filterDefaultVisible",type:"switch",label:"查询条件默认是否可见",pipeIn:r.defaultValue(!0),mode:"inline",className:"block",visibleOn:"data.filter && data.filterTogglable"},{name:"hideQuickSaveBtn",label:"隐藏顶部快速保存提示",type:"switch",mode:"inline",className:"block"},{name:"hideCheckToggler",type:"switch",label:"隐藏选择按钮",mode:"inline",className:"block",visibleOn:"data.checkOnItemClick"},r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{name:"bodyClassName",label:"内容 CSS 类名"})])},{title:"其他",controls:m([r.getSchemaTplByName("ref"),{name:"source",label:"数据源",type:"text",description:"不填写，默认读取接口返回的 items 或者 rows 属性，如果是别的，请在此设置，如： <code>\\${xxxx}</code>"},{name:"pageField",label:"页码字段名",type:"text",pipeIn:r.defaultValue("page")},{name:"perPageField",label:"分页步长字段名",type:"text",pipeIn:r.defaultValue("perPage")},{name:"orderField",label:"排序权重字段",type:"text",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"设置用来确定位置的字段名，设置后新的顺序将被赋值到该字段中。",placement:"right"}},{name:"perPageAvailable",label:"切换每页数",type:"text",multiple:!0,hiddenOn:"data.loadDataOnce",pipeIn:function(e){return Array.isArray(e)?e:e?e.split(","):""},pipeOut:function(e){return Array.isArray(e)?e:e?e.split(","):""},options:["5","10","20","50","100"]},r.getSchemaTplByName("name"),{name:"draggable",label:"是否可拖拽排序",type:"switch",mode:"inline",className:"block"},{name:"itemCheckableOn",type:"text",label:"配置单条可选中的表达式",description:"请使用 js 表达式，不设置的话每条都可选中。",visibleOn:"data.bulkActions && data.bulkActions.length || data.pickerMode"},{name:"checkOnItemClick",type:"switch",label:"开启单条点击整个区域选中",mode:"inline",className:"block",visibleOn:"data.bulkActions && data.bulkActions.length || data.pickerMode"},{name:"autoJumpToTopOnPagerChange",type:"switch",label:"自动跳顶部",mode:"inline",className:"block",description:"当切分页的时候，是否自动跳顶部。"},{name:"syncResponse2Query",type:"switch",label:"同步查询条件",mode:"inline",className:"block",description:"每次查询后，将返回的数据同步到查询条件上。"}])}])]},t.schemaCaches={},t}return l.__extends(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.nodes.forEach((function(e){e.draggable=!1}))},t.prototype.modifyProps=function(e,t){void 0===t&&(t=this.context);e.filter;var a=e.defaultParams,l=e.itemActions,i=e.bulkActions;t.editor;return l=l?s.JSONPipeOut(l):l,i=i?s.JSONPipeOut(i):i,{defaultParams:s.JSONPipeOut(a),itemActions:l,bulkActions:i}},t.prototype.normalizeContainerHeaderToolbar=function(e){return this.normalizeToolbar(e)},t.prototype.normalizeContainerFooterToolbar=function(e){return this.normalizeToolbar(e)},t.prototype.normalizeToolbar=function(e){if(Array.isArray(e)){var t=!1,a=e.map((function(e){return"string"==typeof e?(t=!0,s.JSONPipeIn(~["filter-toggler","statistics","bulkActions","bulk-actions","load-more","pagination","switch-per-page","filter-toggler","columns-toggler","drag-toggler"].indexOf(e)?{type:e}:{type:"tpl",tpl:e})):e}));return t?a:e}return e},t.prototype.onChildSettingsGet=function(e,t){if("form"===e)return l.__assign({title:"条件过滤",mode:"inline",submitText:"搜索"},t);var a=this.context.editor,i=this.props.$$id,n=a.get(i);return n=l.__assign(l.__assign({},n),{className:n.bodyClassName}),p(n,["filter","mode","syncLocation","bulkActions","multiple"])},t.prototype.onChildSettingsSet=function(e,t,a){if("form"!==e){var i=this.context.editor,n=this.props.$$id,o=i.get(n);if(c.isObjectShallowModified(o,t))return t=l.__assign(l.__assign(l.__assign({},t),u(o,["filter","mode","syncLocation","bulkActions","multiple"])),{bodyClassName:t.className,className:a.className}),i.update(n,t,!0),"__SKIP__"}},t.prototype.handleBulkActionEdit=function(e){var t=this.context.editor,a=this.props.$$id,n=t.get(a).bulkActions,o=s.JSONPipeOut(n[e]);t.openDialog("配置按钮详情",{type:"form",mode:"normal",data:{button:o},controls:[{name:"button",children:function(e){var a=e.value,n=e.onChange;return i.default.createElement(d.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({size:"sm"},a),{type:"button"}),onChange:n,schemaFilter:t.schemaFilter,theme:t.theme})}}]},(function(i){i=s.JSONPipeIn(i);var o=n.concat();o[e]=l.__assign(l.__assign({},n[e]),p(i.button,["type"])),t.update(a,{bulkActions:o})}),"xl")},t.prototype.handleItemActionEdit=function(e){var t=this.context.editor,a=this.props.$$id,n=t.get(a).itemActions,o=s.JSONPipeOut(n[e]);t.openDialog("配置按钮详情",{type:"form",mode:"normal",data:{button:o},controls:[{name:"button",children:function(e){var a=e.value,n=e.onChange;return i.default.createElement(d.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({size:"sm"},a),{type:"button"}),onChange:n,schemaFilter:t.schemaFilter,theme:t.theme})}}]},(function(i){var o=n.concat();o[e]=l.__assign(l.__assign({},n[e]),p(s.JSONPipeIn(i.button),["type"])),t.update(a,{itemActions:o})}),"xl")},t.prototype.renderChild=function(t,a,i){var n=this.props.$$id;return"body"!==t?e.prototype.renderChild.call(this,t,a,i):e.prototype.renderChild.call(this,t,l.__assign(l.__assign({},a),{$$id:n.replace(/\-.*$/,"")+"-"+t}),l.__assign({},i))},t.prototype.setSettingsValue=function(e){var t=this.context.editor,a=this.props.$$id,i=t.get(a);if(c.isObjectShallowModified(i,e)){for(var n=this.context.editorNode;n&&n.component instanceof h.default;)n=n.component.context.editorNode;if(n&&n.component&&n.component.onChildSettingsSet&&(e=n.component.onChildSettingsSet(this.props.type,e,i)||e),"__SKIP__"!==e){if(e.mode!==i.mode){var o="cards"===i.mode||"grid"===i.mode?"card":"list"===i.mode?"listItem":"columns";this.schemaCaches[o]=e[o],delete(e=l.__assign({},e))[o],"cards"===e.mode||"grid"===e.mode?e.card=this.schemaCaches.card||{title:"标题",body:{name:"engine",label:"Engine"},actions:[{label:"按钮",type:"button"}]}:"list"===e.mode?e.listItem=this.schemaCaches.listItem||{title:"标题",body:{name:"engine",label:"Engine"},actions:[{label:"按钮",type:"button",level:"default"}]}:e.columns=this.schemaCaches.columns||[{name:"id",label:"ID",width:20,type:"text"},{name:"engine",label:"Engine"},{type:"operation",width:100,buttons:[{label:"按钮",type:"button"}]}]}t.update(a,e,this.replaceSettings,"form")}}},t=l.__decorate([n.Editor("crud",{name:"增删改查",type:"crud",icon:"fa fa-th",description:"用来实现对数据的增删改查，支持三种模式展示：table、cards和list. 负责数据的拉取，分页，单条操作，批量操作，排序，快速编辑等等功能。集成查询条件。",tags:["功能","容器"],previewSchema:{syncLocation:!1,type:"crud",className:"text-left",bodyClassName:"m-b-none",affixHeader:!1,data:{items:[{a:1,b:2},{a:3,b:4},{a:5,b:6}]},source:"${items}",columns:[{label:"A",name:"a"},{label:"B",name:"b"},{type:"operation",label:"操作",buttons:[{icon:"fa fa-eye",type:"button"},{icon:"fa fa-edit",type:"button"}]}]},scaffold:{type:"crud",api:"",columns:[{name:"id",label:"ID",type:"text"},{name:"engine",label:"Rendering engine"}]}},{})],t)}(o.default);t.CRUDEditor=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeFieldEditor=t.DateTimeFieldEditor=t.DateFieldEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Date",t.$schema="https://houtai.baidu.com/v2/schemas/date.json#",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"日期展示配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{type:"text",name:"format",label:"显示日期格式",description:"请参考 moment 中的格式用法。",pipeIn:o.defaultValue("YYYY-MM-DD")},{type:"text",name:"valueFormat",label:"数据日期格式",description:"请参考 moment 中的格式用法。",pipeIn:o.defaultValue("X")},{name:"placeholder",type:"text",pipeIn:o.defaultValue("-"),label:"占位符"}]},{title:"外观",controls:[o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t.prototype.renderRenderer=function(t){return t.value||void 0===t.placeholder||t.placeholder?e.prototype.renderRenderer.call(this,t):this.renderPlaceholder(t)},t=l.__decorate([i.Editor("date-field",{name:"日期展示",icon:"fa fa-calendar",tags:["展示"],description:"主要用来关联字段名做日期展示，支持各种格式如：X（时间戳），YYYY-MM-DD HH:mm:ss。",previewSchema:{type:"date",format:"YYYY-MM-DD HH:mm:ss",value:Math.round(Date.now()/1e3)},type:"date"})],t)}(n.default);t.DateFieldEditor=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Datetime",t}return l.__extends(t,e),t=l.__decorate([i.Editor("datetime-field",{type:"datetime"})],t)}(r);t.DateTimeFieldEditor=s;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Time",t}return l.__extends(t,e),t=l.__decorate([i.Editor("time-field",{type:"time"})],t)}(r);t.TimeFieldEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(4),r=a(2),s=l.__importDefault(a(11)),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.regionDefaultNodes={actions:[{label:"确认",type:"button"},{label:"取消",type:"button"}]},t.tipName="Dialog",t.removable=!1,t.replaceable=!1,t.dropable=!0,t.containers=["body","actions"],t.containerLabels=["内容区","按钮集合"],t.settingsSchema={title:"弹框配置",controls:r.getSchemaTplByName("tabs",[{title:"常规",controls:[{label:"标题",type:"text",name:"title"},{type:"switch",label:"数据映射",name:"data",mode:"inline",className:"block m-b-xs",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}},{type:"tpl",visibleOn:"!this.data",tpl:'<p class="text-sm text-muted">当没开启数据映射时，弹框中默认会拥有触发打开弹框按钮所在环境的所有数据。</p>'},{type:"combo",syncDefaultValue:!1,name:"data",visibleOn:"this.data",descriptionClassName:"help-block text-xs m-b-none",description:'<p>当开启数据映射时，弹框中的数据只会包含设置的部分，请绑定数据。如：<code>{"a": "\\${a}", "b": 2}</code></p><p>如果希望在默认的基础上定制，请先添加一个 Key 为 `&` Value 为 `\\$$` 作为第一行。</p><div>当值为 <code>__undefined</code>时，表示删除对应的字段，可以结合<code>{"&": "\\$$"}</code>来达到黑名单效果。</div>',multiple:!0,messages:{validateFailed:"数据映射中存在错误，请仔细检查"},pipeIn:function(e){if(!o.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",l=e.value;try{l=JSON.parse(l)}catch(e){}t[a]=l})),t},controls:[{placeholder:"Key",type:"text",unique:!0,name:"key",required:!0},{placeholder:"Value",type:"text",name:"value"}]},{label:"按 Esc 关闭弹框",type:"switch",name:"closeOnEsc",mode:"inline",className:"block",value:!1}]},{title:"外观",controls:[{label:"尺寸",type:"button-group",name:"size",size:"sm",className:"block",pipeIn:r.defaultValue(""),options:[{label:"小",value:"sm"},{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"超大",value:"xl"}]},{label:"是否显示关闭按钮",type:"switch",name:"showCloseButton",mode:"inline",className:"block",value:!0},r.getSchemaTplByName("className",{name:"headerClassName",label:"顶部 CSS 类名"}),r.getSchemaTplByName("className",{name:"bodyClassName",label:"内容 CSS 类名"})]}])},t.$schema="https://houtai.baidu.com/v2/schemas/dialog.json#",t}return l.__extends(t,e),t.prototype.pickChild=function(e){var t=this.context.editor,a=this.props,l=a.$path,i=a.$$id,n=a.actions,r=function(a){var l,n=t.get(i)[e];(n=Array.isArray(n)?n.concat():n?[n]:[]).push(o.JSONPipeIn(a)),t.update(i,((l={})[e]=n,l))};if("actions"===e)return r(n&&Array.isArray(n)&&n.some((function(e){return"confirm"===e.actionType}))?{type:"button",label:"取消",actionType:"cancel"}:{type:"button",label:"确认",actionType:"confirm",level:"primary"});t.pickRenderer(l+"/"+e,"","",r)},t.prototype.renderRenderer=function(e){var t=this.props.$$id,a=this.context.editorNode;return!t||a&&"global"!==a.id?i.default.createElement(this.Renderer,l.__assign({},e,{ref:this.childRef})):i.default.createElement(this.Renderer,l.__assign({},e,{wrapperComponent:c,onClose:o.noop,ref:this.childRef}))},t.prototype.onChildSettingsGet=function(e,t){if("form"===e)return l.__assign({title:"条件过滤",mode:"horizontal"},t)},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),!("action"===(a="actions"===a?"action":a)&&!~["button","submit","reset"].indexOf(t))&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.render=function(){var t=this.props,a=t.$$id,i=(t.activeId,t.hoverId,t.$$edittingDialog,l.__rest(t,["$$id","activeId","hoverId","$$edittingDialog"])),n=this.context.editorNode;return!a||n&&"global"!==n.id?this.renderRenderer(i):e.prototype.render.call(this)},t.prototype.renderChild=function(e,t,a){return(0,this.props.render)(e,t,l.__assign(l.__assign({},a),{$editor:this,regionRef:this.regionRef}))},t=l.__decorate([n.Editor("dialog",{type:"dialog"},{renderBody:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a||a.disabledContainers&&~a.disabledContainers.indexOf("body")||"number"==typeof e[1])return this.super.apply(this,e);var l=this.props.regionRef;return i.default.createElement(s.default,{key:e[1],ref:function(e){return l("body",e)},name:"body",label:"内容区",hostId:a.props.$$id},this.super.apply(this,e))},renderFooter:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a||a.disabledContainers&&~a.disabledContainers.indexOf("actions"))return this.super.apply(this,e);var l=this.super.apply(this,e),n=this.props.regionRef;if(!l)return l;var o=l.props.children.concat(),r=o.splice(1,o.length-1);return o.push(i.default.createElement(s.default,{className:"ae-Dialog-footerRegion",key:"actions",ref:function(e){return n("actions",e)},name:"actions",label:"按钮集合",hostId:a.props.$$id},r)),i.default.cloneElement(l,{children:o})}})],t)}(l.__importDefault(a(9)).default);t.DialogEditor=p;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.render=function(){var e=this.props.children;return i.default.createElement("div",{className:"b-a r h-full",style:{display:"flex",flexDirection:"column"}},e)},t}(i.default.Component)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiffEditorControlEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(22),r=a(2),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Diff Editor",t.$schema="https://houtai.baidu.com/v2/schemas/form/editor.json#",t.settingsSchema={title:"diff编辑器配置",controls:r.getSchemaTplByName("tabs",[{title:"常规",controls:[{type:"textarea",name:"diffValue",label:"左侧默认值",pipeOut:r.valuePipeOut,description:"支持使用 <code>\\${xxx}</code> 来获取变量"},{type:"textarea",name:"value",label:"右侧默认值",pipeOut:r.valuePipeOut},{label:"语言",name:"language",type:"select",value:"javascript",searchable:!0,options:o.availableLanguages.concat()}]},{title:"外观",controls:[{name:"size",type:"button-group",size:"xs",pipeIn:r.defaultValue(""),options:[{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"加大",value:"xl"},{label:"加加大",value:"xxl"}]},r.getSchemaTplByName("className")]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("diff-editor",{name:"diff编辑器",type:"diff-editor",description:"可以用来展示配置或者代码的 Diff 结果，同时还支持编辑。",tags:["展示"],previewSchema:{type:"diff-editor",diffValue:"a\nb\nc",value:"b\nc"},scaffold:{type:"diff-editor",label:"diff编辑器"}})],t)}(n.default);t.DiffEditorControlEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DividerEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Divider",t.settingsSchema={title:"分隔线配置",controls:o.getSchemaTplByName("tabs",[{title:"外观",controls:[o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("divider",{name:"分隔线",description:"用来展示一个分割线，可用来做视觉上的隔离。",previewSchema:{type:"divider",className:"m-t-none m-b-none"},type:"divider"})],t)}(n.default);t.DividerEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(4),r=a(2),s=a(4),p=a(5),c=l.__importDefault(a(11)),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Drawer",t.removable=!1,t.replaceable=!1,t.dropable=!0,t.containers=["body","actions"],t.containerLabels=["内容区","按钮集合"],t.regionDefaultNodes={actions:[{label:"确认",type:"button"},{label:"取消",type:"button"}]},t.settingsSchema={title:"抽出弹框配置",controls:r.getSchemaTplByName("tabs",[{title:"常规",controls:[{label:"标题",type:"text",name:"title"},{children:i.default.createElement(p.Button,{size:"sm",className:"m-b-sm",level:"info",block:!0,onClick:function(){t.pickChild("body")}},"新增内容")},{type:"divider"},{label:"位置",type:"button-group",name:"position",value:"right",size:"sm",mode:"inline",className:"block",options:[{label:"左",value:"left"},{label:"上",value:"top"},{label:"右",value:"right"},{label:"下",value:"bottom"}],description:"定义弹框从什么位置呼出"},{type:"switch",label:"数据映射",name:"data",mode:"inline",className:"w-full m-b-xs",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}},{type:"tpl",visibleOn:"!this.data",tpl:'<p class="text-sm text-muted">当没开启数据映射时，弹框中默认会拥有触发打开弹框按钮所在环境的所有数据。</p>'},{type:"combo",syncDefaultValue:!1,name:"data",visibleOn:"this.data",descriptionClassName:"help-block text-xs m-b-none",description:'<p>当开启数据映射时，弹框中的数据只会包含设置的部分，请绑定数据。如：<code>{"a": "\\${a}", "b": 2}</code></p><p>如果希望在默认的基础上定制，请先添加一个 Key 为 `&` Value 为 `\\$$` 作为第一行。</p><div>当值为 <code>__undefined</code>时，表示删除对应的字段，可以结合<code>{"&": "\\$$"}</code>来达到黑名单效果。</div>',multiple:!0,pipeIn:function(e){if(!o.isObject(e))return e;var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",l=e.value;try{l=JSON.parse(l)}catch(e){}t[a]=l})),t},controls:[{placeholder:"Key",type:"text",unique:!0,name:"key"},{placeholder:"Value",type:"text",name:"value"}]},{type:"switch",name:"closeOnOutside",label:"点击外部关闭弹框",mode:"inline",className:"block"},{label:"按 Esc 可关闭？",type:"switch",name:"closeOnEsc",mode:"inline",className:"block"}]},{title:"外观",controls:[{label:"尺寸",type:"button-group",name:"size",size:"sm",mode:"inline",className:"block",options:[{label:"超小",value:"xs"},{label:"小",value:"sm"},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"超大",value:"xl"}]},{type:"switch",name:"overlay",label:"是否显示蒙层",mode:"inline",className:"block",pipeIn:r.defaultValue(!0)},{type:"switch",name:"resizable",label:"可拉拽",mode:"inline",className:"block",pipeIn:r.defaultValue(!1),description:"定义弹框是否可拉拽调整大小"},r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{label:"bodyClassName 类名",name:"bodyClassName"})]}])},t.$schema="https://houtai.baidu.com/v2/schemas/drawer.json#",t}return l.__extends(t,e),t.prototype.pickChild=function(e){var t=this.context.editor,a=this.props,l=a.$path,i=a.$$id,n=a.actions,o=function(a){var l,n=t.get(i)[e];(n=Array.isArray(n)?n.concat():n?[n]:[]).push(s.JSONPipeIn(a)),t.update(i,((l={})[e]=n,l))};if("actions"===e)return o(n&&Array.isArray(n)&&n.some((function(e){return"confirm"===e.actionType}))?{type:"button",label:"取消",actionType:"cancel"}:{type:"button",label:"确认",actionType:"confirm",level:"primary"});t.pickRenderer(l+"/"+e,"","",o)},t.prototype.renderRenderer=function(e){var t=this.props.$$id,a=this.context.editorNode;return!t||a&&"global"!==a.id?i.default.createElement(this.Renderer,l.__assign({},e,{ref:this.childRef})):i.default.createElement(this.Renderer,l.__assign({},e,{wrapperComponent:m,onClose:o.noop,ref:this.childRef}))},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),!("action"===(a="actions"===a?"action":a)&&!~["button","submit","reset"].indexOf(t))&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.renderChild=function(e,t,a){return(0,this.props.render)(e,t,l.__assign(l.__assign({},a),{$editor:this,regionRef:this.regionRef}))},t.prototype.render=function(){var t=this.props,a=t.$$id,i=(t.activeId,t.hoverId,l.__rest(t,["$$id","activeId","hoverId"])),n=this.context.editorNode;return!a||n&&"global"!==n.id?this.renderRenderer(i):e.prototype.render.call(this)},t=l.__decorate([n.Editor("drawer",void 0,{renderBody:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a||"number"==typeof e[1])return this.super.apply(this,e);var l=this.props.regionRef;return i.default.createElement(c.default,{key:e[1],ref:function(e){return l("body",e)},name:"body",label:"内容区",hostId:a.props.$$id},this.super.apply(this,e))},renderFooter:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a)return this.super.apply(this,e);var l=this.props.regionRef,n=this.super.apply(this,e);return Array.isArray(n)||n?i.default.createElement(c.default,{ref:function(e){return l("actions",e)},name:"actions",label:"按钮集合",hostId:a.props.$$id},n):n}})],t)}(l.__importDefault(a(9)).default);t.DrawerEditor=d;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.render=function(){var e=this.props.children;return i.default.createElement("div",{className:"b-a r h-full ae-Drawer-preview"},e)},t}(i.default.Component)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownButtonEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=l.__importDefault(a(10)),p=l.__importDefault(a(9)),c=a(4),d=function(e){function t(t,a){var l=e.call(this,t,a)||this;return l.containers=["buttons"],l.settingsSchema={title:"按钮组配置",controls:l.props.$$contentMode?[{children:i.default.createElement("div",null,i.default.createElement(o.Button,{block:!0,level:"info",size:"sm",className:"m-t-sm m-b-sm",onClick:l.handleAdd.bind(l)},"添加菜单"))}]:[r.getSchemaTplByName("tabs",[{title:"常规",controls:[{children:i.default.createElement("div",null,i.default.createElement(o.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:l.handleEditDropDown.bind(l)},"配置下拉详情"))},{label:"名称",type:"text",name:"label"},{name:"closeOnOutside",label:"点击外部关闭",type:"switch",mode:"inline",className:"block",pipeIn:r.defaultValue(!0)},{name:"closeOnClick",label:"点击内容关闭",type:"switch",mode:"inline",className:"block"}]},{title:"外观",controls:[r.getSchemaTplByName("size"),{label:"展示样式",type:"button-group",size:"xs",name:"level",btnActiveClassName:"active",clearable:!1,options:[{label:"默认",value:"default",level:"default"},{label:"无",value:"link",level:"link"},{label:"主色",value:"primary",level:"primary"},{label:"提示",value:"info",level:"info"},{label:"成功",value:"success",level:"success"},{label:"警告",value:"warning",level:"warning"},{label:"严重",value:"danger",level:"danger"}]},r.getSchemaTplByName("className")]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("disabled"),r.getSchemaTplByName("visible")]}])]},l.tipName="DropDown Button",l.$schema="https://houtai.baidu.com/v2/schemas/dropdown-button.json#",l.toolbarBtns.splice(-1,0,{icon:"fa fa-paste",tooltip:"粘贴",id:"paste",test:function(e){var t=e.clipboard;return t&&l.acceptChild(t.type,"buttons")}},l.props.$$contentMode?{icon:"fa fa-plus",tooltip:"添加菜单",id:"add"}:{icon:"fa fa-expand",tooltip:"配置下拉按钮详情",id:"details"}),l}return l.__extends(t,e),t.prototype.handleToolbarAction=function(t){return"details"===t?this.handleEditDropDown():"add"===t?this.handleAdd():("paste"===t&&this.addChild("buttons",this.props.clipboard),void e.prototype.handleToolbarAction.call(this,t))},t.prototype.handleAdd=function(){this.pickChild("buttons","buttons",void 0,["button","divider"])},t.prototype.handleEditDropDown=function(){var e=this.context.editor,t=this.props.$$id,a=c.JSONPipeOut(e.get(t).buttons);e.openDialog("配置下拉按钮详情",{mode:"normal",type:"form",data:{buttons:a},controls:[{name:"buttons",children:function(t){var a=t.value,l=t.onChange;return i.default.createElement(s.default,{previewClassName:"wrapper-xs",autoFocus:!0,value:{buttons:a,type:"dropdown-button"},onChange:function(e){return l(e.buttons)},schemaFilter:e.schemaFilter,theme:e.theme,$$contentMode:!0})}}]},(function(a){return e.update(t,{buttons:c.JSONPipeIn(a.buttons)})}),"xl")},t.prototype.renderRenderer=function(t){if(this.props.$$contentMode){var a=this.props.render,n=this.props.buttons;return i.default.createElement("ul",{key:t.key,"data-editor-id":this.props.$$id,className:"dropdown-menu preview"},Array.isArray(n)?n.map((function(e,t){return i.default.createElement("li",{key:t},a("button/"+t,l.__assign(l.__assign({},e),{isMenuItem:!0})))})):null)}return e.prototype.renderRenderer.call(this,t)},t=l.__decorate([n.Editor("dropdown-button",{name:"下拉按钮",tags:["按钮"],icon:"fa fa-stop-circle",type:"dropdown-button",description:"下拉按钮，更多的按钮通过点击后展示开来。",previewSchema:{type:"dropdown-button",label:"下拉按钮",closeOnOutside:!1,buttons:[{type:"button",label:"按钮"}]},scaffold:{type:"dropdown-button",label:"下拉按钮",buttons:[{type:"button",label:"按钮1",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}},{type:"button",label:"按钮2",actionType:"dialog",dialog:{title:"系统提示",body:"对你点击了"}}]}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(p.default);t.DropDownButtonEditor=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EachEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(8)),r=a(5),s=a(2),p=a(4),c=a(4),d=l.__importDefault(a(10)),m=function(e){function t(t,a){var n=e.call(this,t)||this;return n.tipName="Each",n.$schema="https://houtai.baidu.com/v2/schemas/each.json#",n.settingsSchema={title:"循环控件配置",controls:n.props.$$contentMode?[{children:i.default.createElement(r.Button,{size:"sm",level:"info",className:"m-t-sm m-b-sm",onClick:function(){n.pickChild("item/0","items")},block:!0},"新增内容")}]:s.getSchemaTplByName("tabs",[{title:"常规",controls:[{type:"text",name:"name",label:"字段名",description:"指定变量，目标可以是数组或者对象"},{children:i.default.createElement(r.Button,{size:"sm",level:"danger",className:"m-b",onClick:n.handleEditItem.bind(n),block:!0},"配置单条详情")}]},{title:"外观",controls:[s.getSchemaTplByName("className")]},{title:"其他",controls:[s.getSchemaTplByName("ref"),s.getSchemaTplByName("visible")]}])},n.state=l.__assign({},n.modifyProps(t,a)),n.props.$$contentMode||n.toolbarBtns.splice(-1,0,{icon:"fa fa-expand",tooltip:"配置单条详情",id:"edit-contents"}),n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;c.anyChanged(["items","$$contentMode"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.handleToolbarAction=function(t){return"edit-contents"===t?this.handleEditItem():("add"===t&&this.handleAdd(),e.prototype.handleToolbarAction.call(this,t))},t.prototype.modifyProps=function(e,t){var a=this;void 0===t&&(t=this.context);var l=e.items,i=e.$$contentMode,n=e.$$id,o=t.editor.getActiveId();return i?o===n&&(l&&!Array.isArray(l)&&(l=[l]),l=this.attachAddBtn(l,[this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.pickChild("item/0","items")}),"在内容区新增内容")])):l=Array.isArray(l)?l.map((function(e){return p.JSONPipeOut(e)})):p.JSONPipeOut(l),{items:l}},t.prototype.handleAdd=function(){this.pickChild("body","items",void 0,void 0,!0)},t.prototype.handleEditItem=function(){var e=this.context.editor,t=this.props,a=t.$$id,l=t.data,n=t.value,o=p.JSONPipeOut(e.get(a)),s=o.items,m=o.name,u=void 0!==n?c.isObject(n)?Object.keys(n).map((function(e){return{key:e,value:n[e]}})):Array.isArray(n)?n:[]:r.resolveVariable(m,l)||[];e.openDialog("配置单条详情",{type:"form",mode:"normal",data:{items:s},controls:[{name:"items",children:function(t){var a=t.value,l=t.onChange;return i.default.createElement(d.default,{autoFocus:!0,previewClassName:"padder-md p-t-xs",value:{type:"each",name:m,items:a||[]},onChange:function(e){return l(e.items)},previewProps:{onChange:c.noop,value:[u[0]||{}]},$$contentMode:!0,$$codeEditable:!1,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(t){return e.update(a,{items:p.JSONPipeIn(t.items)})}),"xl")},t=l.__decorate([n.Editor("each",{name:"循环 Each",description:"功能渲染器，可以基于现有变量循环输出渲染器。",tags:["功能"],type:"each",previewSchema:{type:"each",name:"arr",value:[1,2,3],items:{type:"tpl",tpl:"内容<%= data.item %> "}},scaffold:{type:"each",name:"arr",value:[1],items:{type:"tpl",tpl:"内容"}}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(o.default);t.EachEditor=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=l.__importDefault(a(11)),p=function(e){function t(t,a){var l=e.call(this,t,a)||this;return l.tipName="Grid",l.$schema="https://houtai.baidu.com/v2/schemas/grid.json#",l.settingsSchema={title:"Grid 配置",controls:[{children:i.default.createElement(o.Button,{level:"info",size:"sm",className:"m-t-sm m-b-sm",onClick:l.handleAdd.bind(l),block:!0},"新增一列")},{name:"columns",type:"combo",label:"列宽度配置",multiple:!0,removable:!0,addable:!1,multiLine:!0,minLength:1,controls:[{type:"switch",name:"mode",label:"自动分配",mode:"inline",className:"block",pipeIn:r.defaultValue(!0),columnClassName:"w-xs v-middle"},{type:"tabs",visibleOn:"!data.mode",tabs:[{title:"xs",controls:[{type:"switch",name:"xsHidden",label:"是否隐藏",mode:"inline",className:"block",pipeIn:r.defaultValue("false")},{label:"宽度占比",type:"range",name:"xs",min:1,max:12,step:1,pipeIn:r.defaultValue(6)},{label:"偏移量",type:"range",name:"xsOffset",min:0,max:11,step:1},{label:"靠左的距离",type:"range",name:"xsPull",min:0,max:11,step:1},{label:"靠右的距离",type:"range",name:"xsPush",min:0,max:11,step:1}]},{title:"sm",controls:[{type:"switch",name:"xsHidden",label:"是否隐藏",mode:"inline",className:"block",pipeIn:r.defaultValue("false")},{label:"宽度占比",type:"range",name:"sm",min:1,max:12,step:1,pipeIn:r.defaultValue(6)},{label:"偏移量",type:"range",name:"smOffset",min:0,max:11,step:1},{label:"靠左的距离",type:"range",name:"smPull",min:0,max:11,step:1},{label:"靠右的距离",type:"range",name:"smPush",min:0,max:11,step:1}]},{title:"md",controls:[{type:"switch",name:"mdHidden",label:"是否隐藏",mode:"inline",className:"block",pipeIn:r.defaultValue("false")},{label:"宽度占比",type:"range",name:"md",min:1,max:12,step:1,pipeIn:r.defaultValue(6)},{label:"偏移量",type:"range",name:"mdOffset",min:0,max:11,step:1},{label:"靠左的距离",type:"range",name:"mdPull",min:0,max:11,step:1},{label:"靠右的距离",type:"range",name:"mdPush",min:0,max:11,step:1}]},{title:"lg",controls:[{type:"switch",name:"lgHidden",label:"是否隐藏",mode:"inline",className:"block",pipeIn:r.defaultValue("false")},{label:"宽度占比",type:"range",name:"lg",min:1,max:12,step:1,pipeIn:r.defaultValue(6)},{label:"偏移量",type:"range",name:"lgOffset",min:0,max:11,step:1},{label:"靠左的距离",type:"range",name:"lgPull",min:0,max:11,step:1},{label:"靠右的距离",type:"range",name:"lgPush",min:0,max:11,step:1}]}]}]},r.getSchemaTplByName("className"),{name:"columns",label:"各列 CSS 类名",type:"combo",addable:!1,removable:!1,multiple:!0,controls:[r.getSchemaTplByName("className",{label:!1,name:"columnClassName"})]}]},l.containers=["columns"],l.containerLabels=["内容区"],l.dropable=!0,l.toolbarBtns.splice(-1,0,{icon:"fa fa-plus",tooltip:"添加一列",id:"add"}),l.acceptChild=l.acceptChild.bind(l),l.handleAdd=l.handleAdd.bind(l),l}return l.__extends(t,e),t.prototype.handleToolbarAction=function(t){if("add"===t)return this.handleAdd();"paste"===t&&this.addChild("columns",this.props.clipboard),e.prototype.handleToolbarAction.call(this,t)},t.prototype.handleAdd=function(){this.pickChild("columns","columns",void 0,this.acceptChild,!0)},t.prototype.acceptChild=function(t,a,l){void 0===a&&(a="body");for(var i=this.context.editorNode;i&&i.component instanceof s.default;)i=i.component.context.editorNode;return i&&i.component&&i.component.acceptChild?i.component.acceptChild(t,a,l):e.prototype.acceptChild.call(this,t,a,l)},t=l.__decorate([n.Editor("grid",{name:"Grid格子布局",description:"用来做格子布局的，将一行分成12等份，可以给每一列设置占比。",type:"grid",tags:["容器"],icon:"fa fa-columns",previewSchema:{type:"grid",columns:[{type:"tpl",tpl:"占比 4/12",inline:!1,sm:4,md:4,className:"bg-primary"},{type:"tpl",tpl:"占比 8/12",className:"bg-info",inline:!1,sm:8,md:8}]},scaffold:{type:"grid",columns:[{type:"tpl",tpl:"第一列"},{type:"tpl",tpl:"第二列"}]}},{renderColumns:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a)return this.super.apply(this,e);var l=this.props.regionRef;return i.default.createElement(s.default,{ref:function(e){return l("columns",e)},name:"columns",label:"内容区",hostId:a.props.$$id},this.super.apply(this,e))}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(l.__importDefault(a(9)).default);t.GridEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HBoxEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=l.__importDefault(a(9)),p=l.__importDefault(a(11)),c=function(e){function t(t,a){var l=e.call(this,t,a)||this;return l.tipName="HBox",l.$schema="https://houtai.baidu.com/v2/schemas/hbox.json#",l.settingsSchema={title:"HBox配置",controls:r.getSchemaTplByName("tabs",[{title:"常规",controls:[{children:i.default.createElement("div",null,i.default.createElement(o.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:l.handleAdd.bind(l)},"新增一列"))}]},{title:"外观",controls:[{name:"columns",label:"各列 CSS 类名",type:"combo",addable:!1,removable:!1,multiple:!0,controls:[r.getSchemaTplByName("className",{name:"columnClassName",labelRemark:"",label:""})]},r.getSchemaTplByName("className")]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("visible")]}])},l.toolbarBtns.splice(-1,0,{icon:"fa fa-paste",tooltip:"粘贴",id:"paste",test:function(e){var t=e.clipboard;return t&&l.acceptChild(t.type,"columns")}},{icon:"fa fa-plus",tooltip:"添加一列",id:"add"}),l}return l.__extends(t,e),t.prototype.handleToolbarAction=function(t){if("add"===t)return this.handleAdd();"paste"===t&&this.addChild("columns",this.props.clipboard),e.prototype.handleToolbarAction.call(this,t)},t.prototype.handleAdd=function(){this.pickChild("columns","columns",void 0,this.acceptChild)},t.prototype.acceptChild=function(t,a,l){void 0===a&&(a="body");for(var i=this.context.editorNode;i&&i.component instanceof p.default;)i=i.component.context.editorNode;return i&&i.component&&i.component.acceptChild?i.component.acceptChild(t,a,l):e.prototype.acceptChild.call(this,t,a,l)},t=l.__decorate([n.Editor("hbox",{name:"左右布局",type:"hbox",icon:"fa fa-columns",tags:["容器"],description:"用来实现左右排版布局，默认平均分配，可以通过 columnClassName 配置某列的宽度。",previewSchema:{type:"hbox",columns:[{type:"tpl",tpl:"固定宽度<br />w-xs",columnClassName:"bg-primary w-xs"},{type:"tpl",tpl:"自动填满",columnClassName:"bg-info"}]},scaffold:{type:"hbox",columns:[{type:"tpl",tpl:"第一列"},{type:"tpl",tpl:"第二列"}]}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(s.default);t.HBoxEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(8)),r=a(2),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="iFrame",t.$schema="https://houtai.baidu.com/v2/schemas/iframe.json#",t.settingsSchema={title:"iFrame配置",controls:r.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"src",label:"页面地址",type:"text",description:""}]},{title:"外观",controls:[{name:"width",label:"iFrame 宽度",type:"text",pipeIn:r.defaultValue("100%"),pipeOut:r.valuePipeOut},{name:"height",label:"iFrame 高度",type:"text",pipeOut:r.valuePipeOut},r.getSchemaTplByName("className")]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t.prototype.renderRenderer=function(t){var a=this.props.$$id;return i.default.createElement("div",{className:"ae-Widget-iframe","data-editor-id":a,key:t.key},e.prototype.renderRenderer.call(this,t))},t=l.__decorate([n.Editor("iframe",{name:"iFrame",type:"iframe",description:"可以用来嵌入现有页面。",previewSchema:{type:"tpl",tpl:"iFrame"},scaffold:{type:"iframe",src:"//www.baidu.com"}})],t)}(o.default);t.IFrameEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Image",t.$schema="https://houtai.baidu.com/v2/schemas/image.json#",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"图片配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{name:"title",type:"text",label:"图片标题"},{name:"description",type:"text",label:"图片描述"},{name:"defaultImage",pipeIn:o.defaultValue("https://fex.bdstatic.com/n/static/amis/renderers/crud/field/placeholder_cfad9b1.png"),label:"默认图片地址",type:"text"},t.isUnderField?null:{name:"src",type:"text",label:"图片地址, 支持取变量。",description:"如果已绑定字段名，可以不用设置"}]},{title:"外观",controls:[{name:"className",label:"展示样式",type:"select",pipeIn:function(e){return/\b(thumb\-(?:sm|md|lg|xl))\b/.test(e)?RegExp.$1:void 0===e?"thumb-lg":""},pipeOut:function(e,t){return t?t.replace(/\b(thumb\-(?:sm|md|lg|xl))\b/,e):e},options:[{label:"小缩略图",value:"thumb-sm"},{label:"中缩略图",value:"thumb-md"},{label:"大缩略图",value:"thumb-lg"},{label:"超大缩略图",value:"thumb-xl"},{label:"无",value:""}]},o.getSchemaTplByName("className",{autoComplete:!1,pipeIn:o.defaultValue("thumb-lg")}),o.getSchemaTplByName("className",{name:"imageClassName",label:"图片 CSS 类名",pipeIn:o.defaultValue("r")})]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("image",{name:"图片展示",tags:["展示"],description:"可以用来展示一张图片，支持静态设置图片地址，也可以配置 <code>name</code> 与变量关联。",previewSchema:{type:"image",className:"w-sm inline",imageClassName:"r w-full",src:"https://fex.bdstatic.com/n/static/amis/renderers/crud/field/placeholder_cfad9b1.png"},type:"image"})],t)}(n.default);t.ImageEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=a(6),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Json",t.$schema="https://houtai.baidu.com/v2/schemas/json.json#",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"Json配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:r([t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{name:"levelExpand",type:"number",label:"默认展开级别",pipeIn:o.defaultValue(1)}])},{title:"外观",controls:r([o.getSchemaTplByName("className")])},{title:"其他",controls:r([o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")])}])]},t}return l.__extends(t,e),t=l.__decorate([i.Editor("json",{name:"JSON展示",description:"用来展示 JSON 数据。",tags:["展示"],previewSchema:{type:"json",name:"json",value:{a:1,b:{c:2}}},type:"json"})],t)}(n.default);t.JsonEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Link",t.$schema="https://houtai.baidu.com/v2/schemas/link.json#",t.settingsSchema={title:"链接配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"href",type:"text",label:"目标地址, 支持取变量。",description:"如果已绑定字段名，可以不用设置"},{name:"body",type:"text",label:"内容",description:"不填写时，自动使用目标地址值"},{name:"blank",type:"switch",label:"是否新窗口打开",mode:"inline",className:"w-full"}]},{title:"外观",controls:[o.getSchemaTplByName("className",{autoComplete:!1})]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("link",{name:"链接",icon:"fa fa-link",description:"用来展示文字链接",tags:["展示"],previewSchema:{type:"link",value:"http://www.baidu.com/"},type:"link"})],t)}(n.default);t.LinkEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListItemFieldEditor=t.ListItemEditor=t.ListEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(8)),r=a(5),s=a(2),p=a(4),c=a(4),d=l.__importDefault(a(10)),m=a(12),u=a(17),h=function(e){function t(t,a){var n=e.call(this,t,a)||this;return n.tipName="List",n.$schema="https://houtai.baidu.com/v2/schemas/list.json#",n.isCRUDBody=/\/crud\/body\/list$/.test(n.props.$path),n.isUnderField=/\/field\/\w+$/.test(n.props.$path),n.dropable=!0,n.containers=["header","footer"],n.settingsSchema={title:"列表配置",controls:s.getSchemaTplByName("tabs",[{title:"常规",controls:[n.isCRUDBody?{type:"tpl",className:"text-info text-sm",tpl:"<p>当前选中为 CRUD 中的 List 部分，选中父级 CRUD 还有更多配置，可以在导航中切换，也可以在 List 右顶工具栏点击【选择上层】或者按快捷键【shift + ↑】切换。</p>"}:null,n.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{type:"divider"},{children:i.default.createElement("div",{className:"m-b"},i.default.createElement(r.Button,{level:"success",size:"sm",block:!0,onClick:function(){return n.handleEditlistItem()}},"配置单项信息"))},{type:"divider"},{name:"title",type:"text",label:"标题"},n.isCRUDBody?null:{name:"source",type:"text",label:"数据源",pipeIn:s.defaultValue("${items}"),description:"绑定当前环境变量",test:!n.isCRUDBody},{name:"placeholder",pipeIn:s.defaultValue("没有数据"),type:"text",label:"无数据提示"}]},{title:"外观",controls:[{name:"showHeader",type:"switch",mode:"inline",className:"block",label:"是否显示头部",pipeIn:s.defaultValue(!0)},{name:"showFooter",type:"switch",mode:"inline",className:"block",label:"是否显示底部",pipeIn:s.defaultValue(!0)},s.getSchemaTplByName("className",{label:"CSS 类名"}),s.getSchemaTplByName("className",{name:"headerClassName",label:"头部 CSS 类名"}),s.getSchemaTplByName("className",{name:"footerClassName",label:"底部 CSS 类名"})]},{title:"其他",controls:[s.getSchemaTplByName("ref"),s.getSchemaTplByName("visible")]}])},n.state=l.__assign({},n.modifyProps(t,a)),t.$$contentMode||n.toolbarBtns.push({icon:"fa fa-expand",tooltip:"配置单项信息",placement:"left",id:"edit-contents"}),n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;p.anyChanged(["header","footer","listItem"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.modifyProps=function(e,t){var a=this;void 0===t&&(t=this.context);var l=e.header,n=e.footer,o=e.data,r=e.listItem,s=e.clipboard,p=e.$$id,d=e.$$contentMode,m=t.editor,u=m.getActiveId(),h=m.getDropId();if(d||(r=c.JSONPipeOut(r)),u!==p&&h!==p||d)return{header:l,footer:n,data:o,listItem:r};var b=h===p;return{header:l=this.attachAddBtn(l,b?i.default.createElement("span",null):[s&&this.acceptChild(s.type,"header")?this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.pickChild("header")}),"粘贴","fa fa-paste"):null,this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.pickChild("header")}),"在顶部新增内容")]),footer:n=this.attachAddBtn(n,b?i.default.createElement("span",null):[s&&this.acceptChild(s.type,"footer")?this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.addChild("footer",s)}),"粘贴","fa fa-paste"):null,this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.pickChild("footer")}),"在底部新增内容")]),data:o,listItem:r}},t.prototype.handleToolbarAction=function(t){if("edit-contents"===t)return this.handleEditlistItem();e.prototype.handleToolbarAction.call(this,t)},t.prototype.handleEditlistItem=function(){var e,t=this.context.editor,a=this.props.$$id,n={};this.ref&&(e=this.ref.props.store)&&e.items[0]&&(n=e.items[0].data);var o=c.JSONPipeOut(t.get(a).listItem);t.openDialog("配置单条信息",{type:"form",mode:"normal",data:{listItem:o},controls:[{name:"listItem",children:function(e){var a=e.value,o=e.onChange;return i.default.createElement(d.default,{previewClassName:"wrapper-xs",pathPrefix:"list/body",autoFocus:!0,value:l.__assign(l.__assign({},a),{type:"list-item"}),onChange:function(e){return o(e)},$$contentMode:!0,data:n,schemaFilter:t.schemaFilter,theme:t.theme})}}]},(function(e){return t.update(a,{listItem:c.JSONPipeIn(e.listItem)})}),"xl")},t=l.__decorate([n.Editor("list",{name:"列表",type:"list",description:"展示一个列表，可以自定标题、副标题，内容及按钮组部分。当前组件需要配置数据源，不自带数据拉取，请优先使用 「CRUD」 组件。",previewSchema:{type:"list",className:"text-left m-b-none",items:[{a:1,b:2},{a:3,b:4},{a:5,b:6}],listItem:{body:[{type:"tpl",tpl:"简单的展示数据：$a $b"}],actions:[{icon:"fa fa-eye",type:"button"}]}},icon:"fa fa-list",scaffold:{type:"list",listItem:{title:"标题"}}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(l.__importDefault(a(9)).default);t.ListEditor=h;var b=function(e){function t(t,a){var n=e.call(this,t)||this;return n.tipName="ListItem",n.$schema="https://houtai.baidu.com/v2/schemas/list.json#",n.containers=["body"],n.handleAdd=function(){return n.pickChild("field","body",(function(e,t,a){var i=a.get(t).body;i=Array.isArray(i)?i.concat():i?[i]:[],e=c.JSONPipeIn(e),~["html","tpl","text","plain"].indexOf(e.type)&&(e=l.__assign(l.__assign({},e),{tpl:""})),e.label="字段说明",i.push(e),a.update(t,{body:i})}),p.blackList(["form","button","submit","reset","table","crud","divider","page","wizard"]),!1,["plain","mapping","operation","date","status","switch","image","operation","tpl","container"])},n.settingsSchema={title:"列表单行配置",controls:[s.getSchemaTplByName("tabs",[{title:"基本",controls:[{children:i.default.createElement(r.Button,{size:"sm",className:"m-b-sm",level:"info",block:!0,onClick:function(){n.pickChild("actions","actions",void 0,["button"])}},"新增按钮")},{children:i.default.createElement("div",null,i.default.createElement(r.Button,{level:"primary",size:"sm",block:!0,onClick:n.handleAdd},"新增内容"))},{type:"divider"},{name:"title",type:"text",label:"标题",descrition:"支持模板语法如： ${xxx}"},{name:"subTitle",type:"text",label:"副标题",descrition:"支持模板语法如： ${xxx}"},{name:"avatar",type:"text",label:"图片地址",descrition:"支持模板语法如： ${xxx}"},{name:"desc",type:"textarea",label:"描述",descrition:"支持模板语法如： ${xxx}"}]},{title:"外观",controls:[s.getSchemaTplByName("className",{name:"avatarClassName",label:"图片 CSS 类名",pipeIn:s.defaultValue("thumb-sm avatar m-r")}),s.getSchemaTplByName("className",{name:"titleClassName",label:"标题 CSS 类名"})]}])]},n.state=l.__assign({},n.modifyProps(t,a)),n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;p.anyChanged(["body","actions"],t,e)&&this.setState(l.__assign({},this.modifyProps(e)))},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.modifyProps=function(e,t){var a=this;void 0===t&&(t=this.context);var i=e.body,n=e.$$id,o=e.clipboard,r=t.editor;return r.getActiveId()!==n?{body:i}:{body:i=this.attachAddBtn(i,[o&&this.acceptChild(o.type,"field")?this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.addChild("body",o)}),"粘贴","fa fa-paste"):null,this.renderButton((function(e){e.stopPropagation(),e.preventDefault(),a.pickChild("field","body",(function(e){var t;e=l.__assign({label:"Label"},e);var a=r.get(n).body;a=Array.isArray(a)?a.concat():a?[a]:[],e=c.JSONPipeIn(e),~["html","tpl","text","plain"].indexOf(e.type)&&(e=l.__assign(l.__assign({},e),{tpl:""})),a.push(e),r.update(n,((t={}).body=a,t))}),p.blackList(["form","button","submit","reset","table","crud","divider","page","wizard"]))}),"在内容区新增字段")])}},t=l.__decorate([n.Editor("list-item",{type:"list-item"}),l.__metadata("design:paramtypes",[Object,Object])],t)}(o.default);t.ListItemEditor=b;var f=Math.round(Date.now()/1e3),y=function(e){function t(t,a){var n=e.call(this,t)||this;n.tipName="Field",n.replaceable=!1,n.settingsSchema={title:"字段配置",controls:[s.getSchemaTplByName("tabs",[{title:"常规",controls:[{type:"tpl",className:"text-info text-sm",tpl:"<p>注意：当前面板只能配置当前字段相关的信息，如需配置具体的内容，请在预览区或者在导航中选择子内容再进行编辑。</p>"},{name:"label",label:"名称（Label）",type:"text"},{name:"name",type:"text",label:"绑定字段名"},{name:"value",label:"调试值",type:"text",pipeOut:s.valuePipeOut},{name:"placeholder",type:"text",label:"占位符",pipeIn:s.defaultValue("没有数据"),description:"当没有值时用这个来替代展示"}]},{title:"高级",controls:[{name:"quickEdit",label:"启用快速编辑",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{visibleOn:"data.quickEdit",name:"quickEdit.mode",type:"button-group",value:"popOver",label:"快速编辑模式",size:"xs",mode:"inline",className:"w-full",options:[{label:"下拉",value:"popOver"},{label:"内嵌",value:"inline"}]},{visibleOn:"data.quickEdit",name:"quickEdit.saveImmediately",label:"是否立即保存",type:"switch",mode:"inline",className:"w-full",description:"开启后修改即提交，而不是标记修改批量提交。",descriptionClassName:"help-block m-b-none",pipeIn:function(e){return!!e}},s.getSchemaTplByName("api",{label:"立即保存接口",description:"是否单独给立即保存配置接口，如果不配置，则默认使用quickSaveItemApi。",name:"quickEdit.saveImmediately.api",visibleOn:"quickEdit.saveImmediately"}),{visibleOn:"data.quickEdit",children:i.default.createElement(r.Button,{level:"info",className:"m-b",size:"sm",block:!0,onClick:n.handleQuickEditSetting.bind(n)},"配置快速编辑方式")},{name:"popOver",label:"启用查看更多展示",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{name:"popOver.mode",label:"查看更多弹出模式",type:"select",visibleOn:"data.popOver",pipeIn:s.defaultValue("popOver"),options:[{label:"默认",value:"popOver"},{label:"弹框",value:"dialog"},{label:"抽出式弹框",value:"drawer"}]},{name:"popOver.position",label:"查看更多弹出模式",type:"select",visibleOn:'!data.popOver.mode || data.popOver.mode === "popOver"',pipeIn:s.defaultValue("center"),options:[{label:"目标中部",value:"center"},{label:"目标左上角",value:"left-top"},{label:"目标右上角",value:"right-top"},{label:"目标左下角",value:"left-bottom"},{label:"目标右下角",value:"right-bottom"},{label:"页面左上角",value:"fixed-left-top"},{label:"页面右上角",value:"fixed-right-top"},{label:"页面左下角",value:"fixed-left-bottom"},{label:"页面右下角",value:"fixed-right-bottom"}]},{visibleOn:"data.popOver",children:i.default.createElement(r.Button,{level:"info",className:"m-b",block:!0,onClick:n.handlePopOverSetting.bind(n)},"查看更多内容配置")},{name:"copyable",label:"启用内容复制功能",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{visibleOn:"data.copyable",name:"copyable.content",type:"textarea",label:"复制内容模板",description:"默认为当前字段值，可定制。"}]},{title:"外观",controls:[s.getSchemaTplByName("className",{name:"labelClassName",label:"Label 的 CSS 类名",pipeIn:s.defaultValue("pull-left w-xs text-muted")}),s.getSchemaTplByName("className")]}])]},n.childrenOrder=["plain","mapping","operation","date","status","switch","image","operation","tpl","container"];var o=t.field.type,c=t.value;return c||(c="内容示例","image"===o?c="":~["date","datetime","time"].indexOf(o)?c=f:"progress"===o?c=85.6:"status"===o?c=!0:"operation"===o&&(c="")),n.state=l.__assign(l.__assign({},n.modifyProps(t,a)),{value:c,onQuickChange:p.noop}),n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;p.anyChanged(["quickEdit","popOver"],t,e)&&this.setState(l.__assign({},this.modifyProps(e))),t.value!==e.value&&this.setState({value:e.value})},t.prototype.editorWillUpdate=function(t,a,i){if(!1===e.prototype.editorWillUpdate.call(this,t,a,i))return!1;this.setState(l.__assign({},this.modifyProps(this.props)))},t.prototype.modifyProps=function(e,t){void 0===t&&(t=this.context);var a=e.quickEdit,l=e.popOver;t.editor;return{quickEdit:a=c.JSONPipeOut(a),popOver:l=c.JSONPipeOut(l)}},t.prototype.deleteSelf=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-field$/,""),a=e.getActiveId();e.delete(t),a===t&&e.unSelectEditor()},t.prototype.onChildSettingsGet=function(e,t){return l.__assign(l.__assign({},t),{className:t.innerClassName})},t.prototype.onChildSettingsSet=function(e,t,a,i){return i?l.__assign(l.__assign({},u(a,["label","name","sortable","quickEdit","toggled","copyable","popOver","width","breakpoint"])),t):l.__assign(l.__assign({},t),{innerClassName:t.className,className:a.className})},t.prototype.getSettingsValue=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-field$/,"");return l.__assign(l.__assign({},e.get(t)),{value:this.state.value})},t.prototype.setSettingsValue=function(e){var t=this.context.editor,a=this.props.$$id.replace(/\-field$/,""),i=(e=l.__assign({},e)).value;delete e.value,this.mounted&&this.setState({value:i}),t.update(a,e,void 0,"form")},t.prototype.handleQuickEditSetting=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-field$/,""),a=c.JSONPipeOut(e.get(t).quickEdit),n=this.props.data;!0===a&&(a={}),a=l.__assign({type:"text",name:this.props.name},a),e.openDialog("配置快速编辑类型",{type:"form",mode:"normal",data:{quickEdit:a},controls:[{name:"quickEdit",children:function(t){var a=t.value,o=t.onChange;return i.default.createElement(d.default,{previewClassName:"padder-md p-t-xs",pathPrefix:"/page/body/form/0/control",autoFocus:!0,value:l.__assign(l.__assign({},a),{$$replaceable:!0}),onChange:o,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{quickEdit:m(c.JSONPipeIn(a.quickEdit),["$$replaceable"])})}),"xl")},t.prototype.handlePopOverSetting=function(){var e=this.context.editor,t=this.props.$$id.replace(/\-column$/,""),a=c.JSONPipeOut(e.get(t).popOver),n=this.props.data;!0===a&&(a={}),a=l.__assign({title:"查看详情",body:"内容详情"},a),e.openDialog("配置查看更多展示内容",{type:"form",mode:"normal",data:{popOver:a},controls:[{name:"popOver",children:function(t){var a=t.value,o=t.onChange;return i.default.createElement(d.default,{autoFocus:!0,previewClassName:"wrapper-xs",value:l.__assign(l.__assign({},a),{type:"panel",$$replaceable:!0}),onChange:o,data:n,schemaFilter:e.schemaFilter,theme:e.theme})}}]},(function(a){return e.update(t,{popOver:m(c.JSONPipeIn(a.popOver),["$$replaceable","type"])})}),"xl")},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),!["form","button","submit","reset","table","crud","divider","page","wizard"].indexOf(t)&&e.prototype.acceptChild.call(this,t,a,l)},t.prototype.renderRenderer=function(t){return e.prototype.renderRenderer.call(this,l.__assign(l.__assign({},t),{$$movable:!1}))},t=l.__decorate([n.Editor("list-item-field"),l.__metadata("design:paramtypes",[Object,Object])],t)}(o.default);t.ListItemFieldEditor=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusFieldEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=a(4),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Mapping",t.$schema="https://houtai.baidu.com/v2/schemas/mapping.json#",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"映射配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{label:"映射表",type:"combo",required:!0,name:"map",descriptionClassName:"help-block text-xs m-b-none",description:"<p>当值命中左侧 Key 时，展示右侧内容，当没有命中时，默认实现 Key 为 <code>*</code>的内容</div>",multiple:!0,pipeIn:function(e){if(!r.isObject(e))return[{key:"*",value:"通配值"}];var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",l=e.value;try{l=JSON.parse(l)}catch(e){}t[a]=l})),t},controls:[{placeholder:"Key",type:"text",unique:!0,name:"key",required:!0,columnClassName:"w-xs"},{placeholder:"内容",type:"text",name:"value"}]},{name:"placeholder",type:"text",pipeIn:o.defaultValue("-"),label:"占位符"}]},{title:"外观",controls:[o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("mapping",{name:"映射",type:"mapping",tags:["展示"],description:"对现有值做映射展示，比如原始值是：1、2、3...，需要展示成：下线、上线、过期等等。",previewSchema:{type:"mapping",value:1,map:{1:'<span class="label label-success">上线</span>'}},scaffold:{type:"mapping",label:"映射",value:2,map:{0:'<span class="label label-info">一</span>',1:'<span class="label label-success">二</span>',2:'<span class="label label-danger">三</span>',3:'<span class="label label-warning">四</span>',4:'<span class="label label-primary">五</span>',"*":'<span class="label label-default">-</span>'}}})],t)}(n.default);t.StatusFieldEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Nav",t.$schema="https://houtai.baidu.com/v2/schemas/nav.json#",t.settingsSchema={title:"导航配置",definitions:{links:{label:"菜单管理",name:"links",type:"combo",multiple:!0,draggable:!0,addButtonText:"新增菜单",multiLine:!0,messages:{validateFailed:"菜单中存在配置错误，请仔细检查"},scaffold:{label:"",to:""},controls:[{type:"text",name:"label",label:"名称",required:!0},{type:"text",name:"to",label:"跳转地址",required:!0},{type:"icon-picker",name:"icon",label:"图标"},{type:"group",label:"是否高亮",direction:"vertical",className:"m-b-none",labelRemark:{trigger:"click",rootClose:!0,className:"m-l-xs",content:"可以配置该菜单是否要高亮",placement:"right"},controls:[{name:"active",type:"radios",inline:!0,options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"activeOn",autoComplete:!1,visibleOn:'typeof this.active !== "boolean"',type:"text",placeholder:"留空将自动分析菜单地址",className:"m-t-n-sm"}]},{type:"switch",label:"包含子菜单",name:"children",mode:"inline",className:"block",pipeIn:function(e){return!!e},pipeOut:function(e){return e?[{label:"",to:""}]:void 0},messages:{validateFailed:"子菜单中存在配置错误，请仔细检查"}},{name:"children",$ref:"links",visibleOn:'this.hasOwnProperty("children") && this.children',label:"子菜单管理",addButtonText:"新增子菜单"}]}},controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{$ref:"links",name:"links"},{type:"divider"},o.getSchemaTplByName("api",{name:"source",label:"获取菜单接口",description:"如果菜单地址希望可以动态设置，请在此填入接口地址"})]},{title:"外观",controls:[{name:"stacked",type:"switch",mode:"inline",className:"block",label:"是否竖着摆放"},o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("nav",{name:"导航",description:"用来渲染导航菜单，支持横排和竖排。",type:"nav",previewSchema:{type:"nav",stacked:!0,className:"text-left",links:[{label:"页面1"},{label:"页面2"},{label:"页面3",active:!0,children:[{label:"页面4"},{label:"页面5"}]}]},scaffold:{type:"nav",stacked:!0,links:[{label:"页面1",to:"?id=1"},{label:"页面2",to:"?id=2"}]}})],t)}(n.default);t.NavigationEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OperationEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(5),r=a(2),s=function(e){function t(t,a){var l=e.call(this,t,a)||this;return l.tipName="Operation",l.$schema="https://houtai.baidu.com/v2/schemas/operation.json#",l.isUnderField=/\/field\/\w+$/.test(l.props.$path),l.settingsSchema={title:"操作栏配置",controls:[l.isUnderField?{type:"tpl",inline:!1,className:"m-t-sm text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{children:i.default.createElement("div",null,i.default.createElement(o.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:l.handleAdd.bind(l)},"添加按钮"))},r.getSchemaTplByName("className")]},l.toolbarBtns.splice(-1,0,{icon:"fa fa-paste",tooltip:"粘贴",id:"paste",test:function(e){var t=e.clipboard;return t&&l.acceptChild(t.type,"buttons")}},{icon:"fa fa-plus",tooltip:"添加按钮",id:"add"}),l}return l.__extends(t,e),t.prototype.handleToolbarAction=function(t){if("add"===t)return this.handleAdd();"paste"===t&&this.addChild("buttons",this.props.clipboard),e.prototype.handleToolbarAction.call(this,t)},t.prototype.handleAdd=function(){this.pickChild("buttons","buttons",void 0,["button","button-group"])},t.prototype.onChildSettingsGet=function(e,t){if("button"===e||"button-group"===e)return l.__assign({size:"sm"},t)},t.prototype.renderRenderer=function(t){return t.buttons&&t.buttons.length?e.prototype.renderRenderer.call(this,t):i.default.createElement("p",{key:t.key,"data-editor-id":this.props.$$id,className:"text-muted"},"暂无操作按钮")},t.prototype.acceptChild=function(t,a,l){return!!~["button","button-group"].indexOf(t)&&e.prototype.acceptChild.call(this,t,a,l)},t=l.__decorate([n.Editor("operation",{name:"操作栏",type:"operation",scaffold:{type:"operation",label:"操作栏"}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(l.__importDefault(a(9)).default);t.OperationEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(5),s=l.__importDefault(a(10)),p=l.__importDefault(a(9)),c=a(4),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.replaceable=!1,t.settingsSchema={title:"页面配置",controls:[o.getSchemaTplByName("tabs",[{title:"常规",controls:[{label:"标题",name:"title",type:"text"},{label:"副标题",name:"subTitle",type:"text"},{label:"提示",name:"remark",type:"textarea",visibleOn:"data.title",description:"标题附近会出现一个提示图标，鼠标放上去会提示该内容。"}]},{title:"接口",controls:[o.getSchemaTplByName("api",{label:"数据初始化接口",name:"initApi"}),o.getSchemaTplByName("initFetch"),{label:"开启定时刷新",type:"switch",name:"interval",visibleOn:"data.initApi",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0},mode:"inline"},{name:"interval",type:"number",visibleOn:'typeof this.interval === "number"',step:500},{name:"silentPolling",label:"静默刷新",type:"switch",mode:"inline",visibleOn:"!!data.interval",description:"设置自动定时刷新时是否显示loading"},{name:"stopAutoRefreshWhen",label:"停止定时刷新检测表达式",type:"text",visibleOn:"!!data.interval",description:"定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则不刷新了。"},{label:"默认消息提示",type:"combo",name:"messages",multiLine:!0,description:"设置 ajax 默认提示信息，当 ajax 没有返回 msg 信息时有用，如果 ajax 返回携带了 msg 值，则还是以 ajax 返回为主",controls:[{label:"获取成功提示",type:"text",name:"fetchSuccess"},{label:"获取失败提示",type:"text",name:"fetchFailed"},{label:"保存成功提示",type:"text",name:"saveSuccess"},{label:"保存失败提示",type:"text",name:"saveFailed"}]}]},{title:"外观",controls:[o.getSchemaTplByName("className"),o.getSchemaTplByName("className",{name:"headerClassName",label:"头部CSS类名"}),o.getSchemaTplByName("className",{name:"bodyClassName",label:"内容CSS类名"}),o.getSchemaTplByName("className",{name:"asideClassName",label:"边栏CSS类名"}),o.getSchemaTplByName("className",{name:"toolbarClassName",label:"工具栏CSS类名"})]},{title:"其他",controls:[o.getSchemaTplByName("name"),{type:"combo",name:"definitions",multiple:!0,multiLine:!0,label:"定义",description:"定义类型，定义完成后可被子节点引用。",pipeIn:function(e){return e?Object.keys(e).map((function(t){return{key:t,value:e[t]}})):[]},pipeOut:function(e){return Array.isArray(e)?e.reduce((function(e,t){var a;return l.__assign(l.__assign({},e),((a={})[t.key||""]=t.value?t.value:{type:"tpl",tpl:"内容"},a))}),{}):void 0},controls:[{type:"text",name:"key",label:"Key",required:!0},{children:function(e){var a=e.index;return i.default.createElement(r.Button,{size:"sm",level:"danger",onClick:t.handleEditDefinitionDetail.bind(t,a),block:!0},"配置详情")}}]}]}])]},t.$schema="https://houtai.baidu.com/v2/schemas/page.json#",t.tipName="页面",t.dropable=!0,t.containers=["toolbar","aside","body"],t.containerLabels=["工具栏","边栏","内容区"],t}return l.__extends(t,e),t.prototype.modifyProps=function(t,a){void 0===a&&(a=this.context);var i=t.definitions,n=(t.$$id,t.data);i&&(n=l.__assign(l.__assign({},n),{definitionKeys:Object.keys(i).filter((function(e){return"$$id"!==e})).map((function(e){return{label:e,value:e}}))}));var o=e.prototype.modifyProps.call(this,t,a);return o.data=n,o},t.prototype.handleEditDefinitionDetail=function(e){var t=this.context.editor,a=this.props,n=a.$$id,o=(a.data,l.__assign({},c.JSONPipeOut(t.get(n).definitions))),r=Object.keys(o).filter((function(e){return"$$id"!==e}))[e]||"a",p=o[r]||{type:"tpl",tpl:"内容"};t.openDialog("配置定义详情",{type:"form",mode:"normal",data:{items:p},controls:[{name:"items",children:function(e){var a=e.value,n=e.onChange;return i.default.createElement(s.default,{previewClassName:"padder-md p-t-xs",pathPrefix:"/page/body/form/0/control",autoFocus:!0,value:l.__assign(l.__assign({},a),{$$replaceable:!0}),onChange:n,schemaFilter:t.schemaFilter,theme:t.theme})}}]},(function(e){o[r]=c.JSONPipeIn(e.items),delete o[r].$$replaceable,t.update(n,{definitions:o})}),"xl")},t=l.__decorate([n.Editor("page",{name:"页面",type:"page",description:"页面渲染器，页面的顶级入口。包含多个区域，您可以选择在不同的区域里面放置不同的渲染器。",tags:"容器",icon:"fa fa-desktop",previewSchema:{type:"page",className:"text-left b-a",asideClassName:"w-xs",title:"标题",subTitle:"副标题",aside:"边栏",body:"内容"},scaffold:{type:"page",title:"页面",body:"内容"}})],t)}(p.default);t.PageEditor=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PanelEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(3)),o=l.__importDefault(a(11)),r=a(2),s=l.__importDefault(a(9)),p=a(5),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Panel",t.schemaCaches={},t.dropable=!0,t.containers=["body","actions"],t.containerLabels=["内容区","按钮栏"],t.diyContainer=["body"],t.$schema="https://houtai.baidu.com/v2/schemas/panel.json#",t.settingsSchema={title:"面板配置",controls:r.getSchemaTplByName("tabs",[{title:"常规",controls:[{label:"标题",name:"title",type:"text"},{children:n.default.createElement(p.Button,{size:"sm",level:"info",className:"m-b",onClick:function(){return t.pickChild("body")},block:!0},"内容区新增内容")}]},{title:"外观",controls:[{name:"affixFooter",label:"固定底部",type:"switch",value:!1,mode:"inline",className:"block"},r.getSchemaTplByName("horizontal",{visibleOn:'(data.mode || data.$$formMode) == "horizontal" && data.$$mode == "form"'}),{name:"className",label:"样式",type:"button-group",size:"sm",pipeIn:function(e){return"string"==typeof e&&/(?:^|\s)(Panel\-\-(\w+))(?:$|\s)/.test(e)?RegExp.$1:""},pipeOut:function(e,t){return t?(t.replace(/(?:^|\s)(Panel\-\-(\w+))(?=($|\s))/g,"")+" "+e).replace(/\s+/g," ").trim():e},options:[{label:"默认",value:"Panel--default"},{label:"主色",value:"Panel--primary"},{label:"提示",value:"Panel--info"},{label:"成功",value:"Panel--success"},{label:"警告",value:"Panel--warning"},{label:"危险",value:"Panel--danger"}]},r.getSchemaTplByName("className",{pipeIn:r.defaultValue("Panel--default")}),r.getSchemaTplByName("className",{name:"headerClassName",label:"头部区域 CSS 类名"}),r.getSchemaTplByName("className",{name:"bodyClassName",label:"内容区域 CSS 类名"}),r.getSchemaTplByName("className",{name:"footerClassName",label:"底部区域 CSS 类名"}),r.getSchemaTplByName("className",{name:"actionsClassName",label:"按钮外层 CSS 类名"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("panel",{name:"面板(Panel)",type:"panel",description:"展示一个面板，可以配置标题，内容区。",tags:["容器"],previewSchema:{type:"panel",title:"这是一个面板",body:"这是内容区",className:"Panel--default text-left m-b-none",actions:[{label:"按钮1",type:"button"},{label:"按钮2",type:"button"}]},scaffold:{type:"panel",title:"标题",body:"内容"}},{renderActions:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a)return this.super.apply(this,e);var l=this.props.regionRef||a.regionRef;return n.default.createElement(o.default,{ref:function(e){return l("actions",e)},name:"actions",label:"按钮集合",hostId:a.props.$$id},this.super.apply(this,e))},renderBody:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$editor;if(!a||this.props.children)return this.super.apply(this,e);var l=this.super.apply(this,e),i=this.props.regionRef;return n.default.createElement(o.default,{key:"body",ref:function(e){return i("body",e)},name:"body",label:"内容区",hostId:a.props.$$id},l)}})],t)}(s.default);t.PanelEditor=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlainEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Plain",t.$schema="https://houtai.baidu.com/v2/schemas/plain.json#",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"文本配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{label:"内容",type:"textarea",pipeIn:function(e,t){return e||t&&t.text},name:"tpl",description:'如果当前字段有值，请不要设置，否则覆盖。支持使用 <code>\\${xxx}</code> 来获取变量，或者用 lodash.template 语法来写模板逻辑。<a target="_blank" href="/docs/renderers/Tpl">详情</a>'},{name:"placeholder",label:"占位符",type:"text",pipeIn:o.defaultValue("-")}]},{title:"外观",controls:[{label:"内联模式",type:"switch",name:"inline",mode:"inline",className:"w-full",value:!0},o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("plain",{name:"纯文本",description:"用来展示纯文字，html 标签会被转义。",tags:["展示"],previewSchema:{type:"plain",text:"这是纯文本",className:"text-center",inline:!1},type:"plain",scaffold:{type:"plain",tpl:"内容",inline:!1}})],t)}(n.default);t.PlainEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFieldEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Progresss",t.$schema="https://houtai.baidu.com/v2/schemas/progress.json#",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"进度配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{name:"showLabel",type:"switch",inline:!0,pipeIn:o.defaultValue(!0),label:"是否显示文字"},{name:"map",label:"等级配置",type:"array",items:{type:"text"},descrition:"配置不通的值段，用不通的样式提示用户",pipeIn:o.defaultValue(["bg-danger","bg-warning","bg-info","bg-success","bg-success"])},o.getSchemaTplByName("switchDefaultValue"),{type:"text",name:"value",label:"默认值",validations:"isNumeric",visibleOn:'typeof this.value !== "undefined"'},{name:"placeholder",type:"text",pipeIn:o.defaultValue("-"),label:"占位符"}]},{title:"外观",controls:[o.getSchemaTplByName("className"),o.getSchemaTplByName("className",{name:"progressClassName",label:"进度外层 CSS 类名",pipeIn:o.defaultValue("progress-xs progress-striped active m-t-xs m-b-none")}),o.getSchemaTplByName("className",{name:"progressBarClassName",label:"进度条 CSS 类名"})]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("progress",{name:"进度展示",description:"用来展示进度。可配置各个进度段用不同的颜色展示。",tags:["展示"],previewSchema:{type:"progress",value:66.66},scaffold:{type:"progress",value:66.66},type:"progress",icon:"fa fa-spinner"})],t)}(n.default);t.ProgressFieldEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodeEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="QRCode",t.settingsSchema={title:"二维码配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"value",type:"text",label:"二维码值",pipeIn:o.defaultValue("https://www.baidu.com"),description:"支持使用 <code>\\${xxx}</code> 来获取变量"},{name:"level",type:"select",label:"复杂度",pipeIn:o.defaultValue("L"),options:[{label:"L",value:"L"},{label:"M",value:"M"},{label:"Q",value:"Q"},{label:"H",value:"H"}]}]},{title:"外观",controls:[{name:"codeSize",type:"number",label:"宽高值",pipeIn:o.defaultValue(128)},{name:"backgroundColor",type:"color",label:"背景色",pipeIn:o.defaultValue("#fff")},{name:"foregroundColor",type:"color",label:"前景色",pipeIn:o.defaultValue("#000")},o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("qrcode",{name:"二维码",type:"qr-code",description:"可以用来生成二维码",tags:["展示"],previewSchema:{type:"qrcode",value:"https://amis.baidu.com"}})],t)}(n.default);t.QRCodeEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutterServiceEditor=void 0;var l=a(0),i=a(1),n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.$schema="https://houtai.baidu.com/v2/schemas/service.json#",t.dropable=!0,t.containers=["body"],t}return l.__extends(t,e),t=l.__decorate([i.Editor("service",{name:"服务(Service)",tags:["容器","功能"],icon:"fa fa-cloud",description:"功能性容器，可以用来加载数据或者加载渲染器配置。加载到的数据在容器可以使用。",type:"service",scaffold:{type:"service",body:"内容"}})],t)}(a(32).ServiceEditor);t.OutterServiceEditor=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusFieldEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Status",t.$schema="https://houtai.baidu.com/v2/schemas/status.json#",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"状态显示配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{name:"map",label:"图标配置",type:"array",items:{type:"text"},descrition:"配置不通的值段，用不通的样式提示用户",pipeIn:o.defaultValue(["fa fa-times text-danger","fa fa-check text-success"])},{name:"placeholder",type:"text",pipeIn:o.defaultValue("-"),label:"占位符"}]},{title:"外观",controls:[o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("status",{name:"状态显示",description:"用图标更具关联字段来展示状态，比如 1 展示 √、0 展示 x。这块可以自定义配置",tags:["展示"],previewSchema:{type:"status",value:1},type:"status",icon:"fa fa-check-square-o"})],t)}(n.default);t.StatusFieldEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchFieldEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Switch",t.$schema="https://houtai.baidu.com/v2/schemas/switch.json#",t.isUnderField=/\/field\/\w+$/.test(t.props.$path),t.settingsSchema={title:"开关配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[t.isUnderField?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:{name:"name",type:"text",label:"字段名"},{name:"option",type:"text",label:"选项说明"},{type:"text",label:"勾选后的值",name:"trueValue",value:!0,pipeOut:o.valuePipeOut},{type:"text",label:"未勾选的值",name:"falseValue",value:!1,pipeOut:o.valuePipeOut},{name:"placeholder",type:"text",pipeIn:o.defaultValue("-"),label:"占位符"}]},{title:"外观",controls:[o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("switch",{name:"开关展示",type:"switch",description:"用开关的样式来展示数据。",tags:["展示"],icon:"fa fa-toggle-on",previewSchema:{type:"switch",value:!0,onQuickChange:function(){}}})],t)}(n.default);t.SwitchFieldEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Tasks",t.$schema="https://houtai.baidu.com/v2/schemas/tasks.json#",t.settingsSchema={title:"异步任务配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"items",label:"初始任务信息",type:"combo",multiple:!0,multiLine:!0,controls:[{name:"label",type:"text",label:"任务名称"},{name:"key",type:"text",label:"任务ID"},{name:"status",type:"number",label:"任务状态"},{name:"remark",type:"textarea",label:"任务说明"}],addButtonText:"新增任务信息",scaffold:{label:"名称",key:"key",status:0,remark:"说明"},description:"可以不设置，如果检测接口返回这些信息的话。"},o.getSchemaTplByName("api",{name:"checkApi",label:"状态检测接口"}),{name:"interval",type:"number",min:3e3,step:500,visibleOn:"data.checkApi",pipeIn:o.defaultValue(3e3),label:"定时检测间隔"},o.getSchemaTplByName("api",{name:"submitApi",label:"提交接口"}),o.getSchemaTplByName("api",{name:"reSubmitApi",label:"重试接口"}),{name:"taskNameLabel",type:"text",pipeIn:o.defaultValue("任务名称"),label:"任务名称栏标题"},{name:"operationLabel",type:"text",pipeIn:o.defaultValue("操作"),label:"操作栏标题"},{name:"statusLabel",type:"text",pipeIn:o.defaultValue("状态"),label:"状态栏标题"},{name:"remarkLabel",type:"text",pipeIn:o.defaultValue("备注说明"),label:"备注栏标题"},{name:"btnText",label:"按钮名称",type:"text",pipeIn:o.defaultValue("上线")},{name:"retryBtnText",label:"重试按钮名称",type:"text",pipeIn:o.defaultValue("重试")},{name:"statusTextMap",pipeIn:o.defaultValue(["未开始","就绪","进行中","出错","已完成","出错"]),type:"array",label:"状态标签文字配置",multiple:!0,addable:!1,removable:!1,items:{type:"text",placeholder:"名称"}},{name:"initialStatusCode",label:"初始状态码",pipeIn:o.defaultValue(0),type:"number"},{name:"readyStatusCode",label:"就绪状态码",pipeIn:o.defaultValue(1),type:"number"},{name:"loadingStatusCode",label:"进行中状态码",pipeIn:o.defaultValue(2),type:"number"},{name:"errorStatusCode",label:"错误状态码",pipeIn:o.defaultValue(3),type:"number"},{name:"finishStatusCode",label:"完成状态码",pipeIn:o.defaultValue(4),type:"number"},{name:"canRetryStatusCode",label:"出错但可重试状态码",pipeIn:o.defaultValue(5),type:"number"}]},{title:"外观",controls:[o.getSchemaTplByName("className",{pipeIn:o.defaultValue("b-a bg-white table-responsive")}),o.getSchemaTplByName("className",{name:"tableClassName",label:"表格 CSS 类名",pipeIn:o.defaultValue("table table-striped m-b-none")}),o.getSchemaTplByName("className",{name:"btnClassName",label:"按钮 CSS 类名",pipeIn:o.defaultValue("btn-sm btn-default")}),o.getSchemaTplByName("className",{name:"retryBtnClassName",label:"重试按钮 CSS 类名",pipeIn:o.defaultValue("btn-sm btn-danger")}),{name:"statusLabelMap",pipeIn:o.defaultValue(["label-warning","label-info","label-info","label-danger","label-success","label-danger"]),type:"array",label:"状态标签 CSS 类名配置",multiple:!0,addable:!1,removable:!1,items:{type:"text",placeholder:"CSS 类名"}}]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("tasks",{name:"异步任务",type:"tasks",description:"用来做异步任务呈现或者操作。",previewSchema:{type:"tasks",name:"tasks",items:[{label:"hive 任务",key:"hive",status:4,remark:'查看详情<a target="_blank" href="http://www.baidu.com">日志</a>。'},{label:"小流量",key:"partial",status:4},{label:"全量",key:"full",status:4}]},scaffold:{type:"tasks",name:"tasks",items:[{label:"hive 任务",key:"hive",status:4,remark:'查看详情<a target="_blank" href="http://www.baidu.com">日志</a>。'},{label:"小流量",key:"partial",status:4},{label:"全量",key:"full",status:4}]}})],t)}(n.default);t.TaskEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TplEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="模板",t.$schema="https://houtai.baidu.com/v2/schemas/tpl.json#",t.settingsSchema={title:"模板配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{type:"button-group",name:"__mode",label:"编辑模式",value:"source",size:"sm",options:[{label:"源码",value:"source"},{label:"富文本",value:"rich-text"}]},{label:"内容",type:"rich-text",visibleOn:'data.__mode =="rich-text"',required:!0,buttons:["paragraphFormat","quote","color","|","bold","italic","underline","strikeThrough","|","formatOL","formatUL","align","|","insertLink","insertImage","insertTable","|","undo","redo","fullscreen"],pipeIn:function(e,t){return e||t&&t.html},name:"tpl",description:'支持使用 <code>\\${xxx}</code> 来获取变量，或者用 lodash.template 语法来写模板逻辑。<a target="_blank" href="/docs/renderers/Tpl">详情</a>',size:"lg"},{label:"内容",type:"textarea",required:!0,minRows:5,language:"html",visibleOn:'data.__mode !="rich-text"',pipeIn:function(e,t){return e||t&&t.html},name:"tpl",description:'支持使用 <code>\\${xxx}</code> 来获取变量，或者用 lodash.template 语法来写模板逻辑。<a target="_blank" href="/docs/renderers/Tpl">详情</a>'}]},{title:"外观",controls:[{label:"内联模式",type:"switch",name:"inline",mode:"inline",className:"w-full",pipeIn:o.defaultValue(!0),labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"内联模式采用 <code>span</code> 标签、非内联将采用 <code>div</code> 标签作为容器。",placement:"right"}},o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("tpl",{name:"模板（Tpl）",type:"tpl",description:"模板类型渲染器，可以基于数据直接渲染出 html，目前有两种语法，不要交叉使用。",tags:["展示"],previewSchema:{type:"tpl",tpl:"模板（Tpl）"},scaffold:{type:"tpl",tpl:"内容",inline:!1}})],t)}(n.default);t.TplEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoEditor=void 0;var l=a(0),i=a(1),n=l.__importDefault(a(8)),o=a(2),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Video",t.$schema="https://houtai.baidu.com/v2/schemas/video.json#",t.settingsSchema={title:"视频配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"src",type:"text",label:"视频地址",description:"可以写静态值，也可以用变量取比如：<code>\\${videoSrc}</code>"},{name:"poster",type:"text",label:"视频封面图片地址",description:"可以写静态值，也可以用变量取比如：<code>\\${videoPoster}</code>"},{name:"autoPlay",type:"switch",mode:"inline",className:"block",label:"自动播放"},{name:"muted",type:"switch",mode:"inline",className:"block",label:"静音"}]},{title:"外观",controls:[{name:"aspectRatio",label:"视频比例",type:"button-group",size:"sm",mode:"inline",className:"block",value:"auto",options:[{label:"自动",value:"auto"},{label:"4:3",value:"4:3"},{label:"16:9",value:"16:9"}]},{name:"splitPoster",type:"switch",mode:"inline",className:"block",label:"分开显示封面"},o.getSchemaTplByName("className")]},{title:"其他",controls:[o.getSchemaTplByName("ref"),{type:"text",name:"rates",label:"视频速率",multiple:!0,joinValues:!1,extractValue:!0,options:[.5,1,1.25,1.5,2,2.5,3,3.5,4,4.5,5].map((function(e){return{label:e,value:e}}))},{name:"frames",type:"text",label:"视频帧信息",description:"比如填写：<code>\\${videoFrames}</code>会在当前作用域中查找 videoFrames 变量，如果是对象，将生成视频截图列表，点击后可跳转到对应的帧。"},o.getSchemaTplByName("visible")]}])},t}return l.__extends(t,e),t=l.__decorate([i.Editor("video",{name:"视频",type:"video",description:"视频控件，可以用来播放各种视频文件，包括 flv 和 hls 格式。",tags:["展示"],icon:"fa fa-youtube-play",previewSchema:{type:"video",autoPlay:!1,poster:"https://video-react.js.org/assets/poster.png"},scaffold:{type:"video",autoPlay:!1,src:"https://media.w3.org/2010/05/sintel/trailer_hd.mp4",poster:"https://video-react.js.org/assets/poster.png"}})],t)}(n.default);t.VideoEditor=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=l.__importDefault(a(8)),r=a(2),s=a(143),p=function(e){function t(t,a){var l=e.call(this,t)||this;return l.tipName="Wizard",l.$schema="https://houtai.baidu.com/v2/schemas/wizard.json#",l.settingsSchema={title:"表单向导配置",controls:[r.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"steps",label:"步骤设置",type:"combo",multiple:!0,multiLine:!0,addButtonText:"新增一步",scaffold:{title:"标题",controls:[{type:"text",name:"var1",label:"文本"}]},controls:[{name:"title",type:"text",label:"标题",pipeIn:function(e,t){return e||t.label}},{type:"fieldSet",title:"其他设置",collapsed:!0,collapsable:!0,className:"fieldset m-b-none",controls:[{name:"mode",label:"展示模式",type:"button-group",size:"xs",mode:"inline",className:"w-full",value:"normal",options:[{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},r.getSchemaTplByName("horizontal",{visibleOn:'data.mode == "horizontal"'}),r.getSchemaTplByName("api",{label:"保存接口",description:"如果接口返回了 <code>step</code> 变量，且数值是数字类型，比如 <code>3</code>，提交完后回跳到第 3 步"}),{label:"采用异步方式?",remark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"right"},type:"switch",name:"asyncApi",visibleOn:"data.api",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0},mode:"inline",className:"block"},r.getSchemaTplByName("api",{name:"asyncApi",label:"异步检测接口",visibleOn:"data.asyncApi != null",description:"设置此属性后，表单提交发送保存接口后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{type:"divider"},r.getSchemaTplByName("api",{name:"initApi",label:"初始化接口",description:"用来初始化表单数据"}),{label:"采用异步方式？",remark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"right"},type:"switch",name:"initAsyncApi",visibleOn:"data.initApi",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0},mode:"inline",className:"block"},r.getSchemaTplByName("api",{name:"initAsyncApi",label:"异步检测接口",visibleOn:"data.initAsyncApi != null",description:"设置此属性后，表单请求 initApi 后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),r.getSchemaTplByName("initFetch"),{label:"是否可被点开",type:"text",name:"jumpableOn",description:"用表达式来决定，当前步骤是否可被点开。额外可用变量：currentStep 表示当前步骤。"}]}]}]},{title:"接口",controls:[r.getSchemaTplByName("api",{name:"initApi",label:"初始化接口",description:"用来初始化向导数据，当接口中返回 <code>step</code> 字段时，可以控制默认跳转到第几步，注意数值一定得是数字类型。当返回 <code>submiting</code> 并且当前步骤中存在异步保存接口时，可以让 wizard 初始进入异步提交状态。"}),{label:"采用异步方式？",remark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"right"},type:"switch",name:"initAsyncApi",visibleOn:"data.initApi",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0},mode:"inline"},r.getSchemaTplByName("api",{name:"initAsyncApi",label:"异步检测接口",visibleOn:"data.initAsyncApi != null",description:"设置此属性后，表单请求 initApi 后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{name:"initFetch",type:"radios",label:"是否初始拉取",inline:!0,options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"initFetch",autoComplete:!1,visibleOn:'typeof this.initFetch !== "boolean"',type:"text",placeholder:"",className:"m-t-n-sm"},{type:"divider"},r.getSchemaTplByName("api",{label:"保存接口",description:"用来保存表单数据, 最后一步点击完成触发，<code>如果最后一步中已经设置保存接口，则此处设置无效。</code>"}),{label:"采用异步方式?",remark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"right"},type:"switch",name:"asyncApi",visibleOn:"data.api",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0},mode:"inline"},r.getSchemaTplByName("api",{name:"asyncApi",label:"异步检测接口",visibleOn:"data.asyncApi != null",description:"设置此属性后，表单提交发送保存接口后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"})]},{title:"外观",controls:[{name:"mode",label:"展示模式",type:"button-group",size:"sm",mode:"inline",className:"w-full",value:"horizontal",options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]},{name:"actionPrevLabel",label:"上一步按钮名称",type:"text",pipeIn:r.defaultValue("上一步")},{name:"actionNextLabel",label:"下一步按钮名称",type:"text",pipeIn:r.defaultValue("下一步")},{name:"actionNextSaveLabel",label:"保存并下一步按钮名称",type:"text",pipeIn:r.defaultValue("保存并下一步")},{name:"actionFinishLabel",label:"完成按钮名称",type:"text",pipeIn:r.defaultValue("完成")},{type:"alert",level:"info",body:"温馨提示：操作按钮每个步骤可以单独配置，请在右侧切换到需要单独配置的步骤后，点击下方的【自定义按钮】定制。"},r.getSchemaTplByName("className"),r.getSchemaTplByName("className",{name:"actionClassName",label:"按钮 CSS 类名"})]},{title:"其他",controls:[r.getSchemaTplByName("ref"),r.getSchemaTplByName("name"),r.getSchemaTplByName("reload"),{label:"跳转",name:"redirect",type:"text",description:"当设置此值后，表单提交完后跳转到目标地址。"},r.getSchemaTplByName("visible")]}])]},l.handleJumpPrev=l.handleJumpPrev.bind(l),l.handleJumpNext=l.handleJumpNext.bind(l),l.switchTo=l.switchTo.bind(l),l}return l.__extends(t,e),t.prototype.handleJumpPrev=function(){var e=this.ref;if(e||e.gotoStep){var t=e.state.currentStep;e.gotoStep(t-1)}},t.prototype.handleJumpNext=function(){var e=this.ref;if(e||e.gotoStep){var t=e.state.currentStep;e.gotoStep(t+1)}},t.prototype.switchTo=function(e){var t=this.ref;(t||t.gotoStep)&&t.gotoStep(e+1)},t.prototype.renderSecondaryToolbars=function(){return i.default.createElement("div",{className:"ae-Editor-toolbar sencondary",key:"secondary-toolbar"},i.default.createElement("button",{type:"button","data-tooltip":"上一步","data-position":"bottom",onClick:this.handleJumpPrev},i.default.createElement("i",{className:"fa fa-chevron-left"})),i.default.createElement("button",{type:"button","data-tooltip":"下一步","data-position":"bottom",onClick:this.handleJumpNext},i.default.createElement("i",{className:"fa fa-chevron-right"})))},t=l.__decorate([n.Editor("wizard",{name:"表单向导",type:"wizard",tags:["功能"],icon:"fa fa-list-ol",description:"表单向导，可以将复杂的多个表单项拆分成多个步骤，一步一步指引用户完成填写。",previewSchema:{type:"wizard",className:"text-left m-b-none",steps:[{title:"第一步",controls:[{type:"text",label:"文本",name:"var1"}]},{title:"第二步",controls:[]}]},scaffold:{type:"wizard",steps:[{title:"第一步",controls:[{type:"text",label:"文本",name:"var1"}]},{title:"第二步",controls:[{type:"text",label:"文本2",name:"var2"}]}]}},{renderWizard:function(){var e=this,t=this.super();if(!this.props.$editor)return t;var a=t.props.children,n=this.props.steps,o=this.state.currentStep-1;return Array.isArray(n)&&a&&(a=n.map((function(t,n){if(n===o){var r=a[3].props.children[0],p=a[0];return i.default.createElement(s.WizardStepEditor,l.__assign({},t,{key:"outter_"+n,$path:e.props.$path+"/form/0",$$replaceable:!1,index:n,classnames:e.props.classnames,render:e.props.render,stepsDom:p,actionsDom:r}))}return i.default.createElement(s.WizardStepEditor,l.__assign({},t,{key:"outter_"+n,index:n,$path:e.props.$path,$$replaceable:!1}))})),t=i.default.cloneElement(t,{children:a})),t}}),l.__metadata("design:paramtypes",[Object,Object])],t)}(o.default);t.WizardEditor=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardStepEditor=void 0;var l=a(0),i=l.__importDefault(a(9)),n=a(3),o=a(2),r=l.__importDefault(a(11)),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="步骤"+(t.props.index+1),t.containers=["controls","actions"],t.containerLabels=["表单项","按钮栏"],t.settingsSchema={title:"步骤配置",controls:o.getSchemaTplByName("tabs",[{title:"常规",controls:[{name:"title",type:"text",label:"标题",pipeIn:function(e,t){return e||t.label}},o.getSchemaTplByName("api",{label:"保存接口",description:"如果接口返回了 <code>step</code> 变量，且数值是数字类型，比如 <code>3</code>，提交完后回跳到第 3 步"}),{label:"采用异步方式?",remark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"right"},type:"switch",name:"asyncApi",visibleOn:"data.api",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0},mode:"inline",className:"block"},o.getSchemaTplByName("api",{name:"asyncApi",label:"异步检测接口",visibleOn:"data.asyncApi != null",description:"设置此属性后，表单提交发送保存接口后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{type:"divider"},o.getSchemaTplByName("api",{name:"initApi",label:"初始化接口",description:"用来初始化表单数据"}),{label:"采用异步方式？",remark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"right"},type:"switch",name:"initAsyncApi",visibleOn:"data.initApi",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0},mode:"inline",className:"block"},o.getSchemaTplByName("api",{name:"initAsyncApi",label:"异步检测接口",visibleOn:"data.initAsyncApi != null",description:"设置此属性后，表单请求 initApi 后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),o.getSchemaTplByName("initFetch")]},{title:"外观",controls:[{name:"mode",label:"展示模式",type:"button-group",size:"xs",mode:"inline",className:"w-full",value:"normal",options:[{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},o.getSchemaTplByName("horizontal",{visibleOn:'data.mode == "horizontal"'})]},{title:"其他",controls:[{label:"是否可被点开",type:"text",name:"jumpableOn",description:"用表达式来决定，当前步骤是否可被点开。额外可用变量：currentStep 表示当前步骤。"}]}])},t.regions2path={controls:"control"},t}return l.__extends(t,e),t.prototype.renderRenderer=function(e){var t=this;if(!e.actionsDom)return n.createElement("div",{key:e.key,ref:this.childRef,"data-editor-id":this.props.$$id});var a=this.props.classnames;return n.createElement("div",{key:e.key,ref:this.childRef,"data-editor-id":this.props.$$id},e.stepsDom,n.createElement("div",{className:a("Wizard-stepContent")},this.renderFakeBody()),n.createElement(r.default,{name:"actions",ref:function(e){return t.regionRef("actions",e)},label:"按钮栏",hostId:this.props.$$id},e.actionsDom))},t.prototype.renderFakeBody=function(){var e=this,t=this.props.render,a=this.props.controls;return t("wizardform",{type:"form",wrapWithPanel:!1,controls:[{children:function(t){var l=t.renderFormItems;return n.createElement(r.default,{name:"controls",ref:function(t){return e.regionRef("controls",t)},label:"表单项",hostId:e.props.$$id},l({controls:a},"wizard"))}}]})},t.prototype.openEditForm=function(){e.prototype.openEditForm.call(this);var t=this.context.editorNode;t.component.switchTo&&t.component.switchTo(this.props.index)},t.prototype.acceptChild=function(t,a,l){return void 0===a&&(a="body"),"actions"===a?!!~["submit","button","reset"].indexOf(t):e.prototype.acceptChild.call(this,t,a,l)},t.prototype.pickChild=function(t){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return"actions"===t?e.prototype.pickChild.call(this,"action","actions",void 0,["button","reset","submit","button-group","dropdown-button"],!0):"controls"===t?e.prototype.pickChild.call(this,"control","controls"):e.prototype.pickChild.apply(this,l.__spreadArrays([t],a))},t}(i.default);t.WizardStepEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrapperEditor=void 0;var l=a(0),i=l.__importDefault(a(3)),n=a(1),o=a(2),r=a(5),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipName="Wrapper",t.$schema="https://houtai.baidu.com/v2/schemas/wrapper.json#",t.dropable=!0,t.containers=["body"],t.containerLabels=["内容区"],t.settingsSchema={title:"包裹配置",controls:o.getSchemaTplByName("tabs",[{title:"基本",controls:[{children:i.default.createElement(r.Button,{size:"sm",className:"m-b-sm",level:"info",block:!0,onClick:function(){t.pickChild("body")}},"新增内容")},{type:"divider"},o.getSchemaTplByName("size",{label:"内间距大小",options:[{label:"极小",value:"xs"},{label:"小",value:"sm"},{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"无",value:"none"}],pipeIn:o.defaultValue("")}),o.getSchemaTplByName("className",{description:"设置样式后，大小设置将无效。",pipeIn:o.defaultValue("bg-white")})]}])},t}return l.__extends(t,e),t=l.__decorate([n.Editor("wrapper",{name:"包裹",type:"wrapper",description:"类似于容器，唯一的区别在于会默认会有一层内边距。",tags:["容器"],icon:"fa fa-tablet",previewSchema:{type:"wrapper",body:"包裹",className:"b-a b-light"},scaffold:{type:"wrapper",body:"内容"}})],t)}(l.__importDefault(a(9)).default);t.WrapperEditor=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(3)),n=a(5),o=l.__importDefault(a(146)),r=l.__importDefault(a(23)),s=l.__importDefault(a(35)),p=a(4),c=l.__importDefault(a(148)),d=l.__importDefault(a(9)),m=a(19),u=a(149),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=Date.now(),t.innerRef=i.default.createRef(),t.toDispose=[],t.state={data:t.data=t.pipeIn(t.props),raw:t.raw,schema:t.props.settings&&t.props.settings.schema||{}},t.handleSelect=function(e,a){void 0===a&&(a=!1);var i=t.props.settings,n={activeKey:e,data:t.data};e!==t.state.activeKey||a?"code"===e&&"form"===t.state.activeKey&&i?n.raw=t.raw=i.getRaw():"form"===e&&"code"===t.state.activeKey&&i&&(n.data=t.data=l.__assign(l.__assign({},t.data),t.raw)):n.activeKey="none",t.setState(n)},t.formChangedAt=0,t.handleFormChange=function(e){var a=t.props.settings;Date.now()-t.formChangedAt<200||(t.data=e,a&&a.onChange&&a.onChange(t.pipeOut(e),"form"))},t.handleCodeChange=function(e,a){var i=t.props.settings,o=void 0;if(Object.keys(a).length){var r=function(e,t){var a=l.__assign({},e);return Object.keys(t).forEach((function(e){var i,o,s=t[e],c=a[e];if(void 0===s){var d=p.JSONPipeOut(((i={})[e]="",i));delete a[Object.keys(d)[0]]}else n.utils.isObject(s)&&n.utils.isObject(c)?a[e]=r(c,s):a=l.__assign(l.__assign({},a),p.JSONPipeOut(((o={})[e]=s,o)))})),a};t.data=r(t.data,a),o=function(){return i&&i.onChange&&i.onChange(t.pipeOut(t.data),"code")}}t.raw=e,t.setState({raw:t.raw},o)},t.startX=0,t.startWidth=0,t}return l.__extends(t,e),t.prototype.pipeIn=function(e){var t=e.settings;return this.raw={},t?(this.raw=t.getRaw(),p.JSONPipeOut(t.getValue&&t.getValue()||t.value)):{}},t.prototype.pipeOut=function(e){return p.JSONPipeIn(e)},t.prototype.componentDidUpdate=function(e){var t=this.props;if(t.showDropableNodesOnly!==e.showDropableNodesOnly?(t.showDropableNodesOnly&&this.state.activeKey&&(this.lastKey=this.state.activeKey),this.openTab(t.showDropableNodesOnly?"nav":this.lastKey)):e.settings&&!t.settings&&"form"===this.state.activeKey&&this.openTab("nav"),e.settings!==t.settings){var a=this.state.activeKey;if(t.settings?("code"!==a||t.settings.$schema)&&("renderers"!==a||t.settings.editor instanceof d.default&&t.settings.editor.allSubRenderers.length)||(a="form"):a="nav",e.settings&&this.form){var i=this.form.getValue();this.form.flush();var n=this.form.getValue();if(m.isObjectShallowModified(i,n,!1)){var o=l.__assign({},n),r=e.settings;this.formChangedAt=Date.now(),this.data=o,r&&r.onChange&&r.onChange(this.pipeOut(o),"form")}}this.setState({data:this.data=this.pipeIn(t),raw:this.raw,activeKey:a||"form",schema:t.settings&&t.settings.schema})}},t.prototype.openTab=function(e){this.handleSelect(e,!0)},t.prototype.getPopOverContainer=function(){return this.innerRef.current},t.prototype.formRef=function(e){this.form=e},t.prototype.updateSettings=function(e,t){"form"!==t&&this.props.settings&&"code"!==this.state.activeKey?this.setState({data:this.data=this.pipeIn(this.props),raw:this.raw}):"undo"!==t&&"redo"!==t||this.setState({data:this.data=this.pipeIn(this.props),raw:this.raw})},t.prototype.handleResizeMouseDown=function(e){3==e.nativeEvent.which||(this.codeWrap=e.currentTarget.parentElement,document.addEventListener("mousemove",this.handleResizeMouseMove),document.addEventListener("mouseup",this.handleResizeMouseUp),this.startX=e.clientX,this.startWidth=this.codeWrap.offsetWidth)},t.prototype.handleResizeMouseMove=function(e){var t=e.clientX-this.startX;this.codeWrap.style.cssText+="width: "+Math.max(this.startWidth+t,300)+"px"},t.prototype.handleResizeMouseUp=function(){document.removeEventListener("mousemove",this.handleResizeMouseMove),document.removeEventListener("mouseup",this.handleResizeMouseUp)},t.prototype.render=function(){var e=this.props.settings,t=this.props.theme,a=(this.props.size,this.props.onSizeToggle,this.props.onSelect),l=this.props.onHover,p=this.props.activeId,m=this.props.outline,h=this.props.showDropableNodesOnly,b=t?u.getTheme(t).classnames:n.classnames;return i.default.createElement("div",{className:b("ae-Settings",this.state.activeKey&&"none"!==this.state.activeKey?"is-active":"")},i.default.createElement("div",{className:"ae-Settings-inner",ref:this.innerRef},i.default.createElement(n.Tabs,{theme:t,className:b("ae-Settings-tabs"),contentClassName:b("ae-Settings-tabs-content"),classnames:n.classnames,activeKey:this.state.activeKey||"nav",onSelect:this.handleSelect},i.default.createElement(n.Tab,{eventKey:"nav",title:"大纲",icon:"fa fa-navicon"},i.default.createElement("div",{className:"ae-Settings-content"},i.default.createElement(o.default,{onHover:l,onSelect:a,options:m,value:p,showDropableNodesOnly:h}))),i.default.createElement(n.Tab,{eventKey:"form",title:"设置",icon:"fa fa-cog"},e?i.default.createElement(r.default,{ref:this.formRef,schema:this.state.schema,value:this.state.data,onChange:this.handleFormChange,popOverContainer:this.getPopOverContainer,theme:this.props.theme}):i.default.createElement("p",{className:"ae-Settings-placeholder"},"请先从右侧点选你想要编辑的组件")),i.default.createElement(n.Tab,{eventKey:"renderers",title:"组件",icon:"fa fa-cube"},e&&e.editor&&e.editor instanceof d.default&&e.editor.allSubRenderers.length?i.default.createElement(c.default,{id:e.id,editor:e.editor}):e?i.default.createElement("p",{className:"ae-Settings-placeholder"},"非容器组件不可拖入组件"):i.default.createElement("p",{className:"ae-Settings-placeholder"},"请先从右侧点选你想要编辑的组件")),i.default.createElement(n.Tab,{eventKey:"code",title:"代码",icon:"fa fa-code"},e&&e.$schema?i.default.createElement("div",{className:"ae-Editor-codePane"},i.default.createElement(s.default,{$schema:e.$schema,value:this.state.raw,onChange:this.handleCodeChange,theme:this.props.theme}),i.default.createElement("div",{onMouseDown:this.handleResizeMouseDown,className:"ae-Editor-codeResizor"})):e?i.default.createElement("p",{className:"ae-Settings-placeholder"},"当前组件不支持代码编辑"):i.default.createElement("p",{className:"ae-Settings-placeholder"},"请先从右侧点选你想要编辑的组件")))))},l.__decorate([n.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"getPopOverContainer",null),l.__decorate([n.utils.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"formRef",null),l.__decorate([p.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[String,String]),l.__metadata("design:returntype",void 0)],t.prototype,"updateSettings",null),l.__decorate([p.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleResizeMouseDown",null),l.__decorate([p.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[MouseEvent]),l.__metadata("design:returntype",void 0)],t.prototype,"handleResizeMouseMove",null),l.__decorate([p.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"handleResizeMouseUp",null),t}(i.default.PureComponent);t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(3)),n=l.__importDefault(a(13)),o=l.__importDefault(a(16)),r=a(5);function s(e,t){return e}var p=function(e){function t(t){var a=e.call(this,t)||this;return a.state={options:s(t.options,t.showDropableNodesOnly),folded:{}},a.handleClick=a.handleClick.bind(a),a.handleEnter=a.handleEnter.bind(a),a.handleExpanderClick=a.handleExpanderClick.bind(a),a.handleDragStart=a.handleDragStart.bind(a),a.handleDragOver=a.handleDragOver.bind(a),a}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props;t.options===e.options&&t.showDropableNodesOnly===e.showDropableNodesOnly||this.setState({options:s(e.options,e.showDropableNodesOnly)})},t.prototype.handleClick=function(e){var t=this.props.onSelect;e.isDefaultPrevented()||t(e.currentTarget.closest("[data-node-id]").getAttribute("data-node-id"))},t.prototype.handleEnter=function(e){var t=this.props.onHover;e.isDefaultPrevented()||t(e.currentTarget.closest("[data-node-id]").getAttribute("data-node-id"))},t.prototype.handleExpanderClick=function(e){var t;e.preventDefault();var a=e.currentTarget.closest("[data-node-id]").getAttribute("data-node-id");this.setState({folded:l.__assign(l.__assign({},this.state.folded),(t={},t[a]=!this.state.folded[a],t))})},t.prototype.handleDragStart=function(e){var t=e.currentTarget,a=this.context.editor,l=document.querySelector('[data-editor-id="'+t.getAttribute("data-node-id")+'"]');t&&a&&l&&a.onDragStart(e,l)},t.prototype.handleDragOver=function(e){var t=e.target,a=this.context.editor;if(t&&a){var l=t.closest("[data-dropable][data-node-id]");if(l){a.setDropId(l.getAttribute("data-node-id"));var i=l.getAttribute("data-node-id").split("-region-"),n=i[0],o=i[1];if(o){var r=document.querySelector('[data-editor-id="'+n+'"] [data-region="'+o+'"]');r&&a.onDragOver(e,r)}}}},t.prototype.renderItem=function(e,t){var a=this,l=e.children&&e.children.length,o=this.context.editor;return i.default.createElement("li",{className:n.default("ae-Outline-node",{"is-folded":!this.props.showDropableNodesOnly&&this.state.folded[e.value]||o.getDragId()===e.value,"is-active":e.value===this.props.value,"is-region":e.isRegion,"has-children":l,"is-dragging":o.getDragId()===e.value}),key:t},i.default.createElement("a",{onClick:this.handleClick,onMouseEnter:this.handleEnter,"data-node-id":e.value,"data-dropable":e.dropable&&o.getDragId()!==e.value?"dropable":void 0,draggable:e.draggable,onDragStart:this.handleDragStart},l?i.default.createElement("span",{onClick:this.handleExpanderClick,className:n.default("ae-Outline-expander",{"is-folded":!this.props.showDropableNodesOnly&&this.state.folded[e.value]})},i.default.createElement(r.Icon,{icon:"right-arrow-bold"})):null,e.label),l?i.default.createElement("ul",{className:"ae-Outline-sublist"},e.children.map((function(e,t){return a.renderItem(e,t)}))):null)},t.prototype.render=function(){var e=this,t=this.props.showDropableNodesOnly,a=this.state.options;return i.default.createElement("div",{className:n.default("ae-Outline",{"ae-Outline--draging":t}),onDragOver:this.handleDragOver},t?i.default.createElement("div",{className:"ae-Outline-tip"},"将目标拖入导航中的节点可以切换容器！"):null,a.length?i.default.createElement("ul",{className:"ae-Outline-list"},a.map((function(t,a){return e.renderItem(t,a)}))):i.default.createElement("div",null,"计算中，请稍等。。"))},t.contextTypes={editor:o.default.object},t}(i.default.PureComponent);t.default=p},function(e,t){e.exports=require("58cb658")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(3)),n=l.__importDefault(a(16)),o=l.__importDefault(a(13)),r=a(5),s=a(4),p=a(23),c=function(e){function t(t){var a=e.call(this,t)||this;a.id=s.guid();var l=a.build(a.props);return a.state={items:l,filteredItems:l,keywords:""},a}return l.__extends(t,e),t.prototype.build=function(e){return void 0===e&&(e=this.props),e.editor.getAvaiableSubRenderers()},t.prototype.componentDidUpdate=function(e){if(this.props.id!==e.id){var t=this.build(this.props);this.setState({items:t,filteredItems:t,keywords:""})}},t.prototype.handleDragStart=function(e){var t=e.currentTarget,a=parseInt(t.getAttribute("data-index"),10),l=this.state.filteredItems[a];e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("dnd/data",JSON.stringify(l.value)),e.dataTransfer.setData(("dnd/ae-editor-"+this.id+"-"+l.id).toLowerCase(),"ae-editor-"+l.value.type)},t.prototype.handleFilterChange=function(e){var t=this.state.items.concat();if(e){var a=new RegExp(e,"i");t=t.filter((function(e){return["label","description","value.type"].some((function(t){return r.resolveVariable(t,e)&&a.test(r.resolveVariable(t,e))}))}))}this.setState({keywords:e,filteredItems:t})},t.prototype.handleFilterReset=function(){this.handleFilterChange("")},t.prototype.renderThumb=function(e){return e?r.render(e,{onAction:s.noop},p.getEnv()):i.default.createElement("p",null,"没有预览图")},t.prototype.render=function(){var e=this,t=this.state,a=(t.items,t.keywords,t.filteredItems),l={};a.forEach((function(e,t){var a;(null===(a=e.tags)||void 0===a?void 0:a.length)?e.tags.forEach((function(a){l[a]=l[a]||[],l[a].push({item:e,index:t})})):(l["其他"]=l["其他"]||[],l["其他"].push({item:e,index:t}))}));var n=Object.keys(l),s=n.indexOf("其他");return~s&&(n.splice(s,1),n.push("其他")),i.default.createElement("div",{className:"ae-RendererList"},i.default.createElement("div",{className:"p-l p-r m-b-xs"},i.default.createElement(r.InputBox,{value:this.state.keywords,onChange:this.handleFilterChange,placeholder:"输入关键字可过滤组件",clearable:!1},this.state.keywords?i.default.createElement("a",{onClick:this.handleFilterReset},i.default.createElement(r.Icon,{icon:"close",className:"icon"})):i.default.createElement(r.Icon,{icon:"search",className:"icon"}))),a.length?n.map((function(t){var a=l[t];return a&&a.length?i.default.createElement("div",{key:t,className:"ae-RendererList-group"},i.default.createElement("div",{className:"ae-RendererList-groupLabel"},t),a.map((function(t){var a=t.item,l=t.index;return i.default.createElement("div",{onDragStart:e.handleDragStart,"data-index":l,"data-dnd-id":"ae-editor-"+e.id+"-"+a.id,"data-dnd-data":JSON.stringify(a.value),key:l,draggable:!0,className:"ae-RendererList-item"},i.default.createElement("i",{className:o.default("fa-fw",a.icon||"fa fa-dot-circle-o")}),i.default.createElement("div",{className:"ae-RendererList-itemLabel"},a.label),i.default.createElement("div",{className:"ae-RendererList-itemInfo"},i.default.createElement(r.TooltipWrapper,{tooltipClassName:"ae-RendererThumb",trigger:"click",rootClose:!0,placement:"right",tooltip:{dom:i.default.createElement("div",{className:"ae-RendererInfo"},i.default.createElement("div",null,a.description,a.docLink?i.default.createElement("a",{target:"_blank",href:a.docLink},"详情"):null),i.default.createElement("div",{className:"ae-RendererDiv"}),i.default.createElement("div",{className:"ae-RendererPreview"},e.renderThumb(a.previewSchema)))}},i.default.createElement("a",{className:"ae-RendererIcon","data-position":"bottom"},i.default.createElement(r.Icon,{icon:"info",className:"icon"})))))}))):null})):i.default.createElement("span",null,"没有可用组件，也许你该切换容器试试。"))},t.contextTypes={editor:n.default.object},l.__decorate([s.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleDragStart",null),l.__decorate([s.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[String]),l.__metadata("design:returntype",void 0)],t.prototype,"handleFilterChange",null),l.__decorate([s.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"handleFilterReset",null),t}(i.default.PureComponent);t.default=c},function(e,t){e.exports=require("eb00a4d")},function(e,t){e.exports=require("c2d1905")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(3)),n=a(19),o=a(4),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={links:[]},t}return l.__extends(t,e),t.prototype.componentDidMount=function(){this.syncOutline()},t.prototype.componentDidUpdate=function(e){var t=this.props;t.activeId===e.activeId&&t.outline===e.outline||this.syncOutline()},t.prototype.syncOutline=function(){var e=this.props,t=e.outline,a=e.activeId,l=[];a?(n.findTree(t,(function(e,t,i,n){e.value===a&&(l=n.concat(e))})),this.setState({links:l})):this.setState({links:[]})},t.prototype.handleClick=function(e){var t=e.currentTarget.getAttribute("data-id");(0,this.props.onSelect)(t)},t.prototype.handleMouseEnter=function(e){var t=e.currentTarget.getAttribute("data-id");(0,this.props.onHover)(t)},t.prototype.render=function(){var e=this,t=this.state.links,a=this.props.outline;return i.default.createElement("div",{className:"ae-Breadcrumb"},i.default.createElement("span",null,"组件路径："),t.length?i.default.createElement("ul",null,t.map((function(l,n){var o=n>0?t[n-1].children:a;return i.default.createElement("li",{key:n},i.default.createElement("a",{"data-id":l.value,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter},l.label),Array.isArray(o)&&o.length>1?i.default.createElement("ul",null,o.map((function(t,a){return i.default.createElement("li",{key:a},i.default.createElement("a",{onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,"data-id":t.value,className:t.value===l.value?"is-active":""},t.label))}))):null)}))):i.default.createElement("span",null,"点选组件开始编辑"))},l.__decorate([o.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleClick",null),l.__decorate([o.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),t}(i.default.Component);t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(3)),n=a(5),o=a(19),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={filteredItems:[],keywords:"",activeIndex:0},t}return l.__extends(t,e),t.prototype.componentDidMount=function(){this.syncRenderers()},t.prototype.componentDidUpdate=function(e){this.props.data.renderers!==e.data.renderers&&this.syncRenderers()},t.prototype.syncRenderers=function(e){void 0===e&&(e=this.state.keywords);var t=this.props.data.renderers.concat();if(e){var a=new RegExp(e,"i");t=t.filter((function(e){return["label","description","value.type"].some((function(t){return n.resolveVariable(t,e)&&a.test(n.resolveVariable(t,e))}))}))}this.setState({filteredItems:t})},t.prototype.handleSearch=function(e){this.setState({keywords:e},this.syncRenderers)},t.prototype.handleSeachCancel=function(){this.setState({keywords:""},this.syncRenderers)},t.prototype.handleLeftClick=function(e){var t=parseInt(e.currentTarget.getAttribute("data-index"),10);this.setState({activeIndex:t})},t.prototype.handleClick=function(e){var t=parseInt(e.currentTarget.getAttribute("data-index"),10),a=this.state.filteredItems[t];(0,this.props.onChange)(a.value)},t.prototype.hadnlDBClick=function(e){if(!e.defaultPrevented){var t=parseInt(e.currentTarget.getAttribute("data-index"),10),a=this.state.filteredItems[t];(0,this.props.onChange)(a.value,!0)}},t.prototype.renderRenderers=function(){var e=this,t=this.props.render,a=this.props.value,l=this.state.filteredItems,n={};l.forEach((function(e,t){var a;(null===(a=e.tags)||void 0===a?void 0:a.length)?e.tags.forEach((function(a){n[a]=n[a]||[],n[a].push({item:e,index:t})})):(n["其他"]=n["其他"]||[],n["其他"].push({item:e,index:t}))}));var o=Object.keys(n),r=o.indexOf("其他");~r&&(o.splice(r,1),o.push("其他")),o.unshift("全部");var s=0===this.state.activeIndex?l.map((function(e,t){return{item:e,index:t}})):n[o[this.state.activeIndex]];return i.default.createElement("div",{className:"ae-RenderersPicker-list"},i.default.createElement("ul",null,o.map((function(t,a){return i.default.createElement("li",{key:t,className:a===e.state.activeIndex?"is-active":""},i.default.createElement("a",{"data-index":a,onClick:e.handleLeftClick},t))}))),i.default.createElement("div",{className:"ae-RenderersPicker-content"},Array.isArray(s)&&s.length?i.default.createElement("ul",null,s.map((function(l){var n=l.item,o=l.index;return i.default.createElement("li",{className:a===n.value?"is-active":"",key:o,"data-index":o,onClick:e.handleClick,onDoubleClick:e.hadnlDBClick},t("thumb",{type:"ae-renderer-thumb",name:"previewSchema",columnClassName:"ae-Editor-rendererCol"},{data:n}),i.default.createElement("div",{className:"ae-RenderersPicker-info"},i.default.createElement("h4",null,n.label),i.default.createElement("div",null,n.description,n.docLink?i.default.createElement("a",{target:"_blank",href:n.docLink},"详情"):null)))}))):i.default.createElement("div",null,"没有可用组件，也许你该切换容器试试。")))},t.prototype.render=function(){return i.default.createElement("div",{className:"ae-RenderersPicker"},i.default.createElement(n.InputBox,{value:this.state.keywords,onChange:this.handleSearch,placeholder:"输入关键字可过滤组件",clearable:!1},this.state.keywords?i.default.createElement("a",{onClick:this.handleSeachCancel},i.default.createElement(n.Icon,{icon:"close",className:"icon"})):i.default.createElement(n.Icon,{icon:"search",className:"icon"})),this.renderRenderers())},l.__decorate([o.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"syncRenderers",null),l.__decorate([o.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[String]),l.__metadata("design:returntype",void 0)],t.prototype,"handleSearch",null),l.__decorate([o.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"handleSeachCancel",null),l.__decorate([o.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleLeftClick",null),l.__decorate([o.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleClick",null),l.__decorate([o.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object]),l.__metadata("design:returntype",void 0)],t.prototype,"hadnlDBClick",null),t}(i.default.Component);t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=l.__importDefault(a(3));a(24);var n=l.__importDefault(a(1)),o=l.__importDefault(a(13)),r=l.__importDefault(a(10)),s=a(4),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.getChildContext=function(){var t=e.prototype.getChildContext.call(this);return t.editor.isMini=!0,t},t.prototype.applyPatches=function(e){var t=this.getSchema();e.forEach((function(e){var a,i;if("update"===e.op)t=s.JSONUpdate(t,e.target,e.value);else if("replace"===e.op)t=s.JSONUpdate(t,e.target,e.value,!0);else if("delete"===e.op)t=s.JSONDelete(t,e.target);else if("push"===e.op){var n=(o=s.JSONGetById(t,e.target))[e.key];(n=Array.isArray(n)?n.concat():n?[n]:[]).push(e.value),o=l.__assign(l.__assign({},o),((a={})[e.key]=n,a)),t=s.JSONUpdate(t,e.target,o)}else if("splice"===e.op){var o;n=(o=s.JSONGetById(t,e.target))[e.key];(n=Array.isArray(n)?n.concat():n?[n]:[]).splice.apply(n,e.args),o=l.__assign(l.__assign({},o),((i={})[e.key]=n,i)),t=s.JSONUpdate(t,e.target,o)}})),this.handleChange(t)},t.prototype.handleKeyDown=function(e){},t.prototype.render=function(){var e=this.props,t=e.preview,a=e.pathPrefix,r=e.previewClassName,s=(e.onChange,e.value,e.className),p=e.previewProps,c=e.theme,d=e.isEditorEnabled,m=(e.onAccept,l.__rest(e,["preview","pathPrefix","previewClassName","onChange","value","className","previewProps","theme","isEditorEnabled","onAccept"])),u=this.state.value;return i.default.createElement("div",{className:o.default("ae-Editor",{preview:t},s),onContextMenu:this.handleContextMenu},i.default.createElement("div",{className:"ae-Editor-inner"},i.default.createElement(n.default,l.__assign({ref:this.previewRef,onResize:this.handlePreviewResize,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onClick:this.handleClick,editable:!t,getSchema:this.getSchema,schema:u,widgetsLayerRef:this.widgetsLayerRef,pathPrefix:a,className:r,theme:c,isEditorEnabled:d},m,p,{key:u.$$id}))))},t}(r.default);t.default=p}]));

});
